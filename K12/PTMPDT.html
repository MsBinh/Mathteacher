<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="utf-8"/>
<title>L·ªöP TO√ÅN TH·∫¶Y B√åNH </title>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<meta name="description" content="H·ªá th·ªëng d·∫°y h·ªçc To√°n tr·ª±c tuy·∫øn ƒë·∫ßy ƒë·ªß t√≠nh nƒÉng - L·ªõp To√°n Th·∫ßy B√¨nh">
<meta name="keywords" content="to√°n, h·ªçc tr·ª±c tuy·∫øn, l·ªõp 12, √¥n thi, firebase, real-time, canvas, b·∫£ng v·∫Ω">

<!-- Reveal.js CSS -->
<link href="https://unpkg.com/reveal.js/dist/reveal.css" rel="stylesheet"/>
<link href="https://unpkg.com/reveal.js/dist/theme/white.css" id="theme" rel="stylesheet"/>

<!-- Firebase SDK (Compat version for easier integration) -->
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>

<!-- Reveal.js & Plugins -->
<script src="https://unpkg.com/reveal.js/dist/reveal.js"></script>
<script src="https://unpkg.com/reveal.js/plugin/notes/notes.js"></script>
<script src="https://unpkg.com/reveal.js/plugin/markdown/markdown.js"></script>
<script src="https://unpkg.com/reveal.js/plugin/highlight/highlight.js"></script>
<script src="https://unpkg.com/reveal.js/plugin/math/math.js"></script>
<link href="https://unpkg.com/reveal.js/plugin/highlight/monokai.css" rel="stylesheet"/>

<!-- MathJax (Fixed Configuration) -->
<script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']]
      },
      svg: {
        fontCache: 'global'
      }
    };
</script>
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

<!-- Chart.js -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<style>
/* ===== CSS C∆† B·∫¢N ===== */
* {

    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    overflow: hidden;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #333;
}

/* ===== TOPBAR ƒê∆Ø·ª¢C T·ªêI ∆ØU ===== */
.topbar {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 70px;
    background: linear-gradient(135deg, #1a237e, #283593);
    color: white;
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 0 25px;
    z-index: 10000;
    box-shadow: 0 4px 20px rgba(0,0,0,0.15);
    border-bottom: 3px solid #3949ab;
}

.topbar-title {
    font-size: 1.4rem;
    font-weight: bold;
    white-space: nowrap;
    display: flex;
    align-items: center;
    gap: 10px;
}

.topbar-title::before {
    content: "üßÆ";
    font-size: 1.6rem;
}

.topbar-controls {
    display: flex;
    align-items: center;
    gap: 12px;
}

.topbar-controls select,
.topbar-controls button {
    padding: 8px 16px;
    border: none;
    border-radius: 8px;
    background: rgba(255,255,255,0.15);
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    border: 1px solid rgba(255,255,255,0.1);
}

.topbar-controls select:hover,
.topbar-controls button:hover {
    background: rgba(255,255,255,0.25);
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.2);
}

.topbar-controls select option {
    background: #283593;
    color: white;
}

/* ƒê·ªìng h·ªì */
.clock {
    font-family: 'Courier New', monospace;
    font-size: 1.2rem;
    background: rgba(255,255,255,0.2);
    padding: 8px 15px;
    border-radius: 10px;
    color: white;
    font-weight: bold;
    border: 1px solid rgba(255,255,255,0.1);
}

/* ===== REVEAL.JS SLIDES ===== */
.reveal {
    height: calc(100vh - 70px);
    margin-top: 70px;
    background: white;
    border-radius: 20px 20px 0 0;
    box-shadow: 0 -5px 30px rgba(0,0,0,0.1);
}

.reveal .slides {
    text-align: left;
    font-size: 1.8rem;
    color: #2c3e50;
}

.reveal .slides section {
    padding: 30px 40px;
    height: 100%;
    overflow-y: auto;
    background: white;
}

.reveal h2 {
    color: #1a237e;
    margin-bottom: 25px;
    border-bottom: 3px solid #1a237e;
    padding-bottom: 15px;
    font-weight: 700;
}

.reveal h3 {
    color: #3949ab;
    margin: 20px 0 15px 0;
    font-weight: 600;
}

.reveal p, .reveal li {
    color: #34495e;
    line-height: 1.6;
    margin-bottom: 15px;
}

.reveal ul, .reveal ol {
    margin-left: 30px;
    margin-bottom: 20px;
}

/* ===== C√ÇU H·ªéI ===== */
.question {
    margin: 25px 0;
    padding: 20px;
    background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%);
    border-radius: 15px;
    border-left: 6px solid #1a237e;
    color: #2c3e50;
    box-shadow: 0 4px 15px rgba(0,0,0,0.08);
    transition: transform 0.3s ease;
}

.question:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.12);
}

.question-title {
    margin-bottom: 20px;
    font-weight: 700;
    color: #1a237e;
    font-size: 1.1em;
    line-height: 1.5;
}

.option-row {
    margin: 12px 0;
    padding: 12px 15px;
    background: rgba(255,255,255,0.8);
    border-radius: 10px;
    color: #2c3e50;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.option-row:hover {
    background: rgba(255,255,255,1);
    border-color: #1a237e;
    transform: translateX(5px);
}

.option-row label {
    margin-left: 10px;
    cursor: pointer;
    font-weight: 500;
}

.option-row input[type="radio"] {
    transform: scale(1.2);
    margin-right: 8px;
}

.answer-check {
    margin-top: 20px;
    display: flex;
    align-items: center;
    gap: 15px;
    flex-wrap: wrap;
}

.answer-check input {
    padding: 12px 15px;
    border: 2px solid #ddd;
    border-radius: 10px;
    background: white;
    color: #2c3e50;
    width: 250px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.answer-check input:focus {
    outline: none;
    border-color: #1a237e;
    box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
}

.answer-check button {
    padding: 12px 25px;
    background: linear-gradient(135deg, #1a237e, #3949ab);
    color: white;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
}

.answer-check button:hover {
    background: linear-gradient(135deg, #3949ab, #1a237e);
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(26, 35, 126, 0.3);
}

/* === SLIDE MENU === */
.slide-menu {
    position: fixed;
    top: 0;
    left: -400px;
    width: 400px;
    height: 100vh;
    background: linear-gradient(135deg, #1a237e 0%, #283593 100%);
    z-index: 11000;
    transition: left 0.4s ease;
    box-shadow: 5px 0 25px rgba(0,0,0,0.3);
    color: white;
}

.slide-menu.active {
    left: 0;
}

.menu-header {
    padding: 25px;
    background: rgba(0,0,0,0.2);
    color: white;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 2px solid rgba(255,255,255,0.1);
}

.menu-header h3 {
    color: white;
    margin: 0;
    font-size: 1.4rem;
    display: flex;
    align-items: center;
    gap: 10px;
}

.close-btn {
    background: none;
    border: none;
    color: white;
    font-size: 2rem;
    cursor: pointer;
    padding: 5px;
    border-radius: 50%;
    transition: background 0.3s ease;
}

.close-btn:hover {
    background: rgba(255,255,255,0.1);
}

.menu-content {
    padding: 20px;
    height: calc(100% - 80px);
    overflow-y: auto;
}

.slide-item {
    padding: 15px 20px;
    margin-bottom: 10px;
    background: rgba(255,255,255,0.1);
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    color: white;
    border: 1px solid rgba(255,255,255,0.1);
}

.slide-item:hover {
    background: rgba(255,255,255,0.2);
    transform: translateX(10px);
}

.slide-item.active {
    background: rgba(255,255,255,0.25);
    border-left: 5px solid #ffd54f;
    font-weight: 600;
}

.slide-number {
    display: inline-block;
    width: 35px;
    height: 35px;
    text-align: center;
    line-height: 35px;
    margin-right: 15px;
    background: rgba(255,255,255,0.2);
    border-radius: 50%;
    font-weight: bold;
}

.menu-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0,0,0,0.6);
    z-index: 10500;
    display: none;
    backdrop-filter: blur(5px);
}

.menu-overlay.active {
    display: block;
}

/* === CANVAS V·∫º === */
#drawCanvas {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: 9000;
    display: none;
    pointer-events: none; /* kh√¥ng ch·∫∑n b·∫•m slide */
    background: transparent; /* trong su·ªët ƒë·ªÉ th·∫•y n·ªôi dung */
}


.toolbar {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0,0,0,0.9);
    padding: 15px 25px;
    border-radius: 15px;
    display: none;
    align-items: center;
    gap: 15px;
    z-index: 9100;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.1);
}

.toolbar select,
.toolbar input,
.toolbar button {
    padding: 8px 15px;
    border: none;
    border-radius: 8px;
    background: white;
    color: #333;
    cursor: pointer;
    font-weight: 500;
    transition: all 0.3s ease;
}

.toolbar select:hover,
.toolbar input:hover,
.toolbar button:hover {
    background: #f0f0f0;
    transform: translateY(-2px);
}

.toolbar input[type="color"] {
    padding: 4px;
    height: 40px;
    width: 60px;
}

.toolbar input[type="range"] {
    width: 100px;
}

/* ===== MODAL SYSTEM C·∫¢I TI·∫æN ===== */
.modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    z-index: 12000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.modal.active {
    display: flex;
}

.modal-content {
    background: white;
    color: #333;
    padding: 30px;
    border-radius: 20px;
    width: 90%;
    max-width: 500px;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
    border: 1px solid rgba(255,255,255,0.2);
    animation: modalAppear 0.4s ease;
    position: relative;
    max-height: 90vh;
    overflow-y: auto;
}

.modal-content-scrollable {
    max-width: 900px;
    display: flex;
    flex-direction: column;
    max-height: 85vh;
    overflow-y: hidden; 
}

.modal-content-scrollable .table-container {
    flex: 1;
    min-height: 150px;
}

.modal-close {
    position: absolute;
    top: 15px;
    right: 15px;
    background: none;
    border: none;
    font-size: 1.5rem;
    cursor: pointer;
    color: #666;
    width: 35px;
    height: 35px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.3s ease;
}

.modal-close:hover {
    background: #f0f0f0;
    color: #333;
}

@keyframes modalAppear {
    from {
        opacity: 0;
        transform: scale(0.8) translateY(-50px);
    }
    to {
        opacity: 1;
        transform: scale(1) translateY(0);
    }
}

.modal-content h3 {
    color: #1a237e;
    margin-bottom: 20px;
    text-align: center;
    font-size: 1.5rem;
    padding-right: 30px;
}

.modal-content input {
    width: 100%;
    padding: 15px;
    margin: 10px 0;
    border: 2px solid #e0e0e0;
    border-radius: 10px;
    font-size: 1rem;
    transition: border-color 0.3s ease;
}

.modal-content input:focus {
    outline: none;
    border-color: #1a237e;
}

.modal-content button {
    padding: 12px 25px;
    margin: 5px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
}

.modal-content button[type="submit"] {
    background: linear-gradient(135deg, #1a237e, #3949ab);
    color: white;
}

.modal-content button[type="submit"]:hover {
    background: linear-gradient(135deg, #3949ab, #1a237e);
    transform: translateY(-2px);
}

/* ===== TEACHER MONITOR ===== */
#teacher-monitor {
    display: none;
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 25px 80px rgba(0,0,0,0.3);
    z-index: 20000;
    width: 95vw;
    height: 85vh;
    overflow: auto;
    color: #333;
    border: 1px solid rgba(255,255,255,0.2);
}

/* ===== B·∫¢NG ƒê·∫∏P V·ªöI STICKY HEADER ===== */
.table-container {
    max-height: 60vh;
    overflow-y: auto;
    border-radius: 15px;
    border: 2px solid #f0f0f0;
    position: relative;
}

/* Custom scrollbar ƒë·∫πp */
.table-container::-webkit-scrollbar {
    width: 8px;
}

.table-container::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

.table-container::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 10px;
}

.table-container::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}

table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
}

th, td {
    padding: 15px;
    border: 1px solid #e0e0e0;
    text-align: left;
    color: #333;
}

th {
    background: linear-gradient(135deg, #1a237e, #3949ab);
    color: white;
    position: sticky;
    top: 0;
    font-weight: 600;
    z-index: 10;
}

tr:nth-child(even) {
    background: #f8f9ff;
}

tr:hover {
    background: #e8eaff;
    transform: scale(1.01);
    transition: all 0.2s ease;
}

/* ===== RESPONSIVE ===== */
@media (max-width: 768px) {
    .topbar {
        padding: 0 10px;
        height: auto;
        flex-direction: column;
    }
    .topbar-title {
        font-size: 1.1rem;
        padding: 5px 0;
    }
    .topbar-controls {
        gap: 5px;
        flex-wrap: wrap;
        justify-content: center;
    }
    .topbar-controls button, .topbar-controls select {
        padding: 6px 10px;
        font-size: 0.85rem;
    }
    .reveal {
        margin-top: 110px;
        height: calc(100vh - 110px);
    }
    .slide-menu { width: 300px; left: -300px; }
    .reveal .slides { font-size: 1.5rem; }
    .reveal .slides section { padding: 20px; }
    .modal-content {
        padding: 20px;
        width: 95%;
    }
    .modal-content-scrollable {
        max-width: 95%;
    }
}

/* N√∫t t∆∞∆°ng t√°c h·ªçc sinh */
#studentInteractBtn {
    display: none;
}

/* Teacher controls */
#teacher-controls {
    display: none;
    position: fixed;
    top: 80px;
    right: 30px;
    z-index: 22000;
    gap: 10px;
    flex-direction: column;
    background: rgba(255,255,255,0.95);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
}

#teacher-controls button {
    padding: 12px 20px;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    font-size: 0.95rem;
    font-weight: 600;
    transition: all 0.3s ease;
}

#create-session-btn {
    background: linear-gradient(135deg, #17a2b8, #138496);
    color: #fff;
}

#start-poll-btn {
    background: linear-gradient(135deg, #ffc107, #e0a800);
    color: #000;
}

#view-poll-results-btn {
    background: linear-gradient(135deg, #6f42c1, #5a2d91);
    color: #fff;
}

#teacher-controls button:hover {
    transform: translateY(-3px);
    box-shadow: 0 6px 20px rgba(0,0,0,0.2);
}

/* Firebase status indicator */
.firebase-status {
    position: fixed;
    top: 75px;
    right: 15px;
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.85rem;
    z-index: 10001;
    font-weight: 600;
    backdrop-filter: blur(10px);
    border: 1px solid rgba(255,255,255,0.2);
}

.firebase-connected {
    background: rgba(40, 167, 69, 0.9);
    color: white;
}

.firebase-disconnected {
    background: rgba(220, 53, 69, 0.9);
    color: white;
}

/* Poll options */
.poll-option {
    padding: 15px;
    margin: 10px 0;
    background: #f8f9fa;
    border-radius: 10px;
    cursor: pointer;
    transition: all 0.3s ease;
    border: 2px solid transparent;
}

.poll-option:hover {
    background: #e9ecef;
    transform: translateX(10px);
}

.poll-option.selected {
    background: linear-gradient(135deg, #007bff, #0056b3);
    color: white;
    border-color: #0056b3;
    transform: translateX(15px);
}

/* Status indicators */
.status-active, .status-finished, .status-not-started {
    padding: 8px 15px;
    border-radius: 20px;
    font-size: 0.8rem;
    font-weight: 600;
    border: 1px solid transparent;
}
.status-active {
    background: linear-gradient(135deg, #d4edda, #c3e6cb);
    color: #155724;
    border-color: #c3e6cb;
}
.status-finished {
    background: linear-gradient(135deg, #cce5ff, #b8daff);
    color: #004085;
    border-color: #b8daff;
}
.status-not-started {
    background: linear-gradient(135deg, #f8d7da, #f5c6cb);
    color: #721c24;
    border-color: #f5c6cb;
}

/* Solution Box */
.solution-box {
    background: linear-gradient(135deg, #e3f2fd, #bbdefb);
    border-left: 6px solid #1976d2;
    padding: 20px;
    margin: 20px 0;
    border-radius: 10px;
    box-shadow: 0 4px 15px rgba(25, 118, 210, 0.1);
}

.solution-title {
    color: #1976d2;
    font-weight: 700;
    margin-bottom: 15px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.solution-title::before {
    content: "üí°";
    font-size: 1.2em;
}

.solution-content {
    color: #1565c0;
    line-height: 1.6;
}

/* Progress bar */
.progress-bar {
    width: 100%;
    height: 8px;
    background: #e0e0e0;
    border-radius: 10px;
    margin: 20px 0;
    overflow: hidden;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(135deg, #1a237e, #3949ab);
    border-radius: 10px;
    transition: width 0.5s ease;
}

/* Loading spinner */
.loading-spinner {
    display: inline-block;
    width: 20px;
    height: 20px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #1a237e;
    border-radius: 50%;
    animation: spin 1s linear infinite;
}

@keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
}

/* Notification system */
.notification {
    position: fixed;
    top: 80px;
    right: 20px;
    padding: 15px 25px;
    border-radius: 10px;
    color: white;
    font-weight: 600;
    z-index: 100000;
    box-shadow: 0 5px 20px rgba(0,0,0,0.2);
    transform: translateX(400px);
    transition: transform 0.4s ease;
}

.notification.show {
    transform: translateX(0);
}

.notification.success {
    background: linear-gradient(135deg, #28a745, #20c997);
}

.notification.error {
    background: linear-gradient(135deg, #dc3545, #c82333);
}

.notification.warning {
    background: linear-gradient(135deg, #ffc107, #e0a800);
    color: #000;
}

.notification.info {
    background: linear-gradient(135deg, #17a2b8, #138496);
}

/* CSS cho icon ƒë√°p √°n */
.option-icon {
    margin-left: 10px;
    font-weight: bold;
    font-size: 1.1em;
    min-width: 20px;
    display: inline-block;
}

.option-row {
    display: flex;
    align-items: center;
    margin: 12px 0;
    padding: 12px 15px;
    background: rgba(255,255,255,0.8);
    border-radius: 10px;
    color: #2c3e50;
    border: 2px solid transparent;
    transition: all 0.3s ease;
}

.option-row:hover {
    background: rgba(255,255,255,1);
    border-color: #1a237e;
    transform: translateX(5px);
}

.option-row label {
    margin-left: 10px;
    cursor: pointer;
    font-weight: 500;
    flex: 1;
}

.option-row input[type="radio"] {
    transform: scale(1.2);
    margin-right: 8px;
    cursor: pointer;
}

/* Confirm Modal */
.confirm-modal {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.7);
    z-index: 13000;
    align-items: center;
    justify-content: center;
    backdrop-filter: blur(10px);
}

.confirm-modal.active {
    display: flex;
}

.confirm-content {
    background: white;
    padding: 30px;
    border-radius: 15px;
    max-width: 400px;
    text-align: center;
    box-shadow: 0 20px 60px rgba(0,0,0,0.3);
}

.confirm-content h3 {
    color: #1a237e;
    margin-bottom: 15px;
}

.confirm-buttons {
    display: flex;
    gap: 15px;
    justify-content: center;
    margin-top: 20px;
}

.confirm-buttons button {
    padding: 10px 20px;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
    transition: all 0.3s ease;
}

.confirm-yes {
    background: #dc3545;
    color: white;
}

.confirm-no {
    background: #6c757d;
    color: white;
}

.confirm-yes:hover {
    background: #c82333;
    transform: translateY(-2px);
}

.confirm-no:hover {
    background: #5a6268;
    transform: translateY(-2px);
}
/* ===== S·ª¨A L·ªñI GIAO DI·ªÜN DANH S√ÅCH H·ªåC SINH ===== */
#class-management-modal .modal-content-scrollable {
    max-height: 85vh !important;
    overflow-y: auto !important;
}

#class-management-modal .table-container {
    max-height: 400px !important;
    overflow-y: auto !important;
}

/* ƒê·∫£m b·∫£o modal kh√¥ng b·ªã che */
.modal-content {
    z-index: 12001 !important;
}

.modal {
    z-index: 12000 !important;
}

/* S·ª≠a l·ªói sticky header */
.table-container thead th {
    position: sticky !important;
    top: 0 !important;
    z-index: 10 !important;
}

/* ƒê·∫£m b·∫£o n·ªôi dung hi·ªÉn th·ªã ƒë·∫ßy ƒë·ªß */
#students-list-body tr {
    height: auto !important;
    min-height: 60px !important;
}

#students-list-body td {
    padding: 12px 8px !important;
    vertical-align: middle !important;
}

/* Responsive cho mobile */
@media (max-width: 768px) {
    #class-management-modal .modal-content-scrollable {
        max-height: 90vh !important;
        padding: 15px !important;
    }
    
    #class-management-modal .table-container {
        max-height: 300px !important;
        font-size: 12px !important;
    }
    
    #students-list-body td {
        padding: 8px 4px !important;
        font-size: 11px !important;
    }
    
    #students-list-body button {
        padding: 4px 8px !important;
        font-size: 10px !important;
        margin: 1px !important;
    }
}

/* Scrollbar t√πy ch·ªânh */
#class-management-modal .modal-content-scrollable::-webkit-scrollbar {
    width: 8px;
}

#class-management-modal .modal-content-scrollable::-webkit-scrollbar-track {
    background: #f1f1f1;
    border-radius: 10px;
}

#class-management-modal .modal-content-scrollable::-webkit-scrollbar-thumb {
    background: #c1c1c1;
    border-radius: 10px;
}

#class-management-modal .modal-content-scrollable::-webkit-scrollbar-thumb:hover {
    background: #a8a8a8;
}
#teacherMonitorBtn {
    display: none !important;
}
.poll-class-item:hover {
    background: #e3f2fd !important;
    border-color: #2196f3 !important;
    transform: translateY(-2px);
}

.table-container {
    max-height: 300px;
    overflow-y: auto;
    border: 1px solid #e0e0e0;
    border-radius: 8px;
}
.interaction-item:hover {
    background: #e3f2fd !important;
    transform: translateY(-2px);
    transition: all 0.3s ease;
}

.class-interactions-section {
    background: white;
    padding: 15px;
    border-radius: 10px;
    border: 1px solid #e0e0e0;
}
/* ===== DARK MODE ===== */
.dark-mode body,
.dark-mode .reveal,
.dark-mode .reveal .slides section {
    background: #000 !important;
    color: #fff !important;
}

.dark-mode .reveal h1,
.dark-mode .reveal h2,
.dark-mode .reveal h3,
.dark-mode .reveal p,
.dark-mode .reveal li,
.dark-mode .reveal strong {
    color: #fff !important;
    font-weight: 700 !important;
}

.dark-mode .question {
    background: rgba(20, 20, 20, 0.9) !important;
    color: #fff !important;
    border-left: 6px solid #00bcd4 !important;
}

.dark-mode .solution-box {
    background: rgba(33, 33, 33, 0.9) !important;
    color: #e0e0e0 !important;
    border-left: 6px solid #4caf50 !important;
}

.dark-mode .option-row {
    background: rgba(40,40,40,0.9) !important;
    color: #fff !important;
    border: 1px solid #555 !important;
}

.dark-mode .option-row:hover {
    background: rgba(80,80,80,1) !important;
}

.dark-mode .topbar {
    background: linear-gradient(135deg, #000, #333) !important;
}

.dark-mode .topbar-controls button {
    background: rgba(255,255,255,0.15) !important;
    color: #fff !important;
}

.dark-mode .slide-menu {
    background: #111 !important;
}

.dark-mode img {
    filter: brightness(0.8) contrast(1.2);
}

.dark-mode .MathJax {
    color: #fff !important;
}

.dark-mode #toggleStyleBtn {
    background: linear-gradient(135deg, #4caf50, #2e7d32) !important;
    color: #fff !important;
}

</style>
<style>
/* CSS cho T·∫§T C·∫¢ c√°c b·∫£ng trong ƒë·ªÅ thi - KH√îNG C·∫¶N ƒê·ªîI CODE */
.reveal .slides section table {
    width: 100%;
    border-collapse: collapse;
    margin: 20px 0;
    font-size: 1.2em;
    font-weight: bold;
    background: #000 !important;
    color: #fff !important;
    border-radius: 10px;
    overflow: hidden;
    box-shadow: 0 8px 25px rgba(0,0,0,0.3);
}

.reveal .slides section table th {
    background: linear-gradient(135deg, #1a237e, #3949ab) !important;
    color: #fff !important;
    padding: 15px 12px !important;
    text-align: center;
    font-size: 1.1em;
    font-weight: 700;
    border: 2px solid #3949ab !important;
    text-transform: uppercase;
    letter-spacing: 1px;
}

.reveal .slides section table td {
    padding: 14px 12px !important;
    text-align: center;
    border: 2px solid #333 !important;
    background: #111 !important;
    color: #fff !important;
    font-weight: bold;
    transition: all 0.3s ease;
}

.reveal .slides section table tr:hover td {
    background: #222 !important;
    transform: scale(1.02);
}

.reveal .slides section table tr:nth-child(even) td {
    background: #1a1a1a !important;
}

.reveal .slides section table tr:nth-child(even):hover td {
    background: #2a2a2a !important;
}

/* ƒê·∫£m b·∫£o override m·ªçi inline style */
.reveal .slides section table[style*="border-collapse"],
.reveal .slides section table[style*="width"],
.reveal .slides section table[style*="margin"] {
    background: #000 !important;
    color: #fff !important;
    font-size: 1.2em !important;
    font-weight: bold !important;
}

.reveal .slides section table th[style*="border"],
.reveal .slides section table td[style*="border"] {
    border: 2px solid #333 !important;
    background: #111 !important;
    color: #fff !important;
}

/* Responsive */
@media (max-width: 768px) {
    .reveal .slides section table {
        font-size: 1em !important;
    }
}
/* Fullscreen Button */
#fullscreenBtn {
    padding: 8px 16px;
    border: none;
    border-radius: 8px;
    background: rgba(255,255,255,0.15);
    color: white;
    cursor: pointer;
    transition: all 0.3s ease;
    font-weight: 500;
    border: 1px solid rgba(255,255,255,0.1);
}

#fullscreenBtn:hover {
    background: rgba(255,255,255,0.25);
    transform: translateY(-2px);
}

/* Fullscreen mode */
body:fullscreen .topbar,
body:-webkit-full-screen .topbar,
body:-moz-full-screen .topbar,
body:-ms-fullscreen .topbar {
    display: none;
}

body:fullscreen .reveal,
body:-webkit-full-screen .reveal,
body:-moz-full-screen .reveal,
body:-ms-fullscreen .reveal {
    margin-top: 0;
    height: 100vh;
    border-radius: 0;
}

.answer-check input[type="text"]::placeholder {
    opacity: 0 !important;
    visibility: hidden !important;
}
/* ·∫®N HO√ÄN TO√ÄN T·∫§T C·∫¢ L·ªúI GI·∫¢I KHI M·ªû TRANG */
/*.solution-box {
    display: none !important;
}
/* === FIX ƒêI·ªÜN THO·∫†I === */
@media (max-width: 768px) {
    .reveal .slides section {
        padding: 15px !important;
        height: auto !important;
        min-height: calc(100vh - 120px) !important;
        overflow-y: auto !important;
        -webkit-overflow-scrolling: touch !important;
    }
    
    .question {
        margin: 15px 0 !important;
        padding: 15px !important;
    }
    
    .reveal .slides {
        font-size: 1.4rem !important;
        height: auto !important;
    }
    
    /* Cho ph√©p cu·ªôn n·ªôi dung d√†i */
    .question-title, .solution-content {
        word-wrap: break-word !important;
        overflow-wrap: break-word !important;
    }
    
    /* ƒê·∫£m b·∫£o input kh√¥ng b·ªã zoom */
    input[type="text"], input[type="email"] {
        font-size: 16px !important;
    }
}
/* Gi·∫£i ph√°p ƒë∆°n gi·∫£n nh·∫•t - ch·ªâ c·∫ßn th√™m ƒëo·∫°n CSS n√†y */
.option-row {
    display: flex;
    flex-wrap: wrap;
    justify-content: space-between;
    align-items: flex-start;
    gap: 10px;
    margin-bottom: 12px;
    padding: 15px;
    background: #f8f9fa;
    border-radius: 10px;
    border-left: 4px solid #17a2b8;
    line-height: 1.6;
}

.option-row label {
    display: flex;
    align-items: center;
    gap: 8px;
    background: white;
    padding: 8px 15px;
    border-radius: 6px;
    border: 1px solid #dee2e6;
    white-space: nowrap;
    margin-left: 10px;
}

/* Responsive */
@media (max-width: 768px) {
    .option-row {
        flex-direction: column;
    }
    
    .option-row label {
        align-self: flex-start;
        margin-left: 0;
        margin-top: 10px;
    }
}

/* Th√™m hi·ªáu ·ª©ng ƒë·∫πp */
.option-row:hover {
    background: #e9ecef;
    transform: translateY(-1px);
    transition: all 0.3s ease;
}

.option-row label:hover {
    background: #f8f9fa;
    border-color: #17a2b8;
}

</style>

</head>
<body>
<!-- ===== Thanh ti√™u ƒë·ªÅ c·ªë ƒë·ªãnh ===== -->
<div class="topbar">
    <div class="topbar-title">L·ªöP TO√ÅN TH·∫¶Y B√åNH</div>
  
    <div class="topbar-controls">
        <button id="slideMenuBtn">üìã DS Slide</button>
        <select id="selectExam">
            <option value="mm">-- Ch·ªçn ƒë·ªÅ --</option>
            <option value="CK101.html">ƒê·ªÅ 1:  HK1</option>
            <option value="CK102.html">ƒê·ªÅ 2:HK1</option>
            <option value="CK103.html">ƒê·ªÅ 3: HK1</option>
            <option value="CK104.html">ƒê·ªÅ 4: HK1</option>
            <option value="CK105.html">ƒê·ªÅ 5: HK1</option>
        </select>
        <button id="studentInteractBtn">üéÆ T∆∞∆°ng t√°c</button>
        <button id="teacherMonitorBtn">üëÅÔ∏è Theo d√µi</button>
        <button id="loginBtn">üîë ƒêƒÉng nh·∫≠p</button>
        <button id="scoreBtn">üìä T√≠nh ƒëi·ªÉm</button>
        <button id="toggleMenu">‚úèÔ∏è B·∫£ng v·∫Ω</button>
        <button id="classManagementBtn">üè´ Qu·∫£n l√Ω L·ªõp</button>
        <button id="toggleStyleBtn">üåô Ch·∫ø ƒë·ªô t·ªëi</button>
        <button id="fullscreenBtn">üì∫ Fullscreen</button>

       
    </div>
</div>

<!-- Firebase Status Indicator -->
<div id="firebaseStatus" class="firebase-status firebase-disconnected">
    <span class="loading-spinner"></span> ƒêang k·∫øt n·ªëi...
</div>

<!-- Notification System -->
<div id="notification" class="notification"></div>

<div class="reveal">
<div class="slides">
<!-------------B·∫ÆT ƒê·∫¶U N·ªòI DUNG C√ÅC SLIDE-->
<!-- SLIDE CH√ÄO M·ª™NG -->
<section data-background="linear-gradient(135deg, #667eea 0%, #764ba2 100%)" style="color: white;">
    <h1 style="color: white; border: none; font-size: 3em;">üßÆ L·ªöP TO√ÅN TH·∫¶Y B√åNH</h1>
    <h3 style="color: white;">H·ªá Th·ªëng D·∫°y H·ªçc Tr·ª±c Tuy·∫øn To√†n Di·ªán</h3>
    <div style="margin-top: 50px;">
        <p>üìç <strong>KI·ªÇM TRA cu·ªëi K·ª≤ I:</strong> M√¥n To√°n L·ªõp 10</p>
        <p>‚è∞ <strong>Th·ªùi gian:</strong> 90 ph√∫t</p>
    </div>
    <div style="margin-top: 30px; padding: 20px; background: rgba(255,255,255,0.1); border-radius: 15px;">
        <p>üéØ <strong>L√†m online:</strong> ƒêƒÉng nh·∫≠p  b·∫Øt ƒë·∫ßu l√†m b√†i, t√≠nh ƒëi·ªÉm!</p>
    </div>
</section>
<!--@@ -->
<!-- SLIDE T√ìM T·∫ÆT C√îNG TH·ª®C TH·ªêNG K√ä -->
<section>
<div class="question" id="q1">
    <p class="question-title"><strong>C√¢u 1.</strong> Trong kh√¥ng gian $Oxyz$, cho ƒëi·ªÉm $A(1;2;5)$ v√† m·∫∑t ph·∫≥ng $(\alpha) : x + 2y+2z - 6 = 0$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) V√©c t∆° $\vec{n} = (1;2;2)$ l√† m·ªôt vect∆° ph√°p tuy·∫øn c·ªßa $(\alpha)$.
            <label><input name="q1a" type="radio" value='True'/> True</label>
            <label><input name="q1a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(\beta)$ ƒëi qua ƒëi·ªÉm $A$ v√† song song v·ªõi m·∫∑t ph·∫≥ng $(\alpha)$ c√≥ ph∆∞∆°ng tr√¨nh $x+2y+2z+15 = 0$
            <label><input name="q1b" type="radio" value='True'/> True</label>
            <label><input name="q1b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(\gamma)$ ƒëi qua hai ƒëi·ªÉm $O$ v√† $A$ ƒë·ªìng th·ªùi vu√¥ng g√≥c v·ªõi m·∫∑t ph·∫≥ng $(\alpha)$ c√≥ ph∆∞∆°ng tr√¨nh $2x - y = 0$.
            <label><input name="q1c" type="radio" value='True'/> True</label>
            <label><input name="q1c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) ƒêi·ªÉm $M \in (\alpha)$ sao cho $A,O,M$ th·∫≥ng h√†ng th√¨ t·ªça ƒë·ªô $M\left(\frac{2}{5};\frac{4}{5};2\right)$.
            <label><input name="q1d" type="radio" value='True'/> True</label>
            <label><input name="q1d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q1',[\"True\",\"False\",\"True\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q1"></span>
    </div>
    <button onclick="toggleSolution('q1')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q1" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 1</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Theo ƒë·ªãnh nghƒ©a vect∆° $\vec{n}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q2">
    <p class="question-title"><strong>C√¢u 2.</strong> Trong kh√¥ng gian v·ªõi h·ªá tr·ª•c to·∫° ƒë·ªô $Oxyz$, cho ba ƒëi·ªÉm $A(1;2;-2); B(2;1;2);C(3;-2;1)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(P)$ ƒëi qua ba ƒëi·ªÉm $A,B,C$ c√≥ m·ªôt vect∆° ph√°p tuy·∫øn l√† $\vec{n} = [\vec{AB}, \vec{AC}]$
            <label><input name="q2a" type="radio" value='True'/> True</label>
            <label><input name="q2a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(P)$ l√† $13x + 5y - 2z+ 27 = 0$.
            <label><input name="q2b" type="radio" value='True'/> True</label>
            <label><input name="q2b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng ƒëi qua ƒëi·ªÉm $A(1;2;-2)$ v√† nh·∫≠n $\vec{BC}$ l√†m v√©c t∆° ph√°p tuy·∫øn c√≥ d·∫°ng: $1(x+1)x-3( y + 2) - 1(z - 2) = 0$.
            <label><input name="q2c" type="radio" value='True'/> True</label>
            <label><input name="q2c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng ƒëi qua ba ƒëi·ªÉm $E;F;K$ l·∫ßn l∆∞·ª£t l√† h√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa $A$ l√™n tr·ª•c $Ox, Oy, Oz$ c√≥ ph∆∞∆°ng tr√¨nh $\frac{x}{1} + \frac{y}{2} + \frac{z}{-2} = 1$.
            <label><input name="q2d" type="radio" value='True'/> True</label>
            <label><input name="q2d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q2',[\"True\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q2"></span>
    </div>
    <button onclick="toggleSolution('q2')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q2" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 2</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: V√¨ $\begin{cases}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q3">
    <p class="question-title"><strong>C√¢u 3.</strong> Trong kh√¥ng gian $Oxyz$, cho b·ªën ƒëi·ªÉm $A(1;2;1), B(-2;1;3), C(2;-1;1)$ v√† $D(0;3;1)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(ABC)$ l√† $3x + y + 5z -10 = 0$.
            <label><input name="q3a" type="radio" value='True'/> True</label>
            <label><input name="q3a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) B·ªën ƒëi·ªÉm $A,B,C,D$ t·∫°o th√†nh t·ª© di·ªán.
            <label><input name="q3b" type="radio" value='True'/> True</label>
            <label><input name="q3b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng $(P)$ ch·ª©a $AB$ v√† song song v·ªõi $CD$ c√≥ m·ªôt vect∆° ph√°p tuy·∫øn l√† $\vec{a} = (4;-2;7)$.
            <label><input name="q3c" type="radio" value='True'/> True</label>
            <label><input name="q3c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) C√≥ 2 m·∫∑t ph·∫≥ng ƒëi qua 2 ƒëi·ªÉm $A,B$ sao cho kho·∫£ng c√°ch t·ª´ $C$ v√† $D$ ƒë·∫øn m·∫∑t ph·∫≥ng ƒë√≥ b·∫±ng nhau v√† 2 m·∫∑t ph·∫≥ng n√†y ƒë·ªÅu ƒëi qua ƒëi·ªÉm $M (1;2;1)$.
            <label><input name="q3d" type="radio" value='True'/> True</label>
            <label><input name="q3d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q3',[\"True\",\"True\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q3"></span>
    </div>
    <button onclick="toggleSolution('q3')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q3" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 3</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Ta c√≥ $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q4">
    <p class="question-title"><strong>C√¢u 4.</strong> Trong kh√¥ng gian $Oxyz$, cho $A(2;0;0), B(0;2;0), C(0;0;3)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·ªôt vect∆° ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(ABC)$ l√† $\vec{n} = (3;3;2)$.
            <label><input name="q4a" type="radio" value='True'/> True</label>
            <label><input name="q4a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng ƒëi qua $C$ v√† vu√¥ng g√≥c v·ªõi ƒë∆∞·ªùng th·∫≥ng $AB$ c√≥ ph∆∞∆°ng tr√¨nh l√† $x - y = 0$.
            <label><input name="q4b" type="radio" value='True'/> True</label>
            <label><input name="q4b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng ch·ª©a ƒë∆∞·ªùng th·∫≥ng $AB$ v√† vu√¥ng g√≥c v·ªõi $(ABC)$ c√≥ ph∆∞∆°ng tr√¨nh l√†: $x+y-3z+2= 0$.
            <label><input name="q4c" type="radio" value='True'/> True</label>
            <label><input name="q4c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) G·ªçi $M (a;b;c) \in (Oyz)$ sao cho $MA + MB + MC$ nh·ªè nh·∫•t th√¨ khi ƒë√≥ $3(a+b)+c = 5$.
            <label><input name="q4d" type="radio" value='True'/> True</label>
            <label><input name="q4d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q4',[\"True\",\"True\",\"False\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q4"></span>
    </div>
    <button onclick="toggleSolution('q4')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q4" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 4</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(ABC):\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q5">
    <p class="question-title"><strong>C√¢u 5.</strong> Trong kh√¥ng gian v·ªõi h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$, cho m·∫∑t ph·∫≥ng $(P):(4-a)x-(a + 3) y + z + 1 = 0$ v√† m·∫∑t ph·∫≥ng $(Q): 3x ‚Äì 4y + z + 3 = 0$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·∫∑t ph·∫≥ng $(P)$ v√† m·∫∑t ph·∫≥ng $(Q)$ song song v·ªõi nhau khi $a = 1$.
            <label><input name="q5a" type="radio" value='True'/> True</label>
            <label><input name="q5a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng $(P)$ v√† m·∫∑t ph·∫≥ng $(Q)$ vu√¥ng g√≥c v·ªõi nhau khi $a = 2$.
            <label><input name="q5b" type="radio" value='True'/> True</label>
            <label><input name="q5b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Kh√¥ng c√≥ gi√° tr·ªã n√†o c·ªßa $a$ ƒë·ªÉ hai m·∫∑t ph·∫≥ng tr√™n tr√πng nhau.
            <label><input name="q5c" type="radio" value='True'/> True</label>
            <label><input name="q5c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng vu√¥ng g√≥c v·ªõi c·∫£ hai m·∫∑t ph·∫≥ng tr√™n c√≥ vect∆° ph√°p tuy·∫øn l√† $\vec{n} = (1;-1;-7)$.
            <label><input name="q5d" type="radio" value='True'/> True</label>
            <label><input name="q5d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q5',[\"True\",\"False\",\"True\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q5"></span>
    </div>
    <button onclick="toggleSolution('q5')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q5" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 5</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Khi $a = 1$ ta c√≥ $\vec{n_P}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q6">
    <p class="question-title"><strong>C√¢u 6.</strong> Trong kh√¥ng gian $Oxyz$ cho ba ƒëi·ªÉm $A(3;5;-1)$, $B(7;x;1)$, $C(9;2;y)$, $D(-1;2;3)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) To·∫° ƒë·ªô ƒëi·ªÉm $M$ trung ƒëi·ªÉm c·ªßa ƒëo·∫°n $AD$ l√† $(1;7;1)$.
            <label><input name="q6a" type="radio" value='True'/> True</label>
            <label><input name="q6a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) To·∫° ƒë·ªô ƒëi·ªÉm $E$ ƒë·ªÉ t·ª© gi√°c $OADE$ l√† h√¨nh b√¨nh h√†nh l√† $(-4;-3;4)$.
            <label><input name="q6b" type="radio" value='True'/> True</label>
            <label><input name="q6b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) To·∫° ƒë·ªô ƒëi·ªÉm $C$ ƒë·ªÉ tam gi√°c $ACD$ vu√¥ng t·∫°i $A$ l√† $(9;2;11)$.
            <label><input name="q6c" type="radio" value='True'/> True</label>
            <label><input name="q6c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) ƒê·ªÉ ba ƒëi·ªÉm $A, B, C$ th·∫≥ng h√†ng th√¨ gi√° tr·ªã c·ªßa bi·ªÉu th·ª©c $x + y$ b·∫±ng $5$.
            <label><input name="q6d" type="radio" value='True'/> True</label>
            <label><input name="q6d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q6',[\"False\",\"True\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q6"></span>
    </div>
    <button onclick="toggleSolution('q6')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q6" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 6</div>
        <div class="solution-content">
            <p>a) Sai: $M$ trung ƒëi·ªÉm c·ªßa ƒëo·∫°n $AD$ suy ra to·∫° ƒë·ªô $M$ l√† $\left(1;\frac{7}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q7">
    <p class="question-title"><strong>C√¢u 7.</strong> Trong kh√¥ng gian $Oxyz$ cho tam gi√°c $ABC$ c√≥ $A(1;-1;1)$, $B(2;1;‚àí2)$, $C(0;0;1)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) To·∫° ƒë·ªô tr·ªçng t√¢m $G$ c·ªßa tam gi√°c $ABC$ l√† $(1;0;0)$.
            <label><input name="q7a" type="radio" value='True'/> True</label>
            <label><input name="q7a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) To·∫° ƒë·ªô ƒëi·ªÉm $E \in Ox$ sao cho $\vec{AE} \perp \vec{BC}$ l√† $(-1;0;0)$.
            <label><input name="q7b" type="radio" value='True'/> True</label>
            <label><input name="q7b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) To·∫° ƒë·ªô ƒëi·ªÉm $M$ tho·∫£ m√£n $\vec{AM} = \vec{AB} ‚Äì \vec{AC}$ l√† $(3;0;2)$.
            <label><input name="q7c" type="radio" value='True'/> True</label>
            <label><input name="q7c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) T√¨m t·ªça ƒë·ªô tr·ª±c t√¢m $H$ c·ªßa tam gi√°c $ABC$ c√≥ to·∫° ƒë·ªô l√† $\left(\frac{5}{9};\frac{4}{9};\frac{8}{9}\right)$.
            <label><input name="q7d" type="radio" value='True'/> True</label>
            <label><input name="q7d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q7',[\"True\",\"True\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q7"></span>
    </div>
    <button onclick="toggleSolution('q7')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q7" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 7</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: To·∫° ƒë·ªô tr·ªçng t√¢m $G$ c·ªßa tam gi√°c $ABC$ l√† $(1;0;0).</p>
            <p>b) ƒê√∫ng: V√¨ $E \in Ox \Rightarrow E(x;0;0)$ m√† $\vec{AE}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q8">
    <p class="question-title"><strong>C√¢u 8.</strong> Trong kh√¥ng gian $Oxyz$ v·ªõi ba vecto ƒë∆°n v·ªã $\vec{i},\vec{j},\vec{k}$, cho $A(1;1;2)$, $B(2;-1;0)$, $\vec{u} = (1;-2;-1)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) T√≠ch c√≥ h∆∞·ªõng c·ªßa hai veccto $\vec{i}$ v√† $\vec{j}$ l√† vecto $\vec{k}$.
            <label><input name="q8a" type="radio" value='True'/> True</label>
            <label><input name="q8a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) $[\vec{u},\vec{i}] = (0;1;2)$.
            <label><input name="q8b" type="radio" value='True'/> True</label>
            <label><input name="q8b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) $[\vec{AB},\vec{u}] = (6;1;0)$.
            <label><input name="q8c" type="radio" value='True'/> True</label>
            <label><input name="q8c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) $[\vec{OA},\vec{OB}] = (2;4;-3)$.
            <label><input name="q8d" type="radio" value='True'/> True</label>
            <label><input name="q8d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q8',[\"True\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q8"></span>
    </div>
    <button onclick="toggleSolution('q8')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q8" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 8</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Ta c√≥ $\begin{cases}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q9">
    <p class="question-title"><strong>C√¢u 9.</strong> Trong kh√¥ng gian $Oxyz$, cho ba ƒëi·ªÉm $A(-1;1;0)$, $B(1;-1;2)$, $C(1;-2;1)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·ªôt vecto ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(ABC)$ l√† $[\vec{AB}, \vec{AC}]$.
            <label><input name="q9a" type="radio" value='True'/> True</label>
            <label><input name="q9a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Vecto $\vec{n} = (1;2;3)$ l√† m·ªôt vecto ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(ABC)$.
            <label><input name="q9b" type="radio" value='True'/> True</label>
            <label><input name="q9b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Vecto $\vec{u} = (1;1;0)$ l√† m·ªôt vecto ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng ƒëi qua $O$ v√† ch·ª©a ƒë∆∞·ªùng th·∫≥ng $AB$.
            <label><input name="q9c" type="radio" value='True'/> True</label>
            <label><input name="q9c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Vecto $\vec{v} = (1;2;3)$ l√† m·ªôt vecto ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng song song v·ªõi hai ƒë∆∞·ªùng th·∫≥ng $AB$ v√† $OC$.
            <label><input name="q9d" type="radio" value='True'/> True</label>
            <label><input name="q9d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q9',[\"True\",\"False\",\"True\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q9"></span>
    </div>
    <button onclick="toggleSolution('q9')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q9" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 9</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Ta c√≥ m·ªôt vecto ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(ABC)$ l√† $[\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q10">
    <p class="question-title"><strong>C√¢u 10.</strong> Cho c√°c ƒëi·ªÉm $A(1;-2;0); B(2;-1;1); C(1;1;2)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(ABC)$ l√† $x+2y-3z-3=0$.
            <label><input name="q10a" type="radio" value='True'/> True</label>
            <label><input name="q10a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(\alpha)$ qua $A$ v√† vu√¥ng g√≥c v·ªõi $BC$ l√† $x‚àí2y‚àíz-5 = 0$.
            <label><input name="q10b" type="radio" value='True'/> True</label>
            <label><input name="q10b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng trung tr·ª±c $(\beta)$ c·ªßa ƒëo·∫°n $AC$ l√† $6y+4z-1=0$.
            <label><input name="q10c" type="radio" value='True'/> True</label>
            <label><input name="q10c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(\gamma)$ ch·ª©a tr·ª•c $Ox$ v√† ƒëi·ªÉm $C$ l√† $2y + z = 0$.
            <label><input name="q10d" type="radio" value='True'/> True</label>
            <label><input name="q10d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q10',[\"False\",\"True\",\"True\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q10"></span>
    </div>
    <button onclick="toggleSolution('q10')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q10" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 10</div>
        <div class="solution-content">
            <p>a) Sai: Ta c√≥ $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q11">
    <p class="question-title"><strong>C√¢u 11.</strong> Trong kh√¥ng gian $Oxyz$, Cho tam gi√°c $ABC$ v·ªõi $A(1;1;1), B(1;2;2), C(4;1;0)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) $\vec{AB} = (0;1;1)$.
            <label><input name="q11a" type="radio" value='True'/> True</label>
            <label><input name="q11a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) T√≠ch c√≥ h∆∞·ªõng c·ªßa hai vect∆° $\vec{AB}, \vec{AC}$ l√† $\vec{a} = (-1;3;-3)$.
            <label><input name="q11b" type="radio" value='True'/> True</label>
            <label><input name="q11b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) $\vec{BC}, \vec{b} = (6;-2;-4)$ l√† c·∫∑p vect∆° ch·ªâ ph∆∞∆°ng c·ªßa m·∫∑t ph·∫≥ng $(ABC)$.
            <label><input name="q11c" type="radio" value='True'/> True</label>
            <label><input name="q11c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Vect∆° ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(AOB)$ l√†: $\vec{n} = (1;1;2)$.
            <label><input name="q11d" type="radio" value='True'/> True</label>
            <label><input name="q11d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q11',[\"True\",\"True\",\"False\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q11"></span>
    </div>
    <button onclick="toggleSolution('q11')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q11" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 11</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q12">
    <p class="question-title"><strong>C√¢u 12.</strong> Trong kh√¥ng gian $Oxyz$, Cho c√°c ƒëi·ªÉm $A(1;-2;-1), B(4;1;2), C(2;3;1)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) $\vec{AB} = (3;3;3)$.
            <label><input name="q12a" type="radio" value='True'/> True</label>
            <label><input name="q12a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Ba ƒëi·ªÉm $A, B, C$ kh√¥ng th·∫≥ng h√†ng.
            <label><input name="q12b" type="radio" value='True'/> True</label>
            <label><input name="q12b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng ƒëi qua 3 ƒëi·ªÉm $A,B,C$ c√≥ vect∆° ph√°p tuy·∫øn l√†: $\vec{a} = (3;1;-4)$.
            <label><input name="q12c" type="radio" value='True'/> True</label>
            <label><input name="q12c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng $(\alpha)$ ƒëi qua $A$ ƒë·ªìng th·ªùi song song v·ªõi $Oy$ v√† ƒë∆∞·ªùng th·∫≥ng $BC$ c√≥ vect∆° ph√°p tuy·∫øn l√†: $\vec{n} = (1;0;2)$.
            <label><input name="q12d" type="radio" value='True'/> True</label>
            <label><input name="q12d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q12',[\"True\",\"True\",\"True\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q12"></span>
    </div>
    <button onclick="toggleSolution('q12')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q12" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 12</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q13">
    <p class="question-title"><strong>C√¢u 13.</strong> Trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô $Oxyz$, cho 3 ƒëi·ªÉm $A(a;0;0)$, $B(0;b;0)$, $C(0;0;c)$ v·ªõi $a, b, c$ ƒë·ªÅu d∆∞∆°ng. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·∫∑t ph·∫≥ng $(ABC)$ c√≥ ph∆∞∆°ng tr√¨nh $\frac{x}{a} + \frac{y}{b} + \frac{z}{c} = 1$
            <label><input name="q13a" type="radio" value='True'/> True</label>
            <label><input name="q13a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng $(ABC)$ ƒëi qua ƒëi·ªÉm $G(1;2;3)$ sao cho $G$ l√† tr·ªçng t√¢m c·ªßa $\triangle ABC$ l√† $6x+3y+2z+18=0$
            <label><input name="q13b" type="radio" value='True'/> True</label>
            <label><input name="q13b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng $(ABC)$ ƒëi qua ƒëi·ªÉm $H(1;1;1)$ sao cho $H$ l√† tr·ª±c t√¢m $\triangle ABC$ l√† $x+y+z-3=0$
            <label><input name="q13c" type="radio" value='True'/> True</label>
            <label><input name="q13c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng $(ABC)$ ƒëi qua ƒëi·ªÉm $M (2;-2;3)$ sao cho ƒë·ªô d√†i $OA, OB, OC$ theo th·ª© t·ª± t·∫°o th√†nh c·∫•p s·ªë c·ªông c√≥ c√¥ng sai b·∫±ng $2$. Kho·∫£ng c√°ch t·ª´ g·ªëc t·ªça ƒë·ªô $O$ t·ªõi m·∫∑t ph·∫≥ng $(\alpha)$ b·∫±ng $\frac{m}{n}$ v·ªõi $\frac{m}{n}$ l√† ph√¢n s·ªë t·ªëi gi·∫£n, khi ƒë√≥ $T = m + n = 19$.
            <label><input name="q13d" type="radio" value='True'/> True</label>
            <label><input name="q13d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q13',[\"True\",\"False\",\"True\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q13"></span>
    </div>
    <button onclick="toggleSolution('q13')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q13" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 13</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Theo ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng theo ƒëo·∫°n ch·∫Øn ta c√≥ m·∫∑t ph·∫≥ng $(ABC)$ c√≥ ph∆∞∆°ng tr√¨nh $\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q14">
    <p class="question-title"><strong>C√¢u 14.</strong> Trong kh√¥ng gian $Oxyz$, cho ba ƒëi·ªÉm $A(1;1;1); B(1;-2;3); C(2;-1;2)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) Ba ƒëi·ªÉm $A,B,C$ ƒë√£ cho th·∫≥ng h√†ng.
            <label><input name="q14a" type="radio" value='True'/> True</label>
            <label><input name="q14a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) C√≥ v√¥ s·ªë m·∫∑t ph·∫≥ng ƒëi qua ba ƒëi·ªÉm $A,B,C$ ƒë√£ cho.
            <label><input name="q14b" type="radio" value='True'/> True</label>
            <label><input name="q14b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng $(ABC)$ c√≥ m·ªôt vect∆° ph√°p tuy·∫øn $\vec{n} = (1;2;3)$.
            <label><input name="q14c" type="radio" value='True'/> True</label>
            <label><input name="q14c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng $(ABC)$ c√≥ ph∆∞∆°ng tr√¨nh l√† $x + 2y+3z-6=0$.
            <label><input name="q14d" type="radio" value='True'/> True</label>
            <label><input name="q14d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q14',[\"False\",\"False\",\"True\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q14"></span>
    </div>
    <button onclick="toggleSolution('q14')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q14" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 14</div>
        <div class="solution-content">
            <p>a) Sai: Ta c√≥: $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q15">
    <p class="question-title"><strong>C√¢u 15.</strong> Trong kh√¥ng gian $Oxyz$, cho ƒëi·ªÉm $A(2;0;-3)$ v√† c√°c $\vec{u} = (-1;-2;5)$, $\vec{v} = (3;-1;-2)$. M·∫∑t ph·∫≥ng $(\alpha)$ ƒëi qua $A$ v√† nh·∫≠n $\vec{u},\vec{v}$ l√†m c·∫∑p vect∆° ch·ªâ ph∆∞∆°ng. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·ªôt vect∆° ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(\alpha)$ l√† $\vec{n} = (9;13;7)$.
            <label><input name="q15a" type="radio" value='True'/> True</label>
            <label><input name="q15a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(\alpha): 9x +13y+7z - 2 = 0$.
            <label><input name="q15b" type="radio" value='True'/> True</label>
            <label><input name="q15b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng $(\alpha)$ ƒëi qua ƒëi·ªÉm $M (1;-2;-3)$.
            <label><input name="q15c" type="radio" value='True'/> True</label>
            <label><input name="q15c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng $(R)$ ƒëi qua $M$ song song v·ªõi $(\alpha)$ c√≥ ph∆∞∆°ng tr√¨nh $x + 2y +5z+18=0$.
            <label><input name="q15d" type="radio" value='True'/> True</label>
            <label><input name="q15d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q15',[\"True\",\"False\",\"False\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q15"></span>
    </div>
    <button onclick="toggleSolution('q15')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q15" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 15</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: M·∫∑t ph·∫≥ng $(\alpha)$ nh·∫≠n $\vec{u}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q16">
    <p class="question-title"><strong>C√¢u 16.</strong> Trong kh√¥ng gian v·ªõi h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$, cho ƒëi·ªÉm $M(-2;1;3)$. M·∫∑t ph·∫≥ng $(P)$ ƒëi qua ƒëi·ªÉm $M$ v√† c·∫Øt ba tr·ª•c t·ªça ƒë·ªô t·∫°i c√°c ƒëi·ªÉm $A,B,C$ kh√°c g·ªëc t·ªça ƒë·ªô $O$ sao cho tam gi√°c $ABC$ c√≥ tr·ª±c t√¢m $M$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) H√¨nh chi·∫øu c·ªßa ƒëi·ªÉm $M$ tr√™n tr·ª•c $Ox$ l√† $H(-2;0;0)$.
            <label><input name="q16a" type="radio" value='True'/> True</label>
            <label><input name="q16a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng $(P)$ c√≥ m·ªôt v√©ct∆° ph√°p tuy·∫øn l√† $\vec{n} = (2;-1;3)$.
            <label><input name="q16b" type="radio" value='True'/> True</label>
            <label><input name="q16b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(P)$ l√† $2x ‚àí y ‚àí 3z + 14 = 0$
            <label><input name="q16c" type="radio" value='True'/> True</label>
            <label><input name="q16c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng $(Q): x‚àíy+z-3=0$ vu√¥ng g√≥c v·ªõi $(P)$.
            <label><input name="q16d" type="radio" value='True'/> True</label>
            <label><input name="q16d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q16',[\"True\",\"True\",\"True\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q16"></span>
    </div>
    <button onclick="toggleSolution('q16')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q16" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 16</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng:</p>
            <p>b) ƒê√∫ng:</p>
            <p>Do t·ª© di·ªán $OABC$ vu√¥ng t·∫°i $O$ v√† $M(‚àí2;1;3)$ l√† tr·ª±c t√¢m c·ªßa $\triangle ABC$ n√™n $\vec{OM}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q17">
    <p class="question-title"><strong>C√¢u 17.</strong> Trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô $Oxyz$, cho c√°c ƒëi·ªÉm $A(1;1;3), B(-1;3;2), C(-1;2;3)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) Vect∆° $\vec{AB}$ v√† $\vec{AC}$ c√πng ph∆∞∆°ng.
            <label><input name="q17a" type="radio" value='True'/> True</label>
            <label><input name="q17a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) ƒêi·ªÉm $G \left(-\frac{1}{3};2;\frac{8}{3}\right)$ l√† tr·ªçng t√¢m tam gi√°c $ABC$.
            <label><input name="q17b" type="radio" value='True'/> True</label>
            <label><input name="q17b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng $(ABC)$ c√≥ ph∆∞∆°ng tr√¨nh l√†: $x + ay + bz + c = 0$. Khi ƒë√≥ $a + b + c = 4$
            <label><input name="q17c" type="radio" value='True'/> True</label>
            <label><input name="q17c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) ƒêi·ªÉm $M (1;2;3)$ thu·ªôc m·∫∑t ph·∫≥ng $(ABC)$.
            <label><input name="q17d" type="radio" value='True'/> True</label>
            <label><input name="q17d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q17',[\"False\",\"True\",\"False\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q17"></span>
    </div>
    <button onclick="toggleSolution('q17')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q17" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 17</div>
        <div class="solution-content">
            <p>a) Sai: $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q18">
    <p class="question-title"><strong>C√¢u 18.</strong> Trong kh√¥ng gian $Oxyz$, cho ƒëi·ªÉm $A(2;-3;1)$ v√† m·∫∑t ph·∫≥ng $(\alpha):x+2y-z+1=0$. $(P)$ l√† m·∫∑t ph·∫≥ng ƒëi qua $A$ v√† song song v·ªõi $(\alpha)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·ªçi m·∫∑t ph·∫≥ng c√≥ pt d·∫°ng $x + 2y - z + m = 0$ ($m$ l√† tham s·ªë th·ª±c) ƒë·ªÅu song song v·ªõi $(\alpha)$.
            <label><input name="q18a" type="radio" value='True'/> True</label>
            <label><input name="q18a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) $(P)$ vu√¥ng g√≥c v·ªõi m·∫∑t ph·∫≥ng $(Q): 2x ‚Äì 3y - 4z = 0$.
            <label><input name="q18b" type="radio" value='True'/> True</label>
            <label><input name="q18b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) $(P)$ c√≥ ph∆∞∆°ng tr√¨nh d·∫°ng $ax + by + cz + d = 0$ v·ªõi $\frac{a}{d} = \frac{1}{5}$.
            <label><input name="q18c" type="radio" value='True'/> True</label>
            <label><input name="q18c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) $(P)$ ƒëi qua ƒëi·ªÉm $M (1;2;-1)$.
            <label><input name="q18d" type="radio" value='True'/> True</label>
            <label><input name="q18d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q18',[\"False\",\"True\",\"True\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q18"></span>
    </div>
    <button onclick="toggleSolution('q18')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q18" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 18</div>
        <div class="solution-content">
            <p>a) Sai: N·∫øu $m = 1$ th√¨ m·∫∑t ph·∫≥ng ƒë√≥ s·∫Ω tr√πng v·ªõi m·∫∑t ph·∫≥ng $(\alpha)$.</p>
            <p>b) ƒê√∫ng: Do $(P)//(\alpha) \Rightarrow$ Vect∆° ph√°p tuy·∫øn l·∫ßn l∆∞·ª£t l√† $\vec{n_P}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q19">
    <p class="question-title"><strong>C√¢u 19.</strong> Trong kh√¥ng gian $Oxyz$, cho ƒëi·ªÉm $A(0;2;-2)$ v√† c√°c m·∫∑t ph·∫≥ng $(\alpha):x+2y-2z-1=0$, $(\beta) : x + 2y - 2z + 5 = 0$.</p>
    <div class="options">
        <div class="option-row">a) G·ªçi $(P)$ l√† m·∫∑t ph·∫≥ng ƒëi qua ƒëi·ªÉm $A$ v√† song song v·ªõi $(\alpha)$. Giao ƒëi·ªÉm c·ªßa $(P)$ v√† tr·ª•c $Ox$ l√† $I(8;0;0)$.
            <label><input name="q19a" type="radio" value='True'/> True</label>
            <label><input name="q19a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng song song v√† c√°ch ƒë·ªÅu 2 m·∫∑t ph·∫≥ng $(\alpha), (\beta)$ c√≥ ph∆∞∆°ng tr√¨nh l√† $x + 2y-2z + 2 = 0$.
            <label><input name="q19b" type="radio" value='True'/> True</label>
            <label><input name="q19b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng ƒë·ªëi x·ª©ng v·ªõi m·∫∑t ph·∫≥ng $(\alpha)$ qua m·∫∑t ph·∫≥ng $(\beta)$ c√≥ ph∆∞∆°ng tr√¨nh l√† $x+2y-2z+11=0$.
            <label><input name="q19c" type="radio" value='True'/> True</label>
            <label><input name="q19c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) G·ªçi $H$ l√† h√¨nh chi·∫øu c·ªßa ƒëi·ªÉm $A$ tr√™n m·∫∑t ph·∫≥ng $(\alpha)$. M·∫∑t ph·∫≥ng ƒëi qua ƒëi·ªÉm $H$ v√† song song v·ªõi m·∫∑t ph·∫≥ng $(Oyz)$ c√≥ ph∆∞∆°ng tr√¨nh l√† $9x + 7 = 0$.
            <label><input name="q19d" type="radio" value='True'/> True</label>
            <label><input name="q19d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q19',[\"True\",\"True\",\"True\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q19"></span>
    </div>
    <button onclick="toggleSolution('q19')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q19" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 19</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: $(P)$ song song v·ªõi $(\alpha)$ n√™n c√≥ VTPT $\vec{n_P}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q20">
    <p class="question-title"><strong>C√¢u 20.</strong> Trong kh√¥ng gian v·ªõi h·ªá to·∫° ƒë·ªô $Oxyz$, cho m·∫∑t ph·∫≥ng $(P): x - 2y+2z-5 = 0$ v√† hai ƒëi·ªÉm $A(-3;0;1), B(0;-1;3)$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) Vect∆° ph√°p tuy·∫øn c·ªßa m·∫∑t ph·∫≥ng $(P)$ l√† $\vec{n} = (-1;2;-2)$.
            <label><input name="q20a" type="radio" value='True'/> True</label>
            <label><input name="q20a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) ƒêi·ªÉm $A, B$ n·∫±m v·ªÅ c√πng ph√≠a c·ªßa m·∫∑t ph·∫≥ng $(P)$.
            <label><input name="q20b" type="radio" value='True'/> True</label>
            <label><input name="q20b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) M·∫∑t ph·∫≥ng $(Q)$ ch·ª©a $A, B$ v√† vu√¥ng g√≥c v·ªõi m·∫∑t ph·∫≥ng $(P)$ ƒëi qua ƒëi·ªÉm $M (-2;-2;3)$.
            <label><input name="q20c" type="radio" value='True'/> True</label>
            <label><input name="q20c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) M·∫∑t ph·∫≥ng $(R)$ ƒëi qua $A$ song song v·ªõi $(P)$ c√≥ ph∆∞∆°ng tr√¨nh $x - 2y+2z-1=0$.
            <label><input name="q20d" type="radio" value='True'/> True</label>
            <label><input name="q20d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q20',[\"True\",\"False\",\"True\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q20"></span>
    </div>
    <button onclick="toggleSolution('q20')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q20" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 20</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: T·ª´ ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(P): x - 2y + 2z - 5 = 0$ suy ra m·ªôt vect∆° ph√°p tuy·∫øn c·ªßa $(P)$ l√† $\vec{n_P}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q21">
    <p class="question-title"><strong>C√¢u 21.</strong> Ph·∫ßn m·ªÅm ƒëi·ªÅu khi·ªÉn m√°y in 3D cho bi·∫øt ƒë·∫ßu in phun c·ªßa m√°y ƒëang ƒë·∫∑t t·∫°i ƒëi·ªÉm $M(13;5;8)$ (ƒë∆°n v·ªã cm). T√≠nh kho·∫£ng c√°ch t·ª´ ƒë·∫ßu in ƒë·∫øn khay ƒë·∫∑t v·∫≠t in c√≥ ph∆∞∆°ng tr√¨nh $x - 3 = 0$ ?</p>
    <div class="answer-check">
        <input type="text" id="input-q21" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q21','10')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q21"></span>
    </div>
    <div id="result-q21"></div>
    <button onclick="toggleSolution('q21')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q21" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 21</div>
        <div class="solution-content">
            <p>Ta c√≥ ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng l√† $(P): x-3= 0</p>
            <p>Kho·∫£ng c√°ch t·ª´ ƒë·∫ßu in ƒë·∫øn khay ƒë·∫∑t v·∫≠t l√†: $d(M;(P)) = \frac{|13-3|}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q22">
    <p class="question-title"><strong>C√¢u 22.</strong> Trong gi·ªù th·ªÉ d·ª•c h·ªçc v·ªÅ k·ªπ thu·∫≠t chuy·ªÅn b√≥ng h∆°i, B√¨nh v√† An t·∫≠p chuy·ªÅn b√≥ng cho nhau. ·ªû m·ªôt ƒë·ªông t√°c B√¨nh chuy·ªÅn b√≥ng cho An, qu·∫£ b√≥ng bay l√™n cao nh∆∞ng l·∫°i l·ªách sang b√™n tr√°i c·ªßa An v√† r∆°i xu·ªëng v·ªã tr√≠ c√°ch ch·ªó An ƒë·ª©ng 0,5m v√† c√°ch ch·ªó B√¨nh 4,5m. Ch·ªçn h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ sao cho g·ªëc t·ªça ƒë·ªô $O$ t·∫°i v·ªã tr√≠ c·ªßa B√¨nh, v·ªã tr√≠ c·ªßa An n·∫±m tr√™n tia $Ox$ v√† m·∫∑t ph·∫≥ng $Oxy$ l√† m·∫∑t ƒë·∫•t (tham kh·∫£o h√¨nh v·∫Ω)
    
    Bi·∫øt r·∫±ng qu·ªπ ƒë·∫°o c·ªßa qu·∫£ b√≥ng n·∫±m trong m·∫∑t ph·∫≥ng $(\alpha):x+by+cz+d=0$ v√† $(\alpha)$ vu√¥ng g√≥c v·ªõi m·∫∑t ƒë·∫•t. Khi ƒë√≥, gi√° tr·ªã c·ªßa $-5b^2 ‚Äì c^2 +3d^2$ b·∫±ng bao nhi√™u?</p>
    <img src="data/im/ptmptt-c2.png">
    <div class="answer-check">
        <input type="text" id="input-q22" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q22','-400.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q22"></span>
    </div>
    <div id="result-q22"></div>
    <button onclick="toggleSolution('q22')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q22" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 22</div>
        <div class="solution-content">
            <p>Qu·∫£ b√≥ng r∆°i xu·ªëng t·∫°i ƒëi·ªÉm $A(\sqrt{20}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q23">
    <p class="question-title"><strong>C√¢u 23.</strong> H√¨nh v·∫Ω b√™n minh h·ªça h√¨nh ·∫£nh m·ªôt t√≤a nh√† trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô l√† m√©t). Bi·∫øt $OABC.DEFG$ l√† h√¨nh ch√≥p c·ª•t c√≥ hai ƒë√°y n·∫±m tr√™n hai m·∫∑t ph·∫≥ng song song, $OABC$ l√† h√¨nh ch·ªØ nh·∫≠t n·∫±m trong m·∫∑t ph·∫≥ng $(Oxy)$, $OA=100m$, $OC = 60m$ v√† ƒëi·ªÉm $D(10;10;8)$. Kho·∫£ng c√°ch t·ª´ $B$ ƒë·∫øn m·∫∑t ph·∫≥ng $(OCGD)$ b·∫±ng bao nhi√™u m√©t? (k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ch·ª•c)?</p>
    <img src="data/im/ptmptt-c3.png">
    <div class="answer-check">
        <input type="text" id="input-q23" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q23','62,5.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q23"></span>
    </div>
    <div id="result-q23"></div>
    <button onclick="toggleSolution('q23')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q23" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 23</div>
        <div class="solution-content">
            <p>T·ª´ h√¨nh v·∫Ω ta c√≥ $B(100;60;0), C(0;60;0).</p>
            <p>Khi ƒë√≥ $\vec{OC}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q24">
    <p class="question-title"><strong>C√¢u 24.</strong> Trong kh√¥ng gian $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô l√† m√©t), m·ªôt ng√¥i nh√† nh∆∞ h√¨nh v·∫Ω d∆∞·ªõi ƒë√¢y c√≥ s√†n nh√† n·∫±m ngang tr√™n m·∫∑t ph·∫≥ng $(\alpha): 2x+y-3z+18=0$. Hai m√°i nh√† l·∫ßn l∆∞·ª£t n·∫±m tr√™n c√°c m·∫∑t ph·∫≥ng $(P):x‚àíy=0$, $(Q): x+y-2z = 0 $. H·ªèi chi·ªÅu cao c·ªßa ng√¥i nh√† t√≠nh t·ª´ s√†n nh√† ƒë·∫øn n√≥c nh√† (ƒëi·ªÉm cao nh·∫•t c·ªßa m√°i nh√†) l√† bao nhi√™u? (l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ch·ª•c)</p>
    <img src="data/im/ptmptt-c4.png">
    <div class="answer-check">
        <input type="text" id="input-q24" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q24','4,8.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q24"></span>
    </div>
    <div id="result-q24"></div>
    <button onclick="toggleSolution('q24')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q24" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 24</div>
        <div class="solution-content">
            <p>C·∫ßn t√¨m t·ªça ƒë·ªô m·ªôt ƒëi·ªÉm thu·ªôc ƒë∆∞·ªùng th·∫≥ng giao tuy·∫øn c·ªßa hai m·∫∑t ph·∫≥ng $(P)$ v√† $(Q)</p>
            <p>Cho $y = 0$, ta gi·∫£i h·ªá ph∆∞∆°ng tr√¨nh:</p>
            <p>$\begin{cases}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q25">
    <p class="question-title"><strong>C√¢u 25.</strong> Trong kh√¥ng gian ba chi·ªÅu $Oxyz$, t·ªça ƒë·ªô c√°c khu v·ª±c ƒë∆∞·ª£c x√°c ƒë·ªãnh nh∆∞ sau:
    
    Khu v·ª±c $A(30;20;0)$ n·∫±m tr√™n m·∫∑t ƒë·∫•t, c√°ch trung t√¢m th√†nh ph·ªë $3km$.
    Khu v·ª±c $B(70;50;40)$ n·∫±m tr√™n t√≤a nh√† cao t·∫ßng v√† ·ªü ƒë·ªô cao $40m$.
    Khu v·ª±c $C(50;80;70)$ n·∫±m tr√™n m·ªôt ƒë·ªânh ƒë·ªìi ·ªü ƒë·ªô cao $70m$.
    G·ªçi v·ªã tr√≠ l·∫Øp ƒë·∫∑t tr·∫°m ph√°t s√≥ng l√† $D(a;b;c)$ sao cho kho·∫£ng c√°ch t·ª´ $D$ ƒë·∫øn ba khu v·ª±c k·ªÉ tr√™n l√† b·∫±ng nhau v√† c√≥ kho·∫£ng c√°ch ƒë·∫øn ch√∫ng l√† nh·ªè nh·∫•t. T√≠nh $T =a+b+c$ (K·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ƒë∆°n v·ªã).</p>
    <img src="data/im/ptmptt-c5.png">
    <div class="answer-check">
        <input type="text" id="input-q25" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q25','110.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q25"></span>
    </div>
    <div id="result-q25"></div>
    <button onclick="toggleSolution('q25')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q25" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 25</div>
        <div class="solution-content">
            <p>Do $D(a;b;c)$ sao cho kho·∫£ng c√°ch t·ª´ $D$ ƒë·∫øn ba khu v·ª±c k·ªÉ tr√™n l√† b·∫±ng nhau v√† c√≥ kho·∫£ng c√°ch ƒë·∫øn ch√∫ng l√† nh·ªè nh·∫•t n√™n $D$ l√† t√¢m ƒë∆∞·ªùng tr√≤n ngo·∫°i ti·∫øp tam gi√°c $ABC$.</p>
            <p>C√≥ $\frac{1}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q26">
    <p class="question-title"><strong>C√¢u 26.</strong> Trong h·ªá to·∫° ƒë·ªô $Oxy$ (ƒë∆°n v·ªã ƒë·ªô d√†i tr√™n m·ªói tr·ª•c t√≠nh l√† m√©t), m·ªôt v∆∞·ªùn hoa n·∫±m tr√™n m·∫∑t ph·∫≥ng $(P): 2x+2y-z-12=0$. C√≥ hai b√≥ng ƒë√®n chi·∫øu s√°ng c·ªë ƒë·ªãnh ƒë∆∞·ª£c ƒë·∫∑t t·∫°i c√°c ƒëi·ªÉm $A(40; -40;12)$, $B(-40;50;38)$. ƒê·ªÉ ƒë·∫£m b·∫£o kƒ© thu·∫≠t chi·∫øu s√°ng, c√°c k·ªπ s∆∞ mu·ªën thi·∫øt k·∫ø tr√™n m·∫∑t v∆∞·ªùn m·ªôt ƒë∆∞·ªùng ray ƒë·ªÉ l·∫Øp ƒë·∫∑t m·ªôt ƒë√®n chi·∫øu s√°ng $M$ di ƒë·ªông tr√™n ƒë∆∞·ªùng ray ·∫•y. Y√™u c·∫ßu kƒ© thu·∫≠t ƒë·∫∑t ra l√† g√≥c t·∫°o b·ªüi $MA$ v·ªõi m·∫∑t v∆∞·ªùn v√† g√≥c t·∫°o b·ªüi $MB$ v·ªõi m·∫∑t v∆∞·ªùn ph·∫£i lu√¥n b·∫±ng nhau. ƒê·ªô d√†i ƒë∆∞·ªùng ray l√† bao nhi√™u m√©t? (k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ƒë∆°n v·ªã).</p>
    <img src="data/im/ptmptt-c6.png">
    <div class="answer-check">
        <input type="text" id="input-q26" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q26','1720')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q26"></span>
    </div>
    <div id="result-q26"></div>
    <button onclick="toggleSolution('q26')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q26" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 26</div>
        <div class="solution-content">
            <p>G·ªçi $A_1, B_1$ l·∫ßn l∆∞·ª£t l√† h√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa $A,B$ l√™n m·∫∑t ph·∫≥ng $(P)$</p>
            <p>Khi ƒë√≥ y√™u c·∫ßu b√†i to√°n ƒë·∫∑t ra $\widehat{AMA_1}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q27">
    <p class="question-title"><strong>C√¢u 27.</strong> M√¥ ph·ªèng trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c s·ªë l√† kil√¥m√©t), m·ªôt m√°y bay ƒëang ·ªü v·ªã tr√≠ $A(6;‚àí8;-1)$ v√† s·∫Ω h·∫° c√°nh ·ªü ƒëi·ªÉm c√≥ t·ªça ƒë·ªô $O(0;0;0)$ tr√™n ƒë∆∞·ªùng bƒÉng. C√≥ m·ªôt l·ªõp m√¢y m·ªèng ƒë∆∞·ª£c m√¥ ph·ªèng b·ªüi m·ªôt m·∫∑t ph·∫≥ng ƒëi qua ba ƒëi·ªÉm $P(12;0;0),Q(0;-12;0)$ v√† $R(0;0;1,2)$. T√≠nh kho·∫£ng c√°ch gi·ªØa m√°y bay v√† ƒë∆∞·ªùng bƒÉng ngay khi m√°y bay bay xuy√™n qua l·ªõp m√¢y (k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn trƒÉm c·ªßa kil√¥m√©t).</p>
    <img src="data/im/ptmptt-c7.png">
    <div class="answer-check">
        <input type="text" id="input-q27" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q27','5,02.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q27"></span>
    </div>
    <div id="result-q27"></div>
    <button onclick="toggleSolution('q27')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q27" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 27</div>
        <div class="solution-content">
            <p>M·∫∑t ph·∫≥ng $(PQR)$ ƒëi qua ba ƒëi·ªÉm $P(12;0;0),Q(0;-12;0), R(0;0;1,2)$ n√™n ph∆∞∆°ng tr√¨nh ƒëo·∫°n ch·∫Øn c·ªßa m·∫∑t ph·∫≥ng $(PQR)$ l√† $\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q28">
    <p class="question-title"><strong>C√¢u 28.</strong> Trong m·ªôt tr√≤ ch∆°i m√¥ ph·ªèng b·∫Øn s√∫ng, m·ªôt ng∆∞·ªùi ch∆°i ƒë·∫∑t ƒëi·ªÉm ng·∫Øm t·∫°i ƒëi·ªÉm $O$ l√† giao ƒëi·ªÉm c·ªßa $AC$ v√† $BD$ trong cƒÉn ph√≤ng h√¨nh h·ªôp ch·ªØ nh·∫≠t $ABCD.A'B'C'D'$ c√≥ k√≠ch th∆∞·ªõc $AB = 15(m)$, $AD = 20(m)$, $AA' = 25(m)$. Ng∆∞·ªùi ch∆°i di chuy·ªÉn tr√™n ƒëo·∫°n $BD$ c√≥ nhi·ªám v·ª• b·∫Øn tr√∫ng m·ªôt m·ª•c ti√™u di ƒë·ªông tr√™n m·∫∑t ph·∫≥ng $(CB'D')$ T√≠nh kho·∫£ng c√°ch ng·∫Øn nh·∫•t t·ª´ ƒëi·ªÉm ng·∫Øm ƒë√≥ ƒë·∫øn m·ª•c ti√™u (l√†m tr√≤n ƒë·∫øn ch·ªØ s·ªë th·∫≠p ph√¢n th·ª© 2).</p>
    <img src="data/im/ptmptt-c8.png">
    <div class="answer-check">
        <input type="text" id="input-q28" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q28','10,8')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q28"></span>
    </div>
    <div id="result-q28"></div>
    <button onclick="toggleSolution('q28')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q28" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 28</div>
        <div class="solution-content">
            <p>Ch·ªçn h·ªá tr·ª•c t·ªça ƒë·ªô nh∆∞ h√¨nh v·∫Ω, ta c√≥ $B' (20;0;0), D' (0;15;0), C(0;0;25)$ v√† $B(20;0;25)</p>
            <p>Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(B'CD')$ l√†: $\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q29">
    <p class="question-title"><strong>C√¢u 29.</strong> M·ªôt nh√≥m chuy√™n gia ƒëang nghi√™n c·ª©u d·ª±ng m·ªôt t·∫•m k√≠nh c∆∞·ªùng l·ª±c h√¨nh tam gi√°c ƒë·ªÉ ƒë·∫∑t v√†o m·ªôt g√≥c t∆∞·ªùng. Bi·∫øt ba m·∫∑t c·ªßa g√≥c t∆∞·ªùng ƒë√¥i m·ªôt vu√¥ng g√≥c v√† giao tuy·∫øn c·ªßa ch√∫ng l·∫ßn l∆∞·ª£t l√† c√°c tia Ox, Oy, Oz sao cho (Oxy) tr√πng v·ªõi m·∫∑t ph·∫≥ng s√†n nh√†, m·ªói ƒë∆°n v·ªã trong h·ªá tr·ª•c t·ªça ƒë·ªô ·ª©ng v·ªõi 1m th·ª±c t·∫ø. M·∫∑t ph·∫≥ng k√≠nh lu√¥n ƒëi qua ƒëi·ªÉm $I$, ƒëi·ªÉm n√†y c√°ch c√°c m·∫∑t ph·∫≥ng (Oxy), (Oyz), (Oxz) l·∫ßn l∆∞·ª£t l√† 1m, 3m, 2m. Khi kho·∫£ng c√°ch t·ª´ chi·∫øc ƒë√®n c√≥ t·ªça ƒë·ªô $D(4;5;6)$ t·ªõi m·∫∑t ph·∫≥ng k√≠nh l·ªõn nh·∫•t, t√≠nh di·ªán t√≠ch t·∫•m k√≠nh c∆∞·ªùng l·ª±c theo m¬≤ (k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ch·ª•c)?</p>
    <img src="data/im/ptmptt-c9.png">
    <div class="answer-check">
        <input type="text" id="input-q29" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q29','77,3')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q29"></span>
    </div>
    <div id="result-q29"></div>
    <button onclick="toggleSolution('q29')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q29" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 29</div>
        <div class="solution-content">
            <p>T·ª´ gi·∫£ thi·∫øt: ƒëi·ªÉm $I$ c√°ch c√°c m·∫∑t ph·∫≥ng $(Oxy), (Oyz), (Oxz)$ l·∫ßn l∆∞·ª£t l√† $1m, 3m, 2m$.</p>
            <p>$\Rightarrow$ƒêi·ªÉm $I$ c√≥ t·ªça ƒë·ªô $I (3;2;1)$.</p>
            <p>Gi·∫£ s·ª≠ $A,B,C$ l·∫ßn l∆∞·ª£t l√† giao ƒëi·ªÉm c·ªßa m·∫∑t ph·∫≥ng ch·ª©a k√≠nh c∆∞·ªùng l·ª±c $(P)$ v·ªõi c√°c tia $Ox, Oy, Oz$.</p>
            <p>G·ªçi $H$ l√† h√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa ƒëi·ªÉm $D$ tr√™n m·∫∑t ph·∫≥ng $(P)$.</p>
            <p>Ta c√≥: $DH \le ID = \sqrt{35}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q30">
    <p class="question-title"><strong>C√¢u 30.</strong> Trong m·ªôt qu·∫£ng tr∆∞·ªùng, c√≥ hai b·ª©c t∆∞·ª£ng ngh·ªá thu·∫≠t ƒë∆∞·ª£c ƒë·∫∑t c·ªë ƒë·ªãnh t·∫°i c√°c v·ªã tr√≠ $A(1;2; ‚àí1)$ v√† $B(-2;1;0)$.
    M·ªôt tr·ª• ƒë√®n chi·∫øu s√°ng th√¥ng minh ƒë∆∞·ª£c l·∫Øp ƒë·∫∑t tr√™n m·ªôt t·∫•m k√≠nh l·ªõn c·ªë ƒë·ªãnh, c√≥ ph∆∞∆°ng tr√¨nh: $(P):x-2y+z+4=0$. G·ªçi t·ªça ƒë·ªô ƒëi·ªÉm ƒë·∫∑t tr·ª• ƒë√®n l√† $M(a;b; c)$.
    ƒê·ªÉ t·∫°o hi·ªáu ·ª©ng √°nh s√°ng ƒë·ªëi x·ª©ng ho√†n h·∫£o gi·ªØa hai b·ª©c t∆∞·ª£ng, qua t√≠nh to√°n ng∆∞·ªùi thi·∫øt k·∫ø y√™u c·∫ßu tr·ª• ƒë√®n ph·∫£i c√°ch ƒë·ªÅu hai ƒëi·ªÉm $A$ v√† $B$ sao cho $MA^2 = MB^2 = 2,75$
    T√≠nh gi√° tr·ªã c·ªßa $a + b + c $.</p>
    <img src="data/im/ptmptt-c10.png">
    <div class="answer-check">
        <input type="text" id="input-q30" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q30','0,5')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q30"></span>
    </div>
    <div id="result-q30"></div>
    <button onclick="toggleSolution('q30')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q30" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 30</div>
        <div class="solution-content">
            <p>ƒê∆∞a b√†i to√°n v·ªÅ thu·∫ßn $Oxyz$ ta ƒë∆∞·ª£c: cho $A(1;2;-1), B(-2;1;0)$ ƒëi·ªÉm $M(a;b;c)$ thu·ªôc m·∫∑t ph·∫≥ng $(P):x-2y+z+4=0$ sao cho $MA = MB = \frac{\sqrt{11}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q31">
    <p class="question-title"><strong>C√¢u 31.</strong> Kh·ªëi rubik ƒë∆∞·ª£c g·∫Øn v·ªõi h·ªá to·∫° ƒë·ªô $Oxyz$ c√≥ ƒë∆°n v·ªã b·∫±ng ƒë·ªô d√†i c·∫°nh c·ªßa h√¨nh l·∫≠p ph∆∞∆°ng nh·ªè (h√¨nh v·∫Ω). X√©t b·ªën ƒëi·ªÉm $A(3;0;0), B(0; 3; 0), C(0; 0; 2), D(3k;3k;2k)$ v·ªõi $k > 0$ ƒë·ªìng ph·∫≥ng. Bi·∫øt r·∫±ng t·ªça ƒë·ªô ƒëi·ªÉm $D(a;b;c)$. Khi ƒë√≥ gi√° tr·ªã $a + 2b+3c$ b·∫±ng bao nhi√™u?</p>
    <img src="data/im/ptmptt-c11.png">
    <div class="answer-check">
        <input type="text" id="input-q31" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q31','5')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q31"></span>
    </div>
    <div id="result-q31"></div>
    <button onclick="toggleSolution('q31')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q31" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 31</div>
        <div class="solution-content">
            <p>Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(ABC)$ l√†: $\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q32">
    <p class="question-title"><strong>C√¢u 32.</strong> H√¨nh v·∫Ω minh h·ªça m·ªôt khu nh√† ƒëang x√¢y d·ª±ng ƒë∆∞·ª£c g·∫Øn h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n c√°c tr·ª•c l√† m√©t). M·ªói c·ªôt b√™ t√¥ng c√≥ d·∫°ng h√¨nh lƒÉng tr·ª• t·ª© gi√°c ƒë·ªÅu v√† t√¢m c·ªßa m·∫∑t ƒë√°y tr√™n l·∫ßn l∆∞·ª£t l√† c√°c ƒëi·ªÉm $A(2;1; 3)$, $B(4; 3; 3)$, $C(6;3; 2,5)$, $D(4k; 0;3k)$. Bi·∫øt r·∫±ng 4 ƒëi·ªÉm $A,B,C,D$ ƒë·ªìng ph·∫≥ng, t√≠nh gi√° tr·ªã c·ªßa $k$ (vi·∫øt k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn m∆∞·ªùi).</p>
    <img src="data/im/ptmptt-c12.png">
    <div class="answer-check">
        <input type="text" id="input-q32" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q32','0,8.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q32"></span>
    </div>
    <div id="result-q32"></div>
    <button onclick="toggleSolution('q32')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q32" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 32</div>
        <div class="solution-content">
            <p>Ta c√≥: $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q33">
    <p class="question-title"><strong>C√¢u 33.</strong> H√¨nh ·∫£nh b√™n minh ho·∫° m·ªôt c√°nh c·ª≠a h√¨nh ch·ªØ nh·∫≠t c√≥ chi·ªÅu r·ªông 1 m v√† chi·ªÅu cao 2 m khi ƒëang m·ªü. Ch·ªçn h·ªá to·∫° ƒë·ªô nh∆∞ h√¨nh v·∫Ω, bi·∫øt c√°nh c·ª≠a t·∫°o v·ªõi b·ª©c t∆∞·ªùng m·ªôt g√≥c 30¬∞, b·ªù t∆∞·ªùng vu√¥ng g√≥c v·ªõi m·∫∑t s√†n. B·ªè qua b·ªÅ d√†y c·ªßa c√°nh c·ª≠a th√¨ ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng ch·ª©a c√°nh c·ª≠a l√† $x+by+cz + d = 0 $. T√≠nh gi√° tr·ªã $9b^2 +3c^2 + d $.</p>
    <img src="data/im/ptmptt-c13.png">
    <div class="answer-check">
        <input type="text" id="input-q33" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q33','3.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q33"></span>
    </div>
    <div id="result-q33"></div>
    <button onclick="toggleSolution('q33')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q33" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 33</div>
        <div class="solution-content">
            <p>V√¨ ta ƒë√£ c√≥ d·∫°ng c·ªßa ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng ch·ª©a c√°nh c·ª≠a (ch·ª©a 3 ·∫©n $b,c,d$) n√™n ƒë·ªÉ vi·∫øt ƒë∆∞·ª£c ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(H)$, ta c·∫ßn ƒëi t√¨m ƒë∆∞·ª£c 3 ƒëi·ªÉm thu·ªôc m·∫∑t ph·∫≥ng ƒë√≥.</p>
            <p>Ta v·∫Ω l·∫°i h√¨nh nh∆∞ v√† k√≠ hi·ªáu c√°c ƒëi·ªÉm nh∆∞ h√¨nh sau:</p>
            <p>\noteImage[width=0.45\linewidth]{data//im/ptmptt-c13_1.png}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q34">
    <p class="question-title"><strong>C√¢u 34.</strong> M·ªôt s√¢n v·∫≠n ƒë·ªông ƒë∆∞·ª£c x√¢y d·ª±ng theo m√¥ h√¨nh l√† h√¨nh ch√≥p c·ª•t $OAGD.BCFE$ c√≥ hai ƒë√°y song song v·ªõi nhau. M·∫∑t s√¢n $OAGD$ l√† h√¨nh ch·ªØ nh·∫≠t v√† ƒë∆∞·ª£c g·∫Øn h·ªá tr·ª•c $Oxyz$ nh∆∞ h√¨nh v·∫Ω (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô l√† m√©t). M·∫∑t s√¢n $OAGD$ c√≥ chi·ªÅu d√†i $OA =100m$, chi·ªÅu r·ªông $OD = 60m$ v√† t·ªça ƒë·ªô ƒëi·ªÉm $B(10;10;8)$. Gi·∫£ s·ª≠ ph∆∞∆°ng tr√¨nh t·ªïng qu√°t c·ªßa m·∫∑t ph·∫≥ng $(OACB)$ c√≥ d·∫°ng $ax + y + cz + d = 0 $. T√≠nh gi√° tr·ªã bi·ªÉu th·ª©c $4(a+c+d)$.</p>
    <img src="data/im/ptmptt-c14.png">
    <div class="answer-check">
        <input type="text" id="input-q34" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q34','-5.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q34"></span>
    </div>
    <div id="result-q34"></div>
    <button onclick="toggleSolution('q34')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q34" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 34</div>
        <div class="solution-content">
            <p>T·ª´ gi·∫£ thi·∫øt, ta c√≥ $O(0;0;0); B(10;10;8);$</p>
            <p>$\begin{cases}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q35">
    <p class="question-title"><strong>C√¢u 35.</strong> Trong kh√¥ng gian v·ªõi h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô l√† kil√¥m√©t), m·ªôt m√°y bay ƒëang ·ªü v·ªã tr√≠ $A(3;-2;1)$ v√† s·∫Ω h·∫° c√°nh ·ªü v·ªã tr√≠ $B(4;6,5;0)$ tr√™n ƒë∆∞·ªùng bƒÉng (nh∆∞ h√¨nh v·∫Ω). C√≥ m·ªôt l·ªõp m√¢y ƒë∆∞·ª£c m√¥ ph·ªèng b·ªüi m·∫∑t ph·∫≥ng $(\alpha)$ ƒëi qua ba ƒëi·ªÉm $M (8; 0; 0); N(0; ‚àí8;0); P(0; 0; 0, 8) $. ƒê·ªô cao c·ªßa m√°y bay khi m√°y bay xuy√™n qua ƒë√°m m√¢y ƒë·ªÉ h·∫° c√°nh l√† bao nhi√™u km (l√†m tr√≤n ƒë·∫øn ch·ªØ s·ªë th·∫≠p ph√¢n th·ª© hai).</p>
    <img src="data/im/ptmptt-c15.png">
    <div class="answer-check">
        <input type="text" id="input-q35" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q35','0,60.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q35"></span>
    </div>
    <div id="result-q35"></div>
    <button onclick="toggleSolution('q35')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q35" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 35</div>
        <div class="solution-content">
            <p>Gi·∫£ s·ª≠ $C(x_C;y_C;z_C)$ l√† v·ªã tr√≠ m√† m√°y bay xuy√™n qua ƒë√°m m·∫•y ƒë·ªÉ h·∫° c√°nh $\Rightarrow C\in (\alpha)$</p>
            <p>M·∫∑t ph·∫≥ng $(\alpha)$ c√≥ ph∆∞∆°ng tr√¨nh l√† $\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q36">
    <p class="question-title"><strong>C√¢u 36.</strong> Trong m·ªôt khung l∆∞·ªõi √¥ vu√¥ng g·ªìm c√°c h√¨nh l·∫≠p ph∆∞∆°ng, ng∆∞·ªùi ta ƒë∆∞a ra m·ªôt c√°ch ki·ªÉm tra b·ªën n√∫t l∆∞·ªõi (ƒë·ªânh h√¨nh l·∫≠p ph∆∞∆°ng) b·∫•t k√¨ c√≥ ƒë·ªìng ph·∫≥ng hay kh√¥ng b·∫±ng c√°ch g·∫Øn h·ªá tr·ª•c to·∫° ƒë·ªô $Oxyz$ v√†o khung l∆∞·ªõi √¥ vu√¥ng v√† l·∫≠p ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng ƒëi qua ba n√∫t l∆∞·ªõi trong b·ªën n√∫t l∆∞·ªõi ƒë√£ cho. Gi·∫£ s·ª≠ c√≥ ba n√∫t l∆∞·ªõi m√† to·∫° ƒë·ªô l·∫ßn l∆∞·ª£t l√† $(1;1;10)$, $(4; 3; 1)$, $(3; 2; 5)$ v√† m·∫∑t ph·∫≥ng ƒëi qua ba n√∫t l∆∞·ªõi ƒë√≥ c√≥ ph∆∞∆°ng tr√¨nh $x+my+nz + p = 0$. Gi√° tr·ªã c·ªßa $m + n + p$ l√† bao nhi√™u?</p>
    <div class="answer-check">
        <input type="text" id="input-q36" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q36','-10')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q36"></span>
    </div>
    <div id="result-q36"></div>
    <button onclick="toggleSolution('q36')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q36" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 36</div>
        <div class="solution-content">
            <p>X√©t c√°c ƒëi·ªÉm $A(1;1;10), B(4;3;1), C(3; 2; 5) $.</p>
            <p>Khi ƒë√≥, ta c√≥ $\begin{cases}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q37">
    <p class="question-title"><strong>C√¢u 37.</strong> M·ªôt ph·∫ßn s√¢n tr∆∞·ªùng ƒë∆∞·ª£c ƒë·ªãnh v·ªã b·ªüi c√°c ƒëi·ªÉm $A, B, C, D$, nh∆∞ h√¨nh v·∫Ω.
    
    B∆∞·ªõc ƒë·∫ßu ch√∫ng ƒë∆∞·ª£c l·∫•y ‚Äú thƒÉng b·∫±ng‚Äù ƒë·ªÉ c√≥ c√πng ƒë·ªô cao. Bi·∫øt $ABCD$ l√† h√¨nh thang vu√¥ng ·ªü $A$ v√† $B$ v·ªõi ƒë·ªô d√†i $AB = 25m$, $AD =15m$, $BC =18m$. Do y√™u c·∫ßu kƒ© thu·∫≠t, khi l√°t ph·∫≥ng ph·∫ßn s√¢n tr∆∞·ªùng ph·∫£i tho√°t n∆∞·ªõc v·ªÅ g√≥c s√¢n ·ªü $C$ n√™n ng∆∞·ªùi ta l·∫•y ƒë·ªô cao ·ªü c√°c ƒëi·ªÉm $B, C, D$ xu·ªëng th·∫•p h∆°n so v·ªõi ƒë·ªô cao ·ªü $A$ l·∫ßn l∆∞·ª£t l√† $10cm$, $acm$, $6cm$ t∆∞∆°ng ·ª©ng sao cho b·ªën ƒëi·ªÉm $A, B', C', D'$ ƒë·ªìng ph·∫≥ng. Gi√° tr·ªã c·ªßa $a$ l√†</p>
    <img src="data/im/ptmptt-c17.png">
    <div class="answer-check">
        <input type="text" id="input-q37" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q37','17,2')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q37"></span>
    </div>
    <div id="result-q37"></div>
    <button onclick="toggleSolution('q37')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q37" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 37</div>
        <div class="solution-content">
            <p>Ch·ªçn h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ sao cho: $O\equiv A$, tia $Ox = AD$; tia $Oy = AB$.</p>
            <p>Khi ƒë√≥, $A(0;0;0); B(0;2500;0); C(1800; 2500;0) ; D(1500;0;0)$.</p>
            <p>Khi h·∫° ƒë·ªô cao c√°c ƒëi·ªÉm ·ªü c√°c ƒëi·ªÉm $B, C, D$ xu·ªëng th·∫•p h∆°n so v·ªõi ƒë·ªô cao ·ªü $A$ l√† $10cm$, $a$ cm, $6cm$ t∆∞∆°ng ·ª©ng ta c√≥ c√°c ƒëi·ªÉm m·ªõi $B' (0;2500;-10); C'(1800;2500;-a); D'(1500;0;-6)$.</p>
            <p>Theo b√†i ra c√≥ b·ªën ƒëi·ªÉm $A ; B'; C'; D'$ ƒë·ªìng ph·∫≥ng.</p>
            <p>Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $(AB'D')$ : $x + y + 250z = 0 $.</p>
            <p>Do $C'(1800; 2500;‚àí a) \in (AB'D')$ n√™n c√≥: $1800 + 2500 ‚Äì 250a = 0 \Leftrightarrow a = 17,2$.</p>
            <p>V·∫≠y $a = 17,2cm$.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q38">
    <p class="question-title"><strong>C√¢u 38.</strong> M·ªôt c√¥ng tr√¨nh ƒëang x√¢y d·ª±ng ƒë∆∞·ª£c g·∫Øn h·ªá tr·ª•c $Oxyz$ (ƒë∆°n v·ªã tr√™n c√°c tr·ª•c l√† m√©t). Ba b·ª©c t∆∞·ªùng l·∫ßn l∆∞·ª£t thu·ªôc c√°c m·∫∑t ph·∫≥ng $(P)$, $(Q)$, $(R)$ (nh∆∞ h√¨nh v·∫Ω) c·ªßa t√≤a nh√† l·∫ßn l∆∞·ª£t c√≥ ph∆∞∆°ng tr√¨nh: $(P) : 2x+2y-4z+15=0$, $(Q) : x + y + z ‚àí12 = 0$, $(R) : x + y ‚àí 2z = 0$.
    
    ƒê·ªô r·ªông c·ªßa b·ª©c t∆∞·ªùng thu·ªôc m·∫∑t ph·∫≥ng $(Q)$ c·ªßa t√≤a nh√† b·∫±ng bao nhi√™u m√©t? (L√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn ch·ªØ s·ªë h√†ng ph·∫ßn ch·ª•c).</p>
    <img src="data/im/ptmptt-c18.png">
    <div class="answer-check">
        <input type="text" id="input-q38" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q38','3,1')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q38"></span>
    </div>
    <div id="result-q38"></div>
    <button onclick="toggleSolution('q38')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q38" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 38</div>
        <div class="solution-content">
            <p>Ta c√≥:</p>
            <p>$(P): 2x+2y-4z+15=0$ c√≥ vect∆° ph√°p tuy·∫øn l√† $\vec{n}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q39">
    <p class="question-title"><strong>C√¢u 39.</strong> Bi·∫øt g√≥c quan s√°t ngang c·ªßa m·ªôt camera l√† 116¬∞. Trong kh√¥ng gian $Oxyz$, camera ƒë∆∞·ª£c ƒë·∫∑t t·∫°i ƒëi·ªÉm $A(2;1;5)$ v√† chi·∫øu th·∫≥ng v·ªÅ ph√≠a m·∫∑t ph·∫≥ng $(P): 2x‚àíy‚àí2z+13 = 0 $. H·ªèi v√πng quan s√°t ƒë∆∞·ª£c tr√™n m·∫∑t ph·∫≥ng $(P)$ c·ªßa camera l√† h√¨nh tr√≤n c√≥ di·ªán t√≠ch b·∫±ng bao nhi√™u? (L√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn ch·ªØ s·ªë h√†ng ph·∫ßn ch·ª•c).</p>
    <img src="data/im/ptmptt-c19.png">
    <div class="answer-check">
        <input type="text" id="input-q39" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q39','32,2')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q39"></span>
    </div>
    <div id="result-q39"></div>
    <button onclick="toggleSolution('q39')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q39" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 39</div>
        <div class="solution-content">
            <p>G·ªçi $A,B,C$ l√† c√°c ƒëi·ªÉm nh∆∞ h√¨nh v·∫Ω b√™n d∆∞·ªõi v√† $H$ l√† h√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa $A$ l√™n m·∫∑t ph·∫≥ng $(P)$.</p>
            <p>H√¨nh v·∫Ω</p>
            <p>\noteImage[width=0.45\linewidth]{data//im/ptmptt-c19_1.png}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q40">
    <p class="question-title"><strong>C√¢u 40.</strong> M·ªôt n·∫Øp b·ªÉ n∆∞·ªõc h√¨nh ch·ªØ nh·∫≠t $ABCD$ n·∫±m c·∫°nh b·ªù t∆∞·ªùng c√≥ k√≠ch th∆∞·ªõc $9dm\times12dm$ ƒë∆∞·ª£c k√©o d√†i ra t·ª´ m·∫∑t s√†n, do t√°c d·ª•ng c·ªßa tr·ªçng l·ª±c n√™n n·∫Øp b·ªÉ kh√¥ng th·ªÉ m·ªü ra ƒë∆∞·ª£c n·∫øu kh√¥ng c√≥ ng∆∞·ªùi gi·ªØ. Ng∆∞·ªùi ta d√πng m·ªôt s·ª£i d√¢y x√≠ch d√†i $15$ dm v√† k√©o cƒÉng n·ªëi ƒë·ªânh $C$ c·ªßa h√¨nh ch·ªØ nh·∫≠t v·ªõi ƒëi·ªÉm $M$ n·∫±m ph√≠a tr√™n b·ªù t∆∞·ªùng sao cho $AM =9dm$ v√† $AM$ vu√¥ng g√≥c v·ªõi m·∫∑t s√†n. Ch·ªçn h·ªá tr·ª•c $Oxyz$ nh∆∞ h√¨nh v·∫Ω, khi ƒë√≥ n·∫Øp b·ªÉ m·ªü ra v√† t·∫°o v·ªõi m·∫∑t s√†n m·ªôt g√≥c $\alpha$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô t√≠nh b·∫±ng dm). B·ªè qua ƒë·ªô d√†y c·ªßa n·∫Øp b·ªÉ. Ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng ch·ª©a n·∫Øp b·ªÉ sau khi k√©o l√™n l√† $x + by + cz + d = 0 $. T√≠nh $b + c^2 ‚Äì 2d = ?$</p>
    <img src="data/im/ptmptt-c20.png">
    <div class="answer-check">
        <input type="text" id="input-q40" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q40','3.')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q40"></span>
    </div>
    <div id="result-q40"></div>
    <button onclick="toggleSolution('q40')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q40" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 40</div>
        <div class="solution-content">
            <p>ƒêi·ªÉm $M$ n·∫±m tr√™n m·∫∑t ph·∫≥ng $(Oyz)$ v·ªõi $AM = 9dm\Rightarrow M (0;0;9)$ $z \ne 0$.</p>
            <p>Chi·∫øu $C$ l·∫ßn l∆∞·ª£t l√™n c√°c m·∫∑t ph·∫≥ng ta ƒë∆∞·ª£c $C(9\cos\alpha;12;9\sin\alpha)$.</p>
            <p>Ta c√≥: $CM =15\Leftrightarrow CM^2 = 15^2 \Leftrightarrow (9\cos\alpha)^2 +12^2 + (9\sin\alpha-9)^2 = 15^2</p>
            <p>$\Leftrightarrow 81\cos^2\alpha+144+81\sin^2\alpha-162\sin\alpha+81=225 \Leftrightarrow \cos^2\alpha + \sin^2\alpha ‚Äì 2\sin\alpha+1=1</p>
            <p>$\Leftrightarrow 1-2\sin\alpha+1=1\Leftrightarrow \sin\alpha =\frac{1}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q41">
    <p class="question-title"><strong>C√¢u 41.</strong> Tr√™n s∆∞·ªùn d·ªëc $E$ ƒë∆∞·ª£c x√°c ƒë·ªãnh b·ªüi c√°c ƒëi·ªÉm $A(12;0;5)$, $B(12;10; 0)$, $C(0;10;0)$ v√† $D(0;0;5)$, t·∫°i ƒëi·ªÉm $P(4;8;1)$ c√≥ ƒë·∫∑t m·ªôt ƒÉng-ten.
    
    T·∫°i ƒëi·ªÉm $S(4;8;6)$ s·∫Ω l·∫Øp m·ªôt thanh ch·ªëng, sao cho thanh n√†y vu√¥ng g√≥c v√† ch·∫°m v√†o s∆∞·ªùn d·ªëc t·∫°i ƒëi·ªÉm $F$.
    H√£y t√≠nh chi·ªÅu d√†i c·ªßa thanh ch·ªëng ƒë√≥ (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn trƒÉm)</p>
    <img src="data/im/ptmptt-c21.png">
    <div class="answer-check">
        <input type="text" id="input-q41" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q41','4,47')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q41"></span>
    </div>
    <div id="result-q41"></div>
    <button onclick="toggleSolution('q41')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q41" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 41</div>
        <div class="solution-content">
            <p>V√¨ $A(12;0;5), D(0;0;5)$ (c√πng $y = 0 \Rightarrow z = 5 $) v√† $B(12;10;0), C(0;10;0)$ (c√πng $y=10\Rightarrow z = 0 $), suy ra ph∆∞∆°ng tr√¨nh m·∫∑t ph·∫≥ng $E:2z+y-10=0$ ($\vec{n}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q42">
    <p class="question-title"><strong>C√¢u 42.</strong> M·ªôt chi·∫øc thuy·ªÅn m√°y di chuy·ªÉn trong m·ªôt v√πng n∆∞·ªõc c√≥ m·∫∑t ƒë√°y ph·∫≥ng nh∆∞ng h∆°i d·ªëc l√™n. C√°c ƒëi·ªÉm $P(0;0; -20)$, $Q(50; 50; -15)$ v√† $R(0;50;‚àí15)$ l√† c√°c ƒëi·ªÉm thu·ªôc m·∫∑t ƒë√°y. Tr√™n thuy·ªÅn c√≥ m·ªôt c·∫£m bi·∫øn ƒëo ti·∫øng v·ªçng ƒë·∫∑t ·ªü m·∫∑t n∆∞·ªõc. Kho·∫£ng c√°ch t·ª´ c·∫£m bi·∫øn ƒë·∫øn m·∫∑t ƒë√°y l√† bao nhi√™u khi c·∫£m bi·∫øn ·ªü ƒëi·ªÉm $A(50;50;0)$? (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn v·ªã)</p>
    <img src="data/im/ptmptt-c22.png">
    <div class="answer-check">
        <input type="text" id="input-q42" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q42','15')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q42"></span>
    </div>
    <div id="result-q42"></div>
    <button onclick="toggleSolution('q42')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q42" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 42</div>
        <div class="solution-content">
            <p>Ph∆∞∆°ng tr√¨nh m·∫∑t ƒë√°y $\vec{PQ}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q43">
    <p class="question-title"><strong>C√¢u 43.</strong> M·ªôt bu·ªïi bi·ªÉu di·ªÖn s√¢n kh·∫•u di·ªÖn ra tr√™n m·ªôt s√¢n kh·∫•u nghi√™ng v·ªÅ ph√≠a kh√°n gi·∫£.
    
    Cu·ªëi bu·ªïi bi·ªÉu di·ªÖn, n·ªØ di·ªÖn vi√™n ch√≠nh r·ªùi s√¢n kh·∫•u trong m·ªôt chi·∫øc gh·∫ø treo tr√™n d√¢y, di chuy·ªÉn t·ª´ ƒëi·ªÉm $A(8;0;0)$ ƒë·∫øn ƒëi·ªÉm $B(0;20;10)$. Sau khi ƒëi ƒë∆∞·ª£c $\frac{3}{4}$ qu√£ng ƒë∆∞·ªùng, c√¥ ·∫•y d·ª´ng l·∫°i ƒë·ªÉ th·ª±c hi·ªán ƒë·ªông t√°c cu·ªëi. H√£y t√≠nh kho·∫£ng c√°ch c·ªßa c√¥ ·∫•y ƒë·∫øn m·∫∑t ph·∫≥ng s√¢n kh·∫•u t·∫°i th·ªùi ƒëi·ªÉm ƒë√≥ (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn trƒÉm)</p>
    <img src="data/im/ptmptt-c23.png">
    <div class="answer-check">
        <input type="text" id="input-q43" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q43','5,82')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q43"></span>
    </div>
    <div id="result-q43"></div>
    <button onclick="toggleSolution('q43')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q43" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 43</div>
        <div class="solution-content">
            <p>G·∫Øn h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ nh∆∞ h√¨nh v·∫Ω, ta c√≥: $A(8;0;0)$, $D(8;20;0)$ v√† $E (0;20;2)</p>
            <p>M·∫∑t ph·∫≥ng s√¢n kh·∫•u</p>
            <p>Vect∆° ph√°p tuy·∫øn $\vec{n}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q44">
    <p class="question-title"><strong>C√¢u 44.</strong> Trong m·ªôt tr√≤ ch∆°i m√¥ ph·ªèng b·∫Øn s√∫ng, m·ªôt ng∆∞·ªùi ch∆°i ƒë·∫∑t ƒëi·ªÉm ng·∫Øm t·∫°i ƒëi·ªÉm $O$ l√† giao ƒëi·ªÉm c·ªßa $AC$ v√† $BD$ trong cƒÉn ph√≤ng h√¨nh h·ªôp ch·ªØ nh·∫≠t $ABCD.A'B'C'D'$ c√≥ k√≠ch th∆∞·ªõc $AB = 15(m)$, $AD = 20(m)$, $AA' = 25(m)$. Ng∆∞·ªùi ch∆°i di chuy·ªÉn tr√™n ƒëo·∫°n $BD$ c√≥ nhi·ªám v·ª• b·∫Øn tr√∫ng m·ªôt m·ª•c ti√™u di ƒë·ªông tr√™n m·∫∑t ph·∫≥ng $(CB'D')$ T√≠nh kho·∫£ng c√°ch ng·∫Øn nh·∫•t t·ª´ ƒëi·ªÉm ng·∫Øm ƒë√≥ ƒë·∫øn m·ª•c ti√™u (l√†m tr√≤n ƒë·∫øn ch·ªØ s·ªë th·∫≠p ph√¢n th·ª© 2).
    
    X√©t m·ªôt kh·ªëi l·∫≠p ph∆∞∆°ng pyrit c·∫°nh 3 cm, b·ªã m·∫•t m·ªôt g√≥c d∆∞·ªõi d·∫°ng h√¨nh ch√≥p tam gi√°c ƒë·ªÅu c√≥ c√°c c·∫°nh b√™n d√†i 1 cm. Ph∆∞∆°ng tr√¨nh c·ªßa m·∫∑t ph·∫≥ng v·ª° c√≥ d·∫°ng $ax + by + cz + 2 = 0 $. T√¨m $a+b+c$</p>
    <img src="data/im/ptmptt-c24.png">
    <div class="answer-check">
        <input type="text" id="input-q44" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q44','-1')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q44"></span>
    </div>
    <div id="result-q44"></div>
    <button onclick="toggleSolution('q44')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q44" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 44</div>
        <div class="solution-content">
            <p>Ta c√≥ $A(3;2;3), B(2;3;3), C (3;3; 2)</p>
            <p>$\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q45">
    <p class="question-title"><strong>C√¢u 45.</strong> Trong qu√° tr√¨nh √¥ng An x√¢y nh√† th√¨ ph·∫£i ƒë·ªï b√™ t√¥ng cho m·ªôt m√°i v√°t ƒë·ªÉ l·ª£p ng√≥i. √îng t√≠nh to√°n vi·ªác gh√©p c·ªët pha ƒëi qua ƒëi·ªÉm B tr√™n m·ªôt ch√¢n t∆∞·ªùng v√† ƒëi·ªÉm C tr√™n c·ªôt g√≥c nh√† v√† t·∫≠n d·ª•ng m·ªôt chi·∫øc c·ªôt c√≥ s·∫µn c√°ch ƒë·ªÅu hai b·ª©c t∆∞·ªùng 1m v√† chi·ªÅu cao 1m ( ƒë·ªânh c·ªôt l√† ƒëi·ªÉm M) ƒë·ªÉ ch·ªëng m·∫∑t gh√©p, ƒë·ªìng th·ªùi m·∫∑t gh√©p c·ªët pha ph·∫£i ƒëi qua ƒëi·ªÉm A tr√™n m·ªôt ch√¢n t∆∞·ªùng c√≤n l·∫°i c√°ch ƒëi·ªÉm O m·ªôt kho·∫£ng 4m (tham kh·∫£o h√¨nh v·∫Ω). Bi·∫øt r·∫±ng hai b·ª©c t∆∞·ªùng ƒë∆∞·ª£c x√¢y vu√¥ng g√≥c v·ªõi nhau, m·ªói b·ª©c t∆∞·ªùng ƒë·ªÅu vu√¥ng g√≥c v·ªõi s√†n m√°i nh√†. Di·ªán t√≠ch nh·ªè nh·∫•t c·ªßa khung gh√©p c·ªët pha ABC l√† bao nhi√™u m√©t vu√¥ng (k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn trƒÉm)?</p>
    <img src="data/im/ptmptt-c25.png">
    <div class="answer-check">
        <input type="text" id="input-q45" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q45','8,34')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q45"></span>
    </div>
    <div id="result-q45"></div>
    <button onclick="toggleSolution('q45')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q45" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 45</div>
        <div class="solution-content">
            <p>G·ªçi m·∫∑t ph·∫≥ng ƒëi qua $A(4;0;0), B(0;b;0),C(0;0;c);b,c>0$ c√≥ ph∆∞∆°ng tr√¨nh l√†</p>
            <p>$\frac{x}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q46">
    <p class="question-title"><strong>C√¢u 46.</strong> Trong ho·∫°t ƒë·ªông quay phim v√† ch·ª•p ·∫£nh chuy√™n nghi·ªáp, t·∫•m h·∫Øt s√°ng l√† m·ªôt c√¥ng c·ª• kh√¥ng th·ªÉ thi·∫øu. M·ªôt √™-k√≠p nh·∫≠n d·ª± √°n ch·ª•p h√¨nh cho m·ªôt cƒÉn h·ªô ph·ª•c v·ª• cho m·ª•c ƒë√≠ch qu·∫£ng qu·∫£ng. T·∫•m h·∫Øt s√°ng ƒë∆∞·ª£c ƒë·∫∑t tr√™n m·ªôt b·ªÅ m·∫∑t g·ªó m·ªèng h√¨nh tam gi√°c, m·ªói ƒë·ªânh c·ªßa m·∫∑t g·ªó ƒë·∫∑t tr√™n m·ªôt chi·∫øc c·ªçc l·∫ßn l∆∞·ª£t cao 2m, 1m v√† 0,5m. C·ªçc cao nh·∫•t ƒë·∫∑t ·ªü g√≥c t∆∞·ªùng, c·ªçc cao 1m s·∫Ω ƒë·∫∑t ·ªü t∆∞·ªùng sau nh√†, c√°ch t∆∞·ªùng tr√°i 2m, c·ªçc c√≤n l·∫°i ƒë·∫∑t ·ªü t∆∞·ªùng b√™n tr√°i, c√°ch t∆∞·ªùng sau 1m. ƒê·ªÉ ƒë·∫£m b·∫£o s·ª± ch·∫Øc ch·∫Øn, ng∆∞·ªùi ta ch·ªëng m·ªôt chi·∫øc c·ªçc vu√¥ng g√≥c m·∫∑t ƒë·∫•t v√† ƒë·ª° ph√≠a d∆∞·ªõi m·∫∑t g·ªó, c√°ch m·ªói b·ª©c t∆∞·ªùng 0,5m (ch√¢n c·ªçc ch·ªëng ƒë·ª° ·ªü m·∫∑t ƒë·∫•t). H·ªèi chi·∫øc c·ªçc ch·ªëng ƒë·ª° n√†y c√≥ chi·ªÅu d√†i bao nhi√™u m√©t?</p>
    <img src="data/im/ptmptt-c26.png">
    <div class="answer-check">
        <input type="text" id="input-q46" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q46','1')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q46"></span>
    </div>
    <div id="result-q46"></div>
    <button onclick="toggleSolution('q46')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q46" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 46</div>
        <div class="solution-content">
            <p>G·∫Øn h·ªá t·ªça ƒë·ªô $Oxyz$ v√†o ph√≠a g√≥c t∆∞·ªùng, ƒëi·ªÉm $O(0;0;0)$ tr√πng v·ªõi g√≥c t∆∞·ªùng, tr·ª•c cao $Oz$ tr√πng v·ªõi c·ªçc cao nh·∫•t v√† hai tr·ª•c $Ox, Oy$ l·∫ßn l∆∞·ª£t l√† hai ƒë∆∞·ªùng ch√¢n t∆∞·ªùng. M·ªói ƒë∆°n v·ªã ·ª©ng v·ªõi 1 m√©t th·ª±c t·∫ø.</p>
            <p>ƒê·ªânh c·ªßa c√°c c·ªçc c√≥ chi·ªÅu cao gi·∫£m d·∫ßn l·∫ßn l∆∞·ª£t l√† c√°c ƒëi·ªÉm $A, C, B$. Chi·∫øc c·ªçc ch·ªëng ƒë·∫∑t t·∫°i ƒëi·ªÉm $E$ v√† ƒëi·ªÉm ti·∫øp x√∫c gi·ªØa m·∫∑t g·ªó v√† c·ªçc ch·ªëng l√† ƒëi·ªÉm $H$.</p>
            <p>\noteImage[width=0.45\linewidth]{data//im/ptmptt-c26_1.png}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q47">
    <p class="question-title"><strong>C√¢u 47.</strong> Cho t·ªù gi·∫•y c√≥ h√¨nh d·∫°ng nh∆∞ sau: m·ªôt h√¨nh vu√¥ng $ABCD$ c√≥ c·∫°nh b·∫±ng 8, ·ªü hai c·∫°nh ƒë·ªëi di·ªán $AB$ v√† $CD$ l·∫ßn l∆∞·ª£t g·∫Øn hai n·ª≠a ƒë∆∞·ªùng tr√≤n c√≥ ƒë∆∞·ªùng k√≠nh l√† m·ªói c·∫°nh ·∫•y. Tr√™n cung tr√≤n $AB$ , l·∫•y 2 ƒëi·ªÉm chia th√†nh ba ƒëo·∫°n b·∫±ng nhau, l·∫•y ƒëi·ªÉm g·∫ßn $B$ l√† $P$. Tr√™n cung tr√≤n $CD$, l·∫•y ƒëi·ªÉm $Q$ chia th√†nh hai ƒëo·∫°n b·∫±ng nhau. G·∫•p t·ªù gi·∫•y l√™n theo hai ƒë∆∞·ªùng th·∫≥ng $AB$ v√† $CD$ sao cho hai n·ª≠a ƒë∆∞·ªùng tr√≤n d·ª±ng ƒë·ª©ng (c√πng ph√≠a) l√™n kh·ªèi m·∫∑t ph·∫≥ng $ABCD$. Khi ƒë√≥, t·ª´ hai ƒëi·ªÉm $P$ v√† $Q$ ta h·∫° c√°c ƒë∆∞·ªùng vu√¥ng g√≥c xu·ªëng m·∫∑t ph·∫≥ng $(ABCD)$ ƒë∆∞·ª£c c√°c h√¨nh chi·∫øu l√† $G$ v√† $H$.
    
    Ng∆∞·ªùi ta cho bi·∫øt $G$ v√† $H$ n·∫±m b√™n trong h√¨nh vu√¥ng $ABCD$ sao cho $PG = \sqrt{3};QH = 2\sqrt{3}$. G·ªçi $\theta$ l√† g√≥c gi·ªØa m·∫∑t ph·∫≥ng $(PCQ)$ v√† m·∫∑t ph·∫≥ng $(ABCD)$. H·ªèi gi√° tr·ªã c·ªßa $70 \cos^2 \theta$ b·∫±ng bao nhi√™u?</p>
    <img src="data/im/ptmptt-c27.png">
    <div class="answer-check">
        <input type="text" id="input-q47" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q47','40')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q47"></span>
    </div>
    <div id="result-q47"></div>
    <button onclick="toggleSolution('q47')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q47" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 47</div>
        <div class="solution-content">
            <p>G·∫Øn h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$, sao cho $O = C(0;0;0)$, tia $Ox = CD$, tia $Oy = CB$, tia $Oz$ th·∫≥ng ƒë·ª©ng l√™n.</p>
            <p>G·ªçi $E (4;0;0)$ l√† trung ƒëi·ªÉm c·ªßa $CD$, khi ƒë√≥ $QE = 4$, $EH = \sqrt{QE^2 ‚Äì QH^2}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q48">
    <p class="question-title"><strong>C√¢u 48.</strong> Trong kh√¥ng gian Oxyz, cho ƒë∆∞·ªùng th·∫≥ng d : $\frac{x+4}{3} = \frac{y-5}{-4} = \frac{z+2}{1}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒêi·ªÉm M (3; ‚àí4;1) n·∫±m tr√™n ƒë∆∞·ªùng th·∫≥ng d.
            <label><input name="q48a" type="radio" value='True'/> True</label>
            <label><input name="q48a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·ªôt vect∆° ch·ªâ ph∆∞∆°ng c·ªßa d l√† $\vec{u} = (-3;4;-1)$
            <label><input name="q48b" type="radio" value='True'/> True</label>
            <label><input name="q48b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) ƒê∆∞·ªùng th·∫≥ng d song song v·ªõi ƒë∆∞·ªùn th·∫≥ng $\Delta : \begin{cases} x = -4+3t \\ y = 5 ‚Äì 4t \\ z = -2+t \end{cases}$
            <label><input name="q48c" type="radio" value='True'/> True</label>
            <label><input name="q48c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) ƒê∆∞·ªùng th·∫≥ng $\Delta$ song song v·ªõi d v√† c·∫Øt c·∫£ hai ƒë∆∞·ªùng th·∫≥ng $d_1 : \frac{x-1}{3} = \frac{y+1}{1} = \frac{z-2}{2}$ v√† $d_2 : \frac{x+2}{2} = \frac{y-3}{4} = \frac{z}{1}$ c√≥ ph∆∞∆°ng tr√¨nh l√† $\Delta : \frac{x+4}{3} = \frac{y+1}{-4} = \frac{z+1}{1}$
            <label><input name="q48d" type="radio" value='True'/> True</label>
            <label><input name="q48d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q48',[\"False\",\"True\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q48"></span>
    </div>
    <button onclick="toggleSolution('q48')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q48" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 48</div>
        <div class="solution-content">
            <p>a) Sai: T·ªça ƒë·ªô ƒëi·ªÉm M (3; ‚àí4;1) kh√¥ng th·ªèa m√£n ph∆∞∆°ng tr√¨nh d.</p>
            <p>b) ƒê√∫ng: Ta c√≥ $\vec{u}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q49">
    <p class="question-title"><strong>C√¢u 49.</strong> Trong kh√¥ng gian Oxyz, cho M (2;1;0) v√† ƒë∆∞·ªùng th·∫≥ng d: $\frac{x-1}{2} = \frac{y+1}{1} = \frac{z}{-1}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒêi·ªÉm M (1;-1;1) n·∫±m tr√™n ƒë∆∞·ªùng th·∫≥ng d.
            <label><input name="q49a" type="radio" value='True'/> True</label>
            <label><input name="q49a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·ªôt vect∆° ch·ªâ ph∆∞∆°ng c·ªßa d l√† $\vec{u} = (2;1;-1)$
            <label><input name="q49b" type="radio" value='True'/> True</label>
            <label><input name="q49b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) ƒê∆∞·ªùng th·∫≥ng d song song v·ªõi ƒë∆∞·ªùng th·∫≥ng $\Delta : \begin{cases} x = 1+ 2t \\ y = -1 + t \\ z = -t \end{cases}$
            <label><input name="q49c" type="radio" value='True'/> True</label>
            <label><input name="q49c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) G·ªçi $\Delta$ l√† ƒë∆∞·ªùng th·∫≥ng ƒëi qua M, c·∫Øt v√† vu√¥ng g√≥c v·ªõi d th√¨ ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng th·∫≥ng $\Delta$ l√† $\begin{cases} x=2+t \\ y = 1-4t \\ z = -2t \end{cases}$
            <label><input name="q49d" type="radio" value='True'/> True</label>
            <label><input name="q49d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q49',[\"False\",\"True\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q49"></span>
    </div>
    <button onclick="toggleSolution('q49')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q49" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 49</div>
        <div class="solution-content">
            <p>a) Sai: T·ªça ƒë·ªô ƒëi·ªÉm M (1;-1;1) kh√¥ng th·ªèa m√£n ph∆∞∆°ng tr√¨nh d.</p>
            <p>b) ƒê√∫ng: M·ªôt vect∆° ch·ªâ ph∆∞∆°ng c·ªßa d l√† $\vec{u}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q50">
    <p class="question-title"><strong>C√¢u 50.</strong> Trong h·ªá t·ªça ƒë·ªô Oxyz, cho ƒë∆∞·ªùng th·∫≥ng d : $\frac{x-1}{1} = \frac{y-3}{-1} = \frac{z-2}{2}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒêi·ªÉm M (1;3;-2) n·∫±m tr√™n ƒë∆∞·ªùng th·∫≥ng d.
            <label><input name="q50a" type="radio" value='True'/> True</label>
            <label><input name="q50a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·ªôt vect∆° ch·ªâ ph∆∞∆°ng c·ªßa d l√† $\vec{u} = (‚àí1; 1; 2) $.
            <label><input name="q50b" type="radio" value='True'/> True</label>
            <label><input name="q50b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) ƒê∆∞·ªùng th·∫≥ng d song song v·ªõi ƒë∆∞·ªùn th·∫≥ng $\Delta : \begin{cases} x=1+t \\ y=3-t \\ z = 2+ 2t \end{cases}$
            <label><input name="q50c" type="radio" value='True'/> True</label>
            <label><input name="q50c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng vu√¥ng g√≥c chung c·ªßa d v√† ƒë∆∞·ªùng th·∫≥ng $d_2: \begin{cases} x = -3t \\ y=t \\ z=-1-3t \end{cases}$ l√† $\frac{x-2}{1} = \frac{y-2}{-3} = \frac{z-4}{-2}$.
            <label><input name="q50d" type="radio" value='True'/> True</label>
            <label><input name="q50d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q50',[\"False\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q50"></span>
    </div>
    <button onclick="toggleSolution('q50')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q50" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 50</div>
        <div class="solution-content">
            <p>a) Sai: T·ªça ƒë·ªô ƒëi·ªÉm M (1;3;-2) kh√¥ng th·ªèa m√£n ph∆∞∆°ng tr√¨nh d.</p>
            <p>b) Sai: $\vec{u}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q51">
    <p class="question-title"><strong>C√¢u 51.</strong> Trong Oxyz, cho m·∫∑t ph·∫≥ng (P) : $x + 2y + z ‚àí 4 = 0$ v√† ƒë∆∞·ªùng th·∫≥ng d : $\frac{x+1}{2} = \frac{y}{1} = \frac{z+2}{3}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒê∆∞·ªùng th·∫≥ng d c√≥ vect∆° ch·ªâ ph∆∞∆°ng $\vec{u_d} = (-1;0;-2)$.
            <label><input name="q51a" type="radio" value='True'/> True</label>
            <label><input name="q51a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) ƒê∆∞·ªùng th·∫≥ng (d) v√† m·∫∑t ph·∫≥ng (P) c·∫Øt nhau.
            <label><input name="q51b" type="radio" value='True'/> True</label>
            <label><input name="q51b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) G·ªçi H = d‚à©(P) $\Rightarrow$ H = (1;-1;1).
            <label><input name="q51c" type="radio" value='True'/> True</label>
            <label><input name="q51c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) ƒê∆∞·ªùng th·∫≥ng $\Delta$ n·∫±m trong m·∫∑t ph·∫≥ng (P) ƒë·ªìng th·ªùi c·∫Øt v√† vu√¥ng g√≥c v·ªõi ƒë∆∞·ªùng th·∫≥ng d c√≥ ph∆∞∆°ng tr√¨nh l√† $\frac{x-1}{5} = \frac{y-1}{-1} = \frac{z-1}{-3}$
            <label><input name="q51d" type="radio" value='True'/> True</label>
            <label><input name="q51d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q51',[\"False\",\"True\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q51"></span>
    </div>
    <button onclick="toggleSolution('q51')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q51" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 51</div>
        <div class="solution-content">
            <p>a) Sai: M·∫∑t ph·∫≥ng (P) c√≥ vect∆° ph√°p tuy·∫øn $\vec{n_p}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q52">
    <p class="question-title"><strong>C√¢u 52.</strong> Trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô Oxyz cho ƒëi·ªÉm A(1;0;2) v√† ƒë∆∞·ªùng th·∫≥ng d c√≥ ph∆∞∆°ng tr√¨nh: $\frac{x-1}{1} = \frac{y}{1} = \frac{z+1}{2}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒê∆∞·ªùng th·∫≥ng d c√≥ m·ªôt v√©c t∆° ch·ªâ ph∆∞∆°ng l√† $\vec{u} (1;1;2)$.
            <label><input name="q52a" type="radio" value='True'/> True</label>
            <label><input name="q52a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng (P) ƒëi qua ƒëi·ªÉm A v√† vu√¥ng g√≥c v·ªõi d c√≥ ph∆∞∆°ng tr√¨nh t·ªïng qu√°t l√† $x+y+2z-1 = 0$.
            <label><input name="q52b" type="radio" value='True'/> True</label>
            <label><input name="q52b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) H√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa A tr√™n ƒë∆∞·ªùng th·∫≥ng d l√† ƒëi·ªÉm H(1;0;‚àí1).
            <label><input name="q52c" type="radio" value='True'/> True</label>
            <label><input name="q52c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng th·∫≥ng $\Delta$ ƒëi qua A, vu√¥ng g√≥c v√† c·∫Øt d c√≥ d·∫°ng: $\frac{x-1}{1} = \frac{y}{1} = \frac{z-2}{-1}$
            <label><input name="q52d" type="radio" value='True'/> True</label>
            <label><input name="q52d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q52',[\"True\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q52"></span>
    </div>
    <button onclick="toggleSolution('q52')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q52" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 52</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: ƒê∆∞·ªùng th·∫≥ng d c√≥ m·ªôt v√©c t∆° ch·ªâ ph∆∞∆°ng l√† $\vec{u}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q53">
    <p class="question-title"><strong>C√¢u 53.</strong> Trong kh√¥ng gian Oxyz, cho ƒëi·ªÉm M (2;1;0) v√† ƒë∆∞·ªùng th·∫≥ng d: $\frac{x-1}{2} = \frac{y+1}{1} = \frac{z}{-1}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c m·ªánh ƒë·ªÅ sau:</p>
    <div class="options">
        <div class="option-row">a) ƒê∆∞·ªùng th·∫≥ng d c√≥ m·ªôt v√©c t∆° ch·ªâ ph∆∞∆°ng l√† $\vec{u} = (2;1;-1)$.
            <label><input name="q53a" type="radio" value='True'/> True</label>
            <label><input name="q53a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) M·∫∑t ph·∫≥ng (P) ƒëi qua ƒëi·ªÉm M v√† vu√¥ng g√≥c v·ªõi d c√≥ ph∆∞∆°ng tr√¨nh t·ªïng qu√°t l√† $2x + by + cz + d = 0$. Khi ƒë√≥ $b + c + d = ‚àí5$.
            <label><input name="q53b" type="radio" value='True'/> True</label>
            <label><input name="q53b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) G·ªçi M' l√† ƒëi·ªÉm ƒë·ªëi x·ª©ng v·ªõi M qua d. Khi ƒë√≥ M'(1;0;-2).
            <label><input name="q53c" type="radio" value='True'/> True</label>
            <label><input name="q53c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng th·∫≥ng $\Delta$ ƒëi qua ƒëi·ªÉm M c·∫Øt v√† vu√¥ng g√≥c v·ªõi ƒë∆∞·ªùng th·∫≥ng d. $\frac{x-2}{1} = \frac{y-1}{a} = \frac{z}{b}$. Khi ƒë√≥ $a + b = ‚àí6$.
            <label><input name="q53d" type="radio" value='True'/> True</label>
            <label><input name="q53d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q53',[\"True\",\"True\",\"False\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q53"></span>
    </div>
    <button onclick="toggleSolution('q53')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q53" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 53</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: ƒê∆∞·ªùng th·∫≥ng d c√≥ m·ªôt v√©c t∆° ch·ªâ ph∆∞∆°ng l√† $\vec{u}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q54">
    <p class="question-title"><strong>C√¢u 54.</strong> Trong kh√¥ng gian Oxyz, cho m·∫∑t ph·∫≥ng $(\alpha):x+y-z+6= 0$ v√† ƒë∆∞·ªùng th·∫≥ng d: $\frac{x-1}{2} = \frac{y+4}{3} = \frac{z}{5}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) MƒÉt ph·∫≥ng $(\alpha): x + y ‚àí z + 6 = 0$ c√≥ vect∆° ph√°p tuy·∫øn $\vec{n} = (1;1; ‚àí1)$.
            <label><input name="q54a" type="radio" value='True'/> True</label>
            <label><input name="q54a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) ƒê∆∞·ªùng th·∫≥ng d : $\frac{x-1}{2} = \frac{y+4}{3} = \frac{z}{5}$ c√≥ vect∆° ch·ªâ ph∆∞∆°ng $\vec{u} = (1;‚àí4;0)$.
            <label><input name="q54b" type="radio" value='True'/> True</label>
            <label><input name="q54b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) ƒê∆∞·ªùng th·∫≥ng d c·∫Øt $(\alpha)$.
            <label><input name="q54c" type="radio" value='True'/> True</label>
            <label><input name="q54c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) H√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa d tr√™n $(\alpha)$ c√≥ ph∆∞∆°ng tr√¨nh l√† $\frac{x}{2} = \frac{y+5}{3} = \frac{z-1}{5}$
            <label><input name="q54d" type="radio" value='True'/> True</label>
            <label><input name="q54d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q54',[\"True\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q54"></span>
    </div>
    <button onclick="toggleSolution('q54')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q54" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 54</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: M·∫∑t ph·∫≥ng $(\alpha): x + y ‚àí z + 6 = 0$ c√≥ vect∆° ph√°p tuy·∫øn $\vec{n}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q55">
    <p class="question-title"><strong>C√¢u 55.</strong> Trong kh√¥ng gian v·ªõi h√™ toa ƒë·ªô Oxyz, cho mƒÉt ph·∫≥ng (P):$x+y-z-1=0$ v√† ƒë∆∞·ªùng th·∫≥ng d: $\frac{x+2}{2} = \frac{y-4}{-2} = \frac{z+1}{1}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒêi·ªÉm N(0;2;0) thu·ªôc ƒë∆∞·ªùng th·∫≥ng d.
            <label><input name="q55a" type="radio" value='True'/> True</label>
            <label><input name="q55a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) ƒê∆∞·ªùng th·∫≥ng d song song v·ªõi m·∫∑t ph·∫≥ng (P).
            <label><input name="q55b" type="radio" value='True'/> True</label>
            <label><input name="q55b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) Ph∆∞∆°ng tr√¨nh tham s·ªë c·ªßa d l√† $\begin{cases} x = -2+2t \\ y = -4-2t,t \in \mathbb{R} \\ z = -1+t \end{cases}$
            <label><input name="q55c" type="radio" value='True'/> True</label>
            <label><input name="q55c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng th·∫≥ng d' l√† h√¨nh chi·∫øu vu√¥ng g√≥c c·ªßa d tr√™n (P) c√≥ ph∆∞∆°ng tr√¨nh l√† d': $\frac{x-2}{7} = \frac{y}{-5} = \frac{z-1}{2}$
            <label><input name="q55d" type="radio" value='True'/> True</label>
            <label><input name="q55d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q55',[\"True\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q55"></span>
    </div>
    <button onclick="toggleSolution('q55')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q55" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 55</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: Thay t·ªça ƒë·ªô N(0;2;0) v√†o d th·ªèa m√£n ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng th·∫≥ng d.</p>
            <p>b) Sai: Ta c√≥ $\vec{n_p}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q56">
    <p class="question-title"><strong>C√¢u 56.</strong> Trong kh√¥ng gian Oxyz, cho hai ƒëi·ªÉm A(1;3;3) v√† B(3;5;9). X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) M·ªôt vect∆° ch·ªâ ph∆∞∆°ng c·ªßa ƒë∆∞·ªùng th·∫≥ng AB l√†: $\vec{u} = (1;1;3)$.
            <label><input name="q56a" type="radio" value='True'/> True</label>
            <label><input name="q56a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) Ph∆∞∆°ng tr√¨nh tham s·ªë c·ªßa ƒë∆∞·ªùng th·∫≥ng AB l√†: $\begin{cases} x=3+t \\ y = 5 + 3t (t \in \mathbb{R}) \\ z = 9+3t \end{cases}$.
            <label><input name="q56b" type="radio" value='True'/> True</label>
            <label><input name="q56b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) ƒêi·ªÉm M (4;6;9) thu·ªôc ƒë∆∞·ªùng th·∫≥ng AB.
            <label><input name="q56c" type="radio" value='True'/> True</label>
            <label><input name="q56c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) Ph∆∞∆°ng tr√¨nh ƒë∆∞·ªùng th·∫≥ng d ƒëi qua ƒëi·ªÉm C(2;0;-3) v√† song song v·ªõi ƒë∆∞·ªùng th·∫≥ng AB l√†: $\frac{x-4}{1} = \frac{y-2}{1} = \frac{z-3}{3}$.
            <label><input name="q56d" type="radio" value='True'/> True</label>
            <label><input name="q56d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q56',[\"True\",\"False\",\"False\",\"True\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q56"></span>
    </div>
    <button onclick="toggleSolution('q56')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q56" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 56</div>
        <div class="solution-content">
            <p>a) ƒê√∫ng: $\vec{AB}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q57">
    <p class="question-title"><strong>C√¢u 57.</strong> Trong kh√¥ng gian Oxyz, cho ƒë∆∞·ªùng th·∫≥ng d: $\frac{x-2}{1} = \frac{y-1}{2} = \frac{z+3}{2}$. X√©t t√≠nh ƒë√∫ng sai c·ªßa c√°c kh·∫≥ng ƒë·ªãnh sau:</p>
    <div class="options">
        <div class="option-row">a) ƒê∆∞·ªùng th·∫≥ng d qua ƒëi·ªÉm M (1;2;2).
            <label><input name="q57a" type="radio" value='True'/> True</label>
            <label><input name="q57a" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">b) ƒê∆∞·ªùng th·∫≥ng d c√≥ m·ªôt vect∆° ch·ªâ ph∆∞∆°ng $\vec{v} = (2;4;4)$.
            <label><input name="q57b" type="radio" value='True'/> True</label>
            <label><input name="q57b" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">c) ƒê∆∞·ªùng th·∫≥ng d c√≥ ph∆∞∆°ng tr√¨nh tham s·ªë $\begin{cases} x=2+t \\ y = 1 + 2t \\ z = -3 + 2t \end{cases}$.
            <label><input name="q57c" type="radio" value='True'/> True</label>
            <label><input name="q57c" type="radio" value='False'/> False</label>
        </div>
        <div class="option-row">d) ƒê∆∞·ªùng th·∫≥ng $\Delta$ song song v·ªõi ƒë∆∞·ªùng th·∫≥ng $\Delta : \begin{cases} x=3-t \\ y = 2-2t \\ z = -1-2t \end{cases}$.
            <label><input name="q57d" type="radio" value='True'/> True</label>
            <label><input name="q57d" type="radio" value='False'/> False</label>
        </div>
    </div>
    <div class="answer-check">
        <button onclick="checkTrueFalseAnswer('q57',[\"False\",\"True\",\"True\",\"False\"])">‚úÖ Ki·ªÉm tra</button>
        <span id="result-q57"></span>
    </div>
    <button onclick="toggleSolution('q57')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q57" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 57</div>
        <div class="solution-content">
            <p>a) Sai: Thay M (1;2;0) v√†o ƒë∆∞·ªùng th·∫≥ng d, ta c√≥ $\frac{1-2}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q58">
    <p class="question-title"><strong>C√¢u 58.</strong> M·ªôt m√°y bay c·∫•t c√°nh t·∫°i m·ªôt s√¢n bay, sau khi b·∫Øt ƒë·∫ßu c·∫•t c√°nh trong th·ªùi gian ng·∫Øn m√°y bay s·∫Ω bay theo m·ªôt ƒë∆∞·ªùng th·∫≥ng v√† s√¢n bay n∆°i m√°y bay c·∫•t c√°nh ƒë∆∞·ª£c coi l√† m·ªôt m·∫∑t ph·∫≥ng. Ch·ªçn h·ªá t·ªça ƒë·ªô $Oxyz$, ƒë∆°n v·ªã ƒë·ªô d√†i tr√™n m·ªói tr·ª•c l√† 1 km. Bi·∫øt r·∫±ng, m√°y bay b·∫Øt ƒë·∫ßu c·∫•t c√°nh t·∫°i ƒëi·ªÉm $O(0;0;0)$ v√† sau m·ªôt th·ªùi gian ng·∫Øn m√°y bay bay ƒë·∫øn ƒëi·ªÉm $A(2;5;1,2)$ v√† s√¢n bay m√°y bay c·∫•t c√°nh n·∫±m tr√™n m·∫∑t ph·∫≥ng $(Oxy)$. G√≥c t·∫°o b·ªüi ƒë∆∞·ªùng bay c·ªßa m√°y bay c·∫•t c√°nh v√† s√¢n bay b·∫±ng bao nhi√™u (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ƒë∆°n v·ªã theo ƒë∆°n v·ªã ƒë·ªô l√† ƒë·ªô)?</p>
    <img src="data/im/ptdttt-c1.png">
    <div class="answer-check">
        <input type="text" id="input-q58" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q58','14')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q58"></span>
    </div>
    <div id="result-q58"></div>
    <button onclick="toggleSolution('q58')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q58" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 58</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p s·ªë: 14.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q59">
    <p class="question-title"><strong>C√¢u 59.</strong> Trong kh√¥ng gian $Oxyz$, m·ªôt khinh kh√≠ c·∫ßu ·ªü t·ªça ƒë·ªô $A(-16;-10;10)$ b·∫Øt ƒë·∫ßu bay v·ªõi vect∆° v·∫≠n t·ªëc kh√¥ng ƒë·ªïi $\vec{v}=(4;3;-1)$ (ƒë∆°n v·ªã v·∫≠n t·ªëc l√† km/h) v√† d·ª± ki·∫øn bay trong th·ªùi gian 10 gi·ªù. Bi·∫øt tr·∫°m ki·ªÉm so√°t kh√¥ng l∆∞u ƒë·∫∑t ·ªü v·ªã tr√≠ g·ªëc t·ªça ƒë·ªô $O$ ki·ªÉm so√°t ƒë∆∞·ª£c c√°c v·∫≠t th·ªÉ c√°ch tr·∫°m m·ªôt kho·∫£ng t·ªëi ƒëa b·∫±ng 12km. Th·ªùi gian k·ªÉ t·ª´ khi tr·∫°m ki·ªÉm so√°t kh√¥ng l∆∞u ph√°t hi·ªán ra khinh kh√≠ c·∫ßu ƒë·∫øn khi khinh kh√≠ c·∫ßu ra kh·ªèi v√πng ki·ªÉm so√°t l√† bao nhi√™u ph√∫t?</p>
    <img src="data/im/ptdttt-c2.png">
    <div class="answer-check">
        <input type="text" id="input-q59" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q59','240')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q59"></span>
    </div>
    <div id="result-q59"></div>
    <button onclick="toggleSolution('q59')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q59" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 59</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 240.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q60">
    <p class="question-title"><strong>C√¢u 60.</strong> Khi g·∫Øn h·ªá t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t√≠nh theo kil√¥m√©t) v√†o m·ªôt s√¢n bay, m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t s√¢n bay. M·ªôt m√°y bay bay theo ƒë∆∞·ªùng th·∫≥ng t·ª´ v·ªã tr√≠ $A(5; 0; 5)$ ƒë·∫øn v·ªã tr√≠ $B(10; 10; 3)$ v√† h·∫° c√°nh t·∫°i v·ªã tr√≠ $M (a; b; 0)$. Gi√° tr·ªã c·ªßa $a + b$ b·∫±ng bao nhi√™u (vi·∫øt k·∫øt qu·∫£ d∆∞·ªõi d·∫°ng s·ªë th·∫≠p ph√¢n)?</p>
    <img src="data/im/ptdttt-c3.png">
    <div class="answer-check">
        <input type="text" id="input-q60" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q60','42,5')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q60"></span>
    </div>
    <div id="result-q60"></div>
    <button onclick="toggleSolution('q60')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q60" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 60</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 42,5.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q61">
    <p class="question-title"><strong>C√¢u 61.</strong> Trong kh√¥ng gian v·ªõi h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$, m·ªói ƒë∆°n v·ªã tr√™n h·ªá tr·ª•c ·ª©ng v·ªõi 10 km, tr·∫°m ki·ªÉm so√°t kh√¥ng l∆∞u ƒëang theo d√µi hai m√°y bay. M√°y bay th·ª© nh·∫•t ban ƒë·∫ßu ·ªü t·ªça ƒë·ªô $A(25;-10;1)$ v√† bay theo h∆∞·ªõng vect∆° $\vec{v_1} = (-3;-4;0)$ v·ªõi t·ªëc ƒë·ªô kh√¥ng ƒë·ªïi l√† 750 km/h. M√°y bay th·ª© hai ban ƒë·∫ßu ·ªü t·ªça ƒë·ªô $B(30;-25;1,1)$ v√† bay theo h∆∞·ªõng vect∆° $\vec{v_2} =(-4;3;0)$ v·ªõi t·ªëc ƒë·ªô kh√¥ng ƒë·ªïi l√† 900 km/h. Tr√™n m√°y bay th·ª© nh·∫•t c√≥ g·∫Øn radar tr√°nh va ch·∫°m v·ªõi b√°n k√≠nh ho·∫°t ƒë·ªông l√† 50 km. H·ªèi th·ªùi gian m√°y bay th·ª© hai xu·∫•t hi·ªán tr√™n m√†n h√¨nh c·ªßa radar m√°y bay th·ª© nh·∫•t l√† bao nhi√™u ph√∫t (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn trƒÉm)?</p>
    <img src="data/im/ptdttt-c4.png">
    <div class="answer-check">
        <input type="text" id="input-q61" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q61','4,91')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q61"></span>
    </div>
    <div id="result-q61"></div>
    <button onclick="toggleSolution('q61')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q61" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 61</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 4,91.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q62">
    <p class="question-title"><strong>C√¢u 62.</strong> Kim t·ª± th√°p Giza ·ªü Ai C·∫≠p c√≥ d·∫°ng m·ªôt h√¨nh ch√≥p t·ª© gi√°c ƒë·ªÅu. Bi·∫øt r·∫±ng c·∫°nh ƒë√°y c·ªßa kim t·ª± th√°p d√†i 230 m v√† chi·ªÅu cao c·ªßa kim t·ª± th√°p l√† 146,6m. T√≠nh ƒë·ªô d·ªëc c·ªßa m·∫∑t b√™n kim t·ª± th√°p so v·ªõi m·∫∑t ph·∫≥ng n·∫±m ngang (k·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ƒë∆°n v·ªã c·ªßa ƒë·ªô).</p>
    <img src="data/im/ptdttt-c5.png">
    <img src="data/im/ptdttt-c5_sol.png">
    <div class="answer-check">
        <input type="text" id="input-q62" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q62','49')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q62"></span>
    </div>
    <div id="result-q62"></div>
    <button onclick="toggleSolution('q62')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q62" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 62</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 49.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q63">
    <p class="question-title"><strong>C√¢u 63.</strong> M·ªôt ph·∫ßn m·ªÅm m√¥ ph·ªèng v·∫≠n ƒë·ªông vi√™n t·∫≠p b·∫Øn bia m·ª•c ti√™u c√≥ k√≠ch th∆∞·ªõc nh·ªè $(42cm\times42cm)$ trong kh√¥ng gian $Oxyz$ (gi·∫£ s·ª≠ $|\vec{i}| = |\vec{j}| = |\vec{k}| = 1cm $). Cho bi·∫øt v·∫≠n ƒë·ªông vi√™n ƒë√≥ s·ª≠ d·ª•ng th∆∞·ªõc ng·∫Øm 3 v√† ƒë·ª©ng c√°ch xa bia m·ª•c ti√™u l√† 100 m, tr·ª•c $d$ c·ªßa n√≤ng s√∫ng v√† c·ªçc ƒë·ª° bia $d'$ l·∫ßn l∆∞·ª£t c√≥ ph∆∞∆°ng tr√¨nh $d : \begin{cases} x=t <br> y=2 <br> z=4 \end{cases}$ v√† $d' : \begin{cases} x=1 <br> y=2 <br> z=1+3t' \end{cases}$. ƒê·ªÉ b·∫Øn tr√∫ng h·ªìng t√¢m (thang ƒëi·ªÉm 10) th√¨ v·∫≠n ƒë·ªông vi√™n ph·∫£i ng·∫Øm b·∫Øn v√†o ƒëi·ªÉm $N(a;b;c)\in d'$ v√† c√°ch giao ƒëi·ªÉm c·ªßa $d$ v√† $d'$ m·ªôt kho·∫£ng 6 cm. Khi $c < 0$, t√≠nh gi√° tr·ªã bi·ªÉu th·ª©c $2a - b + 3c$.</p>
    <img src="data/im/ptdttt-c6.png">
    <div class="answer-check">
        <input type="text" id="input-q63" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q63','-6')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q63"></span>
    </div>
    <div id="result-q63"></div>
    <button onclick="toggleSolution('q63')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q63" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 63</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: -6.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q64">
    <p class="question-title"><strong>C√¢u 64.</strong> X√©t trong kh√¥ng gian $Oxyz$, ƒë√†i ki·ªÉm so√°t kh√¥ng l∆∞u s√¢n bay ƒë·∫∑t ·ªü g·ªëc to·∫° ƒë·ªô $O(0;0;0)$, ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c l√† ki-l√¥-m√©t. M·ªôt m√°y bay chuy·ªÉn ƒë·ªông theo ƒë∆∞·ªùng th·∫≥ng, bay qua hai v·ªã tr√≠ $A(-500;-300;500)$ v√† $B(-200;-200;450)$. Khi m√°y bay ·ªü g·∫ßn ƒë√†i ki·ªÉm so√°t kh√¥ng l∆∞u nh·∫•t, to·∫° ƒë·ªô m√°y bay l√† $(a;b;c)$. T√≠nh gi√° tr·ªã c·ªßa bi·ªÉu th·ª©c $P = a + b +c$.</p>
    <img src="data/im/ptdttt-c7.png">
    <div class="answer-check">
        <input type="text" id="input-q64" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q64','400')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q64"></span>
    </div>
    <div id="result-q64"></div>
    <button onclick="toggleSolution('q64')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q64" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 64</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 400.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q65">
    <p class="question-title"><strong>C√¢u 65.</strong> Khi kh·∫Øc ph·ª•c h·∫≠u qu·∫£ c·ªßa thi√™n tai, b√£o l≈©, m·ªôt trong nh·ªØng gi·∫£i ph√°p nh·∫±m ti·∫øp t·∫ø h√†ng c·ª©u tr·ª£ ƒë·∫øn nh·ªØng n∆°i kh√≥ ti·∫øp c·∫≠n l√† s·ª≠ d·ª•ng flycam ƒë·ªÉ x√°c ƒë·ªãnh v·ªã tr√≠ ch√≠nh x√°c c·ªßa ng∆∞·ªùi c·∫ßn c·ª©u tr·ª£, sau ƒë√≥ s·ª≠ d·ª•ng drone ƒë·ªÉ v·∫≠n chuy·ªÉn c√°c v·∫≠t d·ª•ng thi·∫øt y·∫øu th·∫£ xu·ªëng cho ng∆∞·ªùi n√†y, gi√∫p h·ªç c√≥ th·ªÉ c·∫ßm c·ª± trong khi ch·ªù ƒë·ª£i l·ª±c l∆∞·ª£ng c·ª©u h·ªô ƒë·∫øn n∆°i. Hai chi·∫øc drone l√†m nhi·ªám v·ª• chuy·ªÉn h√†ng c·ª©u tr·ª£ bay l√™n t·ª´ c√πng m·ªôt ƒë·ªãa ƒëi·ªÉm. Chi·∫øc th·ª© nh·∫•t bay ƒë·∫øn ƒëi·ªÉm c√°ch ƒëi·ªÉm xu·∫•t ph√°t 2,5km v·ªÅ ph√≠a nam v√† 1,5km v·ªÅ ph√≠a ƒë√¥ng, ƒë·ªìng th·ªùi c√°ch m·∫∑t ƒë·∫•t 60m. Chi·∫øc th·ª© hai bay ƒë·∫øn ƒëi·ªÉm c√°ch ƒëi·ªÉm xu·∫•t ph√°t 3km v·ªÅ ph√≠a b·∫Øc v√† 2,5km v·ªÅ ph√≠a t√¢y, ƒë·ªìng th·ªùi c√°ch m·∫∑t ƒë·∫•t 40m.Trong kh√¥ng gian, x√©t h·ªá t·ªça ƒë·ªô $Oxyz$ v·ªõi g·ªëc t·ªça ƒë·ªô $O$ ƒë·∫∑t t·∫°i ƒëi·ªÉm xu·∫•t ph√°t c·ªßa hai chi·∫øc drone, m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t ƒë·∫•t (ƒë∆∞·ª£c coi l√† m·∫∑t ph·∫≥ng). Gi·∫£ s·ª≠ trong tr∆∞·ªùng h·ª£p kh·∫©n c·∫•p c·∫ßn t√¨m m·ªôt v·ªã tr√≠ tr√™n m·∫∑t ƒë·∫•t ƒë·ªÉ ti·∫øp nhi√™n li·ªáu v√† c√°c v·∫≠t d·ª•ng c·ª©u tr·ª£ cho hai drone sao cho t·ªïng kho·∫£ng c√°ch t·ª´ v·ªã tr√≠ ti·∫øp nhi√™n li·ªáu t·ªõi hai drone nh·ªè nh·∫•t. V·ªã tr√≠ c·∫ßn t√¨m c√°ch g·ªëc t·ªça ƒë·ªô $a$ km theo h∆∞·ªõng b·∫Øc v√† $b$ km theo h∆∞·ªõng t√¢y. Khi ƒë√≥ $a + b$ b·∫±ng bao nhi√™u?</p>
    <div class="answer-check">
        <input type="text" id="input-q65" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q65','1,7')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q65"></span>
    </div>
    <div id="result-q65"></div>
    <button onclick="toggleSolution('q65')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q65" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 65</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 1,7.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q66">
    <p class="question-title"><strong>C√¢u 66.</strong> ƒê∆∞·ªùng ·ªëng d·∫´n tr√™n kh√¥ng l√† h·ªá th·ªëng ƒë∆∞·ªùng ·ªëng ƒë∆∞·ª£c treo tr√™n c√°c gi√° ƒë·ª° ho·∫∑c c·ªôt cao, d√πng ƒë·ªÉ v·∫≠n chuy·ªÉn d·∫ßu th√¥ ho·∫∑c c√°c s·∫£n ph·∫ßm d·∫ßu m·ªè t·ª´ n∆°i n√†y ƒë·∫øn n∆°i kh√°c m√† kh√¥ng c·∫ßn ch√¥n d∆∞·ªõi l√≤ng ƒë·∫•t. H·ªá th·ªëng n√†y th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng trong c√°c khu v·ª±c c√≥ ƒë·ªãa h√¨nh kh√≥ khƒÉn, v√πng bƒÉng gi√°, r·ª´ng r·∫≠m,... nh·ªØng n∆°i m√† vi·ªác ƒë√†o ƒë∆∞·ªùng ·ªëng ng·∫ßm kh√¥ng kh·∫£ thi.
    
    V·ªõi h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ th√≠ch h·ª£p, ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c l√† m√©t, ng∆∞·ªùi ta thi·∫øt l·∫≠p m·ªôt ƒë∆∞·ªùng ·ªëng d·∫´n d·∫ßu tr√™n kh√¥ng d·ªçc theo ƒë∆∞·ªùng th·∫≥ng $d: \begin{cases} x=t <br> y=0 \end{cases}$ ($t$ l√† tham s·ªë). V√¨ ƒë·ªãa h√¨nh ph·ª©c t·∫°p, $z=16$
    ng∆∞·ªùi ta ƒë√†nh ch·ªçn ƒëi·ªÉm $A(12;10;15)$ c·∫°nh v√°ch n√∫i ƒë·ªÉ l√†m ƒëi·ªÉm trung chuy·ªÉn t·ª´ m·∫∑t ƒë·∫•t (m·∫∑t ph·∫≥ng $Oxy$ ) ƒë·∫øn ƒë∆∞·ªùng ·ªëng n√†y. D·ª±a v√†o kinh nghi·ªám c·ªßa m√¨nh h·ªç ph·∫£i ch·ªçn v·ªã tr√≠ $B$ thu·ªôc ƒë∆∞·ªùng ·ªëng v√† v·ªã tr√≠ $C$ thu·ªôc m·∫∑t ƒë·∫•t sao cho t·ªïng ƒë·ªô d√†i c√°c ƒëo·∫°n ƒë∆∞·ªùng $AB, BC, AC$ l√† b√© nh·∫•t, t√¨m gi√° tr·ªã b√© nh·∫•t ƒë√≥ theo ƒë∆°n v·ªã m√©t, l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ch·ª•c.</p>
    <img src="data/im/ptdttt-c9.png">
    <div class="answer-check">
        <input type="text" id="input-q66" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q66','42,6')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q66"></span>
    </div>
    <div id="result-q66"></div>
    <button onclick="toggleSolution('q66')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q66" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 66</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 42,6.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q67">
    <p class="question-title"><strong>C√¢u 67.</strong> Trong m·ªôt khu du l·ªãch, ng∆∞·ªùi ta cho du kh√°ch tr·∫£i nghi·ªám thi√™n nhi√™n b·∫±ng c√°ch ƒëu theo ƒë∆∞·ªùng tr∆∞·ª£t zipline t·ª´ v·ªã tr√≠ $A$ cao 15 m c·ªßa th√°p 1 n√†y sang v·ªã tr√≠ $B$ cao 10 m c·ªßa th√°p 2 trong khung c·∫£nh tuy·ªát ƒë·∫πp xung quanh.
    
    V·ªõi h·ªá tr·ª•c to·∫° ƒë·ªô $Oxyz$ cho tr∆∞·ªõc (ƒë∆°n v·ªã: m√©t), to·∫° ƒë·ªô c·ªßa $A$ v√† $B$ l·∫ßn l∆∞·ª£t l√† $A(3;2,5;15)$ v√† $B(21;27,5;10)$. Khi du kh√°ch khi ·ªü ƒë·ªô cao 12 m√©t th√¨ t·ªça ƒë·ªô c·ªßa du kh√°ch l√∫c ƒë√≥ l√† $M(a;b;c)$. T√≠nh gi√° tr·ªã c·ªßa bi·ªÉu th·ª©c $T = a + b+c$.</p>
    <img src="data/im/ptdttt-c10.png">
    <div class="answer-check">
        <input type="text" id="input-q67" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q67','43,3')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q67"></span>
    </div>
    <div id="result-q67"></div>
    <button onclick="toggleSolution('q67')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q67" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 67</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 43,3.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q68">
    <p class="question-title"><strong>C√¢u 68.</strong> Trong kh√¥ng gian $Oxyz$, m·∫Øt m·ªôt ng∆∞·ªùi quan s√°t ƒë·∫∑t t·∫°i ƒëi·ªÉm $M (1;2;3)$ v√† v·∫≠t c·∫ßn quan s√°t ƒë·∫∑t t·∫°i ƒëi·ªÉm $N (2;3;-12)$. M·ªôt t·∫•m b√¨a c·ª©ng c√≥ d·∫°ng h√¨nh tr√≤n thu·ªôc m·∫∑t phƒÉng $Oxy$ t√¢m ƒë·∫∑t t·∫°i g·ªëc t·ªça ƒë·ªô, b√°n k√≠nh $R$ che khu·∫•t t·∫ßm nh√¨n c·ªßa ng∆∞·ªùi quan s√°t. Khi ƒë√≥ b√°n k√≠nh c·ªßa t·∫•m b√¨a nh·ªè nh·∫•t l√† bao nhi√™u? (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn trƒÉm)</p>
    <img src="data/im/ptdttt-c11.png">
    <div class="answer-check">
        <input type="text" id="input-q68" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q68','2,51')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q68"></span>
    </div>
    <div id="result-q68"></div>
    <button onclick="toggleSolution('q68')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q68" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 68</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 2,51.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q69">
    <p class="question-title"><strong>C√¢u 69.</strong> Trong m·ªôt ƒë·ª£t di·ªÖn t·∫≠p qu·ªëc ph√≤ng, hai ng∆∞·ªùi ·ªü v·ªã tr√≠ kh√°c nhau c√πng ng·∫Øm b·∫Øn m·ªôt m·ª•c ti√™u c·ªë ƒë·ªãnh tr√™n kh√¥ng. Ng∆∞·ªùi ta g·∫Øn m·ªôt h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t√≠nh theo m√©t), m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t ƒë·∫•t. Ng∆∞·ªùi th·ª© nh·∫•t b·∫Øn m·ªôt vi√™n ƒë·∫°n ƒëi qua hai ƒëi·ªÉm $A(5;7;10)$ v√† $B(6;9;12)$. Ng∆∞·ªùi th·ª© hai b·∫Øn m·ªôt vi√™n ƒë·∫°n ƒëi qua hai ƒëi·ªÉm $C(15;17;5)$ v√† $D$ (ƒëi·ªÉm $D$ ·ªü ƒë·ªô cao 26 m so v·ªõi m·∫∑t ƒë·∫•t). Bi·∫øt r·∫±ng sau m·ªôt th·ªùi gian r·ªùi kh·ªèi n√≤ng s√∫ng, hai vi√™n ƒë·∫°n ch·∫°m v·ªõi nhau t·∫°i v·ªã tr√≠ c√°ch ƒëi·ªÉm $A$ m·ªôt kho·∫£ng 150 m (tham kh·∫£o h√¨nh v·∫Ω)
    
    H·ªèi $D$ c√°ch $C$ m·ªôt kho·∫£ng bao nhi√™u m√©t? (K·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ch·ª•c.</p>
    <img src="data/im/ptdttt-c12.png">
    <div class="answer-check">
        <input type="text" id="input-q69" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q69','28,8')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q69"></span>
    </div>
    <div id="result-q69"></div>
    <button onclick="toggleSolution('q69')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q69" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 69</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p s·ªë: 28,8</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q70">
    <p class="question-title"><strong>C√¢u 70.</strong> M·ªôt h·ªô gia ƒë√¨nh mu·ªën l√†m chi·∫øc l·ªÅu nh∆∞ h√¨nh v·∫Ω. ƒê√°y n·∫±m tr√™n n·ªÅn ƒë·∫•t ph·∫≥ng, c√°c c·ªôt vu√¥ng g√≥c v·ªõi ƒë√°y c√≥ chi·ªÅu cao $AA'=DD' =1,5m, BB' = CC' = 2m$, ƒë√°y l√† h√¨nh ch·ªØ nh·∫≠t c√≥ $AB = 2m, AD = 1,5m$ (Tham kh·∫£o h√¨nh v·∫Ω minh ho·∫°). G√≥c t·∫°o b·ªüi m√°i nh√† v√† n·ªÅn nh√† l√† bao nhi√™u ƒë·ªô (l√†m tr√≤n ƒë·∫øn h√†ng ƒë∆°n v·ªã)</p>
    <img src="data/im/ptdttt-c13.png">
    <img src="data/im/ptdttt-c13_sol.png">
    <div class="answer-check">
        <input type="text" id="input-q70" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q70','14')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q70"></span>
    </div>
    <div id="result-q70"></div>
    <button onclick="toggleSolution('q70')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q70" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 70</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p s·ªë: 14</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q71">
    <p class="question-title"><strong>C√¢u 71.</strong> Khi g·∫Øn h·ªá tr·ª•c to·∫° ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t√≠nh theo m√©t) v√†o m·ªôt cƒÉn nh√† sao cho n·ªÅn nh√† thu·ªôc m·∫∑t ph·∫≥ng $(Oxy)$, ng∆∞·ªùi ta coi m·ªói m√°i nh√† l√† m·ªôt ph·∫ßn c·ªßa m·∫∑t ph·∫≥ng v√† th·∫•y ba v·ªã tr√≠ $A, B, C$ ·ªü m√°i nh√† b√™n tr√°i l·∫ßn l∆∞·ª£t c√≥ to·∫° ƒë·ªô $(2;0;4),(4;0;3)$ v√† $(4;9;3)$. G√≥c gi·ªØa m√°i nh√† b√™n tr√°i v√† n·ªÅn nh√† b·∫±ng bao nhi√™u ƒë·ªô (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ƒë∆°n v·ªã)?</p>
    <img src="data/im/ptdttt-c14.png">
    <div class="answer-check">
        <input type="text" id="input-q71" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q71','27')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q71"></span>
    </div>
    <div id="result-q71"></div>
    <button onclick="toggleSolution('q71')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q71" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 71</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 27</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q72">
    <p class="question-title"><strong>C√¢u 72.</strong> Khi g·∫Øn h·ªá tr·ª•c to·∫° ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t√≠nh theo kilom√©t) v√†o m·ªôt s√¢n bay, m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t s√¢n bay. M·ªôt m√°y bay ·ªü v·ªã tr√≠ $A(3;2;-3)$ s·∫Ω h·∫° c√°nh t·ªõi v·ªã tr√≠ $B(8;8;0)$. G√≥c gi·ªØa ƒë∆∞·ªùng bay (m·ªôt ph·∫ßn c·ªßa ƒë∆∞·ªùng th·∫≥ng $AB$ ) v√† s√¢n bay (m·ªôt ph·∫ßn c·ªßa m·∫∑t ph·∫≥ng $(Oxy)$) b·∫±ng bao nhi√™u ƒë·ªô (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ƒë∆°n v·ªã)?</p>
    <img src="data/im/ptdttt-c15.png">
    <div class="answer-check">
        <input type="text" id="input-q72" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q72','21')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q72"></span>
    </div>
    <div id="result-q72"></div>
    <button onclick="toggleSolution('q72')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q72" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 72</div>
        <div class="solution-content">
            <p>\textbf{Tr·∫£ l·ªùi: 21</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q73">
    <p class="question-title"><strong>C√¢u 73.</strong> Khi g·∫Øn h·ªá t·ªça ƒë·ªô $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t√≠nh theo kil√¥m√©t) v√†o m·ªôt s√¢n bay, m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t s√¢n bay. M·ªôt m√°y bay bay theo ƒë∆∞·ªùng th·∫≥ng t·ª´ v·ªã tr√≠ $A(5;0;5)$ ƒë·∫øn v·ªã tr√≠ $B(10;10;3)$ v√† h·∫° c√°nh t·∫°i v·ªã tr√≠ $M(a;b;0)$. Gi√° tr·ªã c·ªßa $a + b$ b·∫±ng bao nhi√™u (l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ch·ª•c)?</p>
    <img src="data/im/ptdttt-c16.png">
    <div class="answer-check">
        <input type="text" id="input-q73" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q73','42,5')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q73"></span>
    </div>
    <div id="result-q73"></div>
    <button onclick="toggleSolution('q73')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q73" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 73</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p s·ªë: 42,5.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q74">
    <p class="question-title"><strong>C√¢u 74.</strong> Ng∆∞·ªùi ta mu·ªën d·ª±ng m·ªôt c·ªôt ƒÉngten tr√™n m·ªôt s∆∞·ªùn ƒë·ªìi. ƒÇngten ƒë∆∞·ª£c d·ª±ng th·∫≥ng ƒë·ª©ng trong kh√¥ng gian $Oxyz$ v·ªõi ƒë·ªô d√†i ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c b·∫±ng 1m. G·ªçi $O$ l√† g·ªëc c·ªôt, $A$ l√† ƒëi·ªÉm bu·ªôc d√¢y c√°p v√†o c·ªôt ƒÉngten v√† $M, N$ l√† hai ƒëi·ªÉm neo d√¢y c√°p xu·ªëng m·∫∑t s∆∞·ªùn ƒë·ªìi (h√¨nh v·∫Ω).
    
    Cho bi·∫øt t·ªça ƒë·ªô c√°c ƒëi·ªÉm n√≥i tr√™n l·∫ßn l∆∞·ª£t l√† $O(0;0;0), A(0;0;8), M(4;-6;3), N(-4;-3; 2)$. G√≥c t·∫°o b·ªüi s·ª£i d√¢y c√°p $MA$ v·ªõi m·∫∑t ph·∫≥ng s∆∞·ªùn ƒë·ªìi (L√†m tr√≤n ƒë·∫øn h√†ng ƒë∆°n v·ªã, ƒë∆°n v·ªã ƒë·ªô).</p>
    <img src="data/im/ptdttt-c17.png">
    <div class="answer-check">
        <input type="text" id="input-q74" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q74','53')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q74"></span>
    </div>
    <div id="result-q74"></div>
    <button onclick="toggleSolution('q74')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q74" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 74</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 53</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q75">
    <p class="question-title"><strong>C√¢u 75.</strong> Trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô $Oxyz$, m·ªôt cabin c√°p treo xu·∫•t ph√°t t·ª´ ƒëi·ªÉm $A(10,3;0)$ v√† chuy·ªÉn ƒë·ªông ƒë·ªÅu theo ƒë∆∞·ªùng c√°p c√≥ vect∆° ch·ªâ ph∆∞∆°ng $\vec{u} =(-8;-6;0)$ v·ªõi t·ªëc ƒë·ªô l√† $10m/s$ (ƒê∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô l√† m√©t).
    Gi·∫£ s·ª≠ sau $t(s)$ k·ªÉ t·ª´ l√∫c xu·∫•t ph√°t ($t\ge0$), cabin ƒë·∫øn ƒëi·ªÉm $N$. M·ªôt ng∆∞·ªùi ƒë·ª©ng t·∫°i ƒëi·ªÉm $O(0;0;0)$ quan s√°t cabin ch·∫°y tr√™n c√°p treo, sau th·ªùi gian bao nhi√™u gi√¢y th√¨ kho·∫£ng c√°ch gi·ªØa ng∆∞·ªùi quan s√°t v√† cabin g·∫ßn nhau nh·∫•t (ƒë∆°n v·ªã gi√¢y)?</p>
    <img src="data/im/ptdttt-c18.png">
    <div class="answer-check">
        <input type="text" id="input-q75" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q75','0,98')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q75"></span>
    </div>
    <div id="result-q75"></div>
    <button onclick="toggleSolution('q75')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q75" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 75</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 0,98</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q76">
    <p class="question-title"><strong>C√¢u 76.</strong> C·∫ßu C·ªïng V√†ng (The Golden Gate Bridge) ·ªü M·ªπ. X√©t h·ªá tr·ª•c to·∫° ƒë·ªô $Oxyz$ v·ªõi $O$ l√† b·ªá c·ªßa ch√¢n c·ªôt tr·ª• t·∫°i m·∫∑t n∆∞·ªõc, tr·ª•c $Oz$ tr√πng v·ªõi c·ªôt tr·ª•, m·∫∑t ph·∫≥ng $(Oxy)$ l√† m·∫∑t n∆∞·ªõc v√† xem nh∆∞ tr·ª•c $Oy$ c√πng ph∆∞∆°ng v·ªõi c·∫ßu nh∆∞ h√¨nh v·∫Ω.
    
    D√¢y c√°p $AD$ (xem nh∆∞ l√† m·ªôt ƒëo·∫°n th·∫≥ng) ƒëi qua ƒë·ªânh $D$ thu·ªôc tr·ª•c $Oz$ v√† ƒëi·ªÉm $A$ thu·ªôc m·∫∑t ph·∫≥ng $(Oxy)$, trong ƒë√≥ ƒëi·ªÉm $D$ l√† ƒë·ªânh c·ªôt tr·ª• c√°ch m·∫∑t n∆∞·ªõc 326m, ƒëi·ªÉm $A$ c√°ch m·∫∑t n∆∞·ªõc 82m v√† c√°ch tr·ª•c $Oz$ 352m.Gi·∫£ s·ª≠ ta d√πng m·ªôt ƒëo·∫°n d√¢y n·ªëi ƒëi·ªÉm $N$ tr√™n d√¢y c√°p $AD$ v√† ƒëi·ªÉm $M$ tr√™n th√†nh c·∫ßu, bi·∫øt $M$ c√°ch m·∫∑t n∆∞·ªõc 82m v√† $MN$ song song v·ªõi c·ªôt tr·ª•. T√≠nh ƒë·ªô d√†i ƒëo·∫°n $MN$, bi·∫øt ƒëi·ªÉm $M$ c√°ch tr·ª•c $Oz$ m·ªôt kho·∫£ng b·∫±ng 250m (K·∫øt qu·∫£ l√†m tr√≤n ƒë·∫øn h√†ng ph·∫ßn ƒë∆°n ch·ª•c).</p>
    <img src="data/im/ptdttt-c19.png">
    <div class="answer-check">
        <input type="text" id="input-q76" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q76','70,7')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q76"></span>
    </div>
    <div id="result-q76"></div>
    <button onclick="toggleSolution('q76')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q76" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 76</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 70,7</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q77">
    <p class="question-title"><strong>C√¢u 77.</strong> Chu·∫©n b·ªã ƒë·∫øn ng√†y sinh nh·∫≠t, b·∫°n B√¨nh mu·ªën trang tr√≠ cƒÉn ph√≤ng tr·ªç c·ªßa m√¨nh ƒë·∫πp h∆°n. Tr∆∞·ªõc khi trang tr√≠, B√¨nh g·∫Øn 2 m√≥c treo v√†o c√°c v·ªã tr√≠ $P, Q$, r·ªìi cƒÉng m·ªôt s·ª£i d√¢y t·ª´ $P$ ƒë·∫øn $Q$. Ti·∫øp theo, b·∫°n g·∫Øn 2 m√≥c treo v√†o c√°c v·ªã tr√≠ $A$ v√† $B$, sau ƒë√≥ l·∫•y m·ªôt ƒëi·ªÉm $M$ n·∫±m gi·ªØa ƒëo·∫°n th·∫≥ng $PQ$ r·ªìi ti·∫øp t·ª•c cƒÉng d√¢y t·ª´ $M$ ƒë·∫øn $A$ v√† t·ª´ $M$ ƒë·∫øn $B$. X√©t m·ªôt h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$ sao cho $P(1;1;0), Q(3;0;1) A(1;0;-1), B(2;1;1)$ ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c l√† m√©t. Khi t·ªïng ƒë·ªô d√†i c√°c ƒëo·∫°n d√¢y m√† B√¨nh s·ª≠ d·ª•ng l√† ng·∫Øn nh·∫•t th√¨ kho·∫£ng c√°ch t·ª´ $M$ ƒë·∫øn $P$ b·∫±ng bao nhi√™u m√©t? (L√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn ch·ª•c).</p>
    <img src="data/im/ptdttt-c20.png">
    <div class="answer-check">
        <input type="text" id="input-q77" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q77','0,8')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q77"></span>
    </div>
    <div id="result-q77"></div>
    <button onclick="toggleSolution('q77')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q77" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 77</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 0,8.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q78">
    <p class="question-title"><strong>C√¢u 78.</strong> Ng∆∞·ªùi ta thi·∫øt k·∫ø m·ªôt d√¢y c√°p ch·∫°y th·∫≥ng t·ª´ ƒëi·ªÉm $X$ ·ªü tr√™n m·∫∑t ƒë·∫•t t·ªõi ƒë·ªânh $T$ c·ªßa m·ªôt t√≤a th√°p. Gi·∫£ s·ª≠ t·ªça ƒë·ªô c·ªßa c√°c ƒëi·ªÉm l√† $T (40;60;150)$ v√† $X (100;-40;0)$ trong h·ªá t·ªça ƒë·ªô kh√¥ng gian $Oxyz$, v·ªõi $O$ l√† g·ªëc t·ªça ƒë·ªô ƒë·∫∑t t·∫°i m·∫∑t ƒë·∫•t. Ng∆∞·ªùi ta mu·ªën n·ªëi ƒëi·ªÉm $A(40;30;-20)$ n·∫±m d∆∞·ªõi m·ªôt c√°i h·ªë t·ªõi m·ªôt ƒëi·ªÉm $M (a;b;c)$ n·∫±m tr√™n d√¢y c√°p sao kho·∫£ng c√°ch $MA$ n√†y l√† nh·ªè nh·∫•t. T√≠nh $a+b+c$.</p>
    <img src="data/im/ptdttt-c21.png">
    <div class="answer-check">
        <input type="text" id="input-q78" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q78','100')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q78"></span>
    </div>
    <div id="result-q78"></div>
    <button onclick="toggleSolution('q78')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q78" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 78</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 100.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q79">
    <p class="question-title"><strong>C√¢u 79.</strong> Trong kh√¥ng gian v·ªõi h·ªá tr·ª•c t·ªça ƒë·ªô $Oxyz$, x√©t m√¥ h√¨nh ph√≤ng kh√¥ng nh∆∞ sau: rada ƒë·∫∑t t·∫°i g·ªëc t·ªça ƒë·ªô $O(0;0;0)$, t√™n l·ª≠a ph√≤ng kh√¥ng ƒë·∫∑t t·∫°i ƒëi·ªÉm $M (0;50;0)$, m·ªói ƒë∆°n v·ªã t∆∞∆°ng ·ª©ng v·ªõi 10m, m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t ƒë·∫•t, tr·ª•c $Oz$ vu√¥ng g√≥c m·∫∑t ƒë·∫•t v√† h∆∞·ªõng l√™n. Gi√† s·ª≠ m·ªçi UAV (ph∆∞∆°ng ti·ªán bay kh√¥ng ng∆∞·ªùi l√°i) v√† t√™n l·ª≠a ƒë·ªÅu chuy·ªÉn ƒë·ªông th·∫≥ng ƒë·ªÅu. T·∫°i th·ªùi ƒëi·ªÉm $t = 0(s)$, raƒëa ph√°t hi·ªán ra UAV $A$ ·ªü to·∫° ƒë·ªô $A_0(1100,0,15)$. T·∫°i th·ªùi ƒëi·ªÉm $t = 1s$, raƒëa theo d√µi th·∫•y UAV $A$ ·ªü t·ªça ƒë·ªô $A_1(1095;1;14,5)$ tr√™n ƒë∆∞·ªùng th·∫≥ng $d$. T·∫°i th·ªùi ƒëi·ªÅm $t = 6(s)$, m·ªôt t√™n l·ª≠a ƒë∆∞·ª£c ph√≥ng l√™n v√† chuy·ªÉn ƒë·ªông th·∫≥ng ƒë·ªÅu v·ªõi v·∫≠n t·ªëc 1300(m/s), va ch·∫°m v√† ph√° hu·ª∑ UAV $A$ t·∫°i ƒëi·ªÉm $B$ tr√™n $d$. H·ªèi sau bao nhi√™u gi√¢y k·ªÉ t·ª´ l√∫c ƒë∆∞·ª£c ph√≥ng l√™n th√¨ t√™n l·ª≠a va ch·∫°m v·ªõi UAV (l√†m tr√≤n k·∫øt qu·∫£ ƒë·∫øn h√†ng ph·∫ßn trƒÉm c·ªßa gi√¢y)?</p>
    <img src="data/im/ptdttt-c22.png">
    <div class="answer-check">
        <input type="text" id="input-q79" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q79','7,93')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q79"></span>
    </div>
    <div id="result-q79"></div>
    <button onclick="toggleSolution('q79')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q79" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 79</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 7,93.</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q80">
    <p class="question-title"><strong>C√¢u 80.</strong> Trong m·ªôt trung t√¢m nghi√™n c·ª©u robot bay, ng∆∞·ªùi ta b·ªë tr√≠ m·ªôt thi·∫øt b·ªã ƒë·ªãnh v·ªã t·∫°i ƒëi·ªÉm c·ªë ƒë·ªãnh $A(1;0;2)$ trong kh√¥ng gian ba chi·ªÅu v·ªõi h·ªá to·∫° ƒë·ªô $Oxyz$ (c√°c ƒë∆°n v·ªã t·ªça ƒë·ªô ƒë∆∞·ª£c t√≠nh b·∫±ng m√©t). Thi·∫øt b·ªã n√†y giao ti·∫øp ƒë·ªìng th·ªùi v·ªõi hai c·∫£m bi·∫øn: C·∫£m bi·∫øn th·ª© nh·∫•t di chuy·ªÉn d·ªçc theo ƒë∆∞·ªùng th·∫≥ng $\Delta: \frac{x-3}{1}=\frac{y+1}{-1}=\frac{z-4}{2}$, c·∫£m bi·∫øn th·ª© hai ƒë∆∞·ª£c g·∫Øn tr√™n m·∫∑t ph·∫≥ng $(\alpha): 2x - y + z + 1 = 0 $. Gi·ªØa hai c·∫£m bi·∫øn ƒë∆∞·ª£c k·∫øt n·ªëi b·∫±ng m·ªôt ƒë∆∞·ªùng truy·ªÅn $BC$, trong ƒë√≥ $B$ n·∫±m tr√™n ƒë∆∞·ªùng th·∫≥ng $\Delta$, $C$ n·∫±m tr√™n m·∫∑t ph·∫≥ng $(\alpha)$ v√† thi·∫øt b·ªã ƒë·ªãnh v·ªã t·∫°i $A$ l√† trung ƒëi·ªÉm c·ªßa ƒëo·∫°n $BC$. Bi·∫øt r·∫±ng ƒë∆∞·ªùng th·∫≥ng $BC$ c√≥ m·ªôt v√©c t∆° ch·ªâ ph∆∞∆°ng $\vec{u} = (-2;a;b)$, h√£y t√≠nh gi√° tr·ªã $a + 2b$.</p>
    <img src="data/im/ptdttt-c23.png">
    <div class="answer-check">
        <input type="text" id="input-q80" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q80','-1,5')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q80"></span>
    </div>
    <div id="result-q80"></div>
    <button onclick="toggleSolution('q80')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q80" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 80</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: -1,5</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q81">
    <p class="question-title"><strong>C√¢u 81.</strong> T·∫°i m·ªôt s√¢n bay, ng∆∞·ªùi ta ch·ªçn h·ªá t·ªça ƒë·ªô $Oxyz$ c√≥ g·ªëc $O$ t·∫°i v·ªã tr√≠ ch√¢n c·ªßa ƒë√†i quan s√°t, m·∫∑t ph·∫≥ng $(Oxy)$ tr√πng v·ªõi m·∫∑t s√¢n bay (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c t·ªça ƒë·ªô t√≠nh theo kilom√©t). Tr√™n m√†n h√¨nh Raƒëa ng∆∞·ªùi ta quan s√°t m·ªôt m√°y bay ƒëang h·∫° c√°nh theo ƒë∆∞·ªùng th·∫≥ng t·ª´ v·ªã tr√≠ $A(4;0;10)$ ƒë·∫øn v·ªã tr√≠ $B(5; 5; 6)$ v√† ti·∫øp ƒë·∫•t t·∫°i v·ªã tr√≠ $C(a; b; 0)$. H·ªèi v·ªã tr√≠ ti·∫øp ƒë·∫•t c·ªßa m√°y bay c√°ch ch√¢n ƒë√†i quan s√°t bao nhi√™u kil√¥m√©t? (k·∫øt qu·∫£ l√†m tr√≤n m·ªôt ch·ªØ s·ªë th·∫≠p ph√¢n)</p>
    <img src="data/im/ptdttt-c24.png">
    <div class="answer-check">
        <input type="text" id="input-q81" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q81','14,1')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q81"></span>
    </div>
    <div id="result-q81"></div>
    <button onclick="toggleSolution('q81')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q81" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 81</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 14,1</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q82">
    <p class="question-title"><strong>C√¢u 82.</strong> M·ªôt chi·∫øc b√†n g·∫•p g·ªçn ƒë√£ ƒë∆∞·ª£c thi·∫øt l·∫≠p h·ªá t·ªça ƒë·ªô $Oxyz$. ƒêi·ªÉm $A$ l√† ch√¢n b√†n ti·∫øp x√∫c v·ªõi m·∫∑t ƒë·∫•t thu·ªôc ƒë∆∞·ªùng th·∫≥ng $a: \begin{cases} x=-3+t <br> y=1+t <br> z=-2+4t \end{cases}$ c·∫Øt m·∫∑t b√†n $(P):x+y-2z+6=0$ t·∫°i ƒëi·ªÉm $F$. ƒê·ªô d√†i ch√¢n b√†n $FA=40\sqrt{3}cm$, khi ƒë√≥ ƒë·ªô cao c·ªßa m·∫∑t b√†n t√≠nh t·ª´ m·∫∑t ƒë·∫•t l√† l√† bao nhi√™u cm ?</p>
    <img src="data/im/ptdttt-c25.png">
    <div class="answer-check">
        <input type="text" id="input-q82" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q82','40')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q82"></span>
    </div>
    <div id="result-q82"></div>
    <button onclick="toggleSolution('q82')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q82" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 82</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 40</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q83">
    <p class="question-title"><strong>C√¢u 83.</strong> M·ªôt c√¥ng ty logistics ƒëang th·ª≠ nghi·ªám h·ªá th·ªëng giao h√†ng t·ª± ƒë·ªông b·∫±ng m√°y bay kh√¥ng ng∆∞·ªùi l√°i (drone).
    Trong kh√¥ng gian $Oxyz$, m·ªói ƒë∆°n v·ªã tr√™n c√°c tr·ª•c t∆∞∆°ng ·ª©ng v·ªõi 1 m√©t tr√™n th·ª±c t·∫ø. M·∫∑t ngo√†i c·ªßa m·ªôt t√≤a nh√† cao t·∫ßng ƒë∆∞·ª£c xem l√† m·ªôt ph·∫ßn c·ªßa m·∫∑t ph·∫≥ng $(P)$ th·∫≥ng ƒë·ª©ng, ƒëi qua hai ƒëi·ªÉm $C(10;50;0)$ v√† $D(30;10;0)$. V·ªã tr√≠ giao h√†ng l√† ƒëi·ªÉm $B$ n·∫±m tr√™n m·∫∑t ph·∫≥ng $(P)$. Drone b·∫Øt ƒë·∫ßu bay t·ª´ kho h√†ng t·∫°i g·ªëc t·ªça ƒë·ªô $O(0;0;0)$. Ban ƒë·∫ßu, n√≥ bay theo m·ªôt ƒë∆∞·ªùng th·∫≥ng ƒë·∫øn v·ªã tr√≠ $A(30;40;120)$. T·ª´ v·ªã tr√≠ $A$, drone thay ƒë·ªïi ƒë∆∞·ªùng bay, di chuy·ªÉn theo ph∆∞∆°ng vu√¥ng g√≥c v·ªõi m·∫∑t ph·∫≥ng $(P)$ ƒë·∫øn v·ªã tr√≠ giao h√†ng $B$. T√≠nh kho·∫£ng c√°ch t·ª´ $O$ ƒë·∫øn $B$ (l√†m tr√≤n ƒë·∫øn h√†ng ƒë∆°n v·ªã).</p>
    <img src="data/im/ptdttt-c26.png">
    <div class="answer-check">
        <input type="text" id="input-q83" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q83','126')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q83"></span>
    </div>
    <div id="result-q83"></div>
    <button onclick="toggleSolution('q83')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q83" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 83</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°n √°n: 126</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q84">
    <p class="question-title"><strong>C√¢u 84.</strong> Tr·∫°m t√†u c·ª©u h·ªô ƒë∆∞·ª£c ƒë·∫∑t t·∫°i v·ªã tr√≠ $A(5;0;0)$ tr√™n m·ªôt h√≤n ƒë·∫£o nh·ªè trong kh√¥ng gian $Oxyz$ (ƒë∆°n v·ªã tr√™n m·ªói tr·ª•c ƒë∆∞·ª£c t√≠nh b·∫±ng km), ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m tr·∫°m c·ª©u h·ªô, c·ª©u n·∫°n tr√™n bi·ªÉn.
    
    T√†u du l·ªãch $B$ ƒëang di chuy·ªÉn (v·∫≠n t·ªëc kh√¥ng ƒë·ªïi) tr√™n tuy·∫øn ƒë∆∞·ªùng ƒë∆∞·ª£c m√¥ t·∫£ b·ªüi ƒë∆∞·ªùng th·∫≥ng $d_1 : \begin{cases} x=2+t <br> y=1-2t <br> z=0 \end{cases}$. T√†u ch·ªü h√†ng $C$ ƒëang di chuy·ªÉn (v·∫≠n t·ªëc kh√¥ng ƒë·ªïi) tr√™n tuy·∫øn ƒë∆∞·ªùng v·∫≠n t·∫£i ƒë∆∞·ª£c m√¥ t·∫£ b·ªüi ƒë∆∞·ªùng th·∫≥ng $d_2 : \begin{cases} x=2-s <br> y=11+s <br> z=0 \end{cases}$. Do th·ªùi ti·∫øt x·∫•u, n√™n hai t√†u $B$ v√† $C$ g·∫∑p s·ª± c·ªë v√† c·∫ßn ƒë∆∞·ª£c ti·∫øp c·∫≠n kh·∫©n c·∫•p. Tr·∫°m c·ª©u h·ªô ƒëi·ªÅu m·ªôt t√†u c·ª©u h·ªô xu·∫•t ph√°t t·ª´ $A$ ƒë·ªÉ l·∫ßn l∆∞·ª£t ti·∫øp c·∫≠n t√†u du l·ªãch $B$ tr∆∞·ªõc, sau ƒë√≥ ƒë·∫øn t√†u ch·ªü h√†ng $C$. X√©t v·ªã tr√≠ t·ªëi ∆∞u c·ªßa t√†u du l·ªãch $B$ d·ª´ng l·∫°i v√† t√†u ch·ªü h√†ng $C$ d·ª´ng l·∫°i sao cho t·ªïng qu√£ng ƒë∆∞·ªùng t√†u c·ª©u h·ªô c·∫ßn ƒëi $T = AB + BC + CA$ l√† nh·ªè nh·∫•t. Khi ƒë√≥ $P_{min} = \sqrt{a}$ (km), h√£y t√≠nh $a + 2025$?</p>
    <img src="data/im/ptdttt-c27.png">
    <div class="answer-check">
        <input type="text" id="input-q84" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q84','2269')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q84"></span>
    </div>
    <div id="result-q84"></div>
    <button onclick="toggleSolution('q84')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q84" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 84</div>
        <div class="solution-content">
            <p>Ch√∫ng ta c·∫ßn t√¨m v·ªã tr√≠ t·ªëi ∆∞u c·ªßa t√†u du l·ªãch $B$ (t∆∞∆°ng ·ª©ng v·ªõi ƒëi·ªÉm $B$ ) v√† t√†u ch·ªü h√†ng $C$ (t∆∞∆°ng</p>
            <p>·ª©ng v·ªõi ƒëi·ªÉm $C$ ) sao cho t·ªïng qu√£ng ƒë∆∞·ªùng c·ª©u h·ªô $T = AB + BC + CA$ l√† nh·ªè nh·∫•t.</p>
            <p>Trong kh√¥ng gian $Oxyz$, ta c√≥:</p>
            <p>+ Hai ƒë∆∞·ªùng th·∫≥ng $d_1, d_2$ c√πng n·∫±m trong m·∫∑t ph·∫≥ng $(\alpha):z=0$ v√† $A\in(\alpha)$.</p>
            <p>+ $d_1$ c√≥ m·ªôt v√©c t∆° ch·ªâ ph∆∞∆°ng $\vec{u_1}</p>
        </div>
    </div>
</div>
</section>
<section>
<div class="question" id="q85">
    <p class="question-title"><strong>C√¢u 85.</strong> Trong kh√¥ng gian v·ªõi h·ªá t·ªça ƒë·ªô $Oxyz$, cho hai l·ªõp k√≠nh l·∫ßn l∆∞·ª£t l√† hai m·∫∑t ph·∫≥ng c√≥ ph∆∞∆°ng tr√¨nh $(\alpha): 2x - 2y‚àí z + 3\sqrt{3} = 0, (\beta) : ‚àí4x + 4y + 2z +12\sqrt{3} = 0$. M·ªôt ngu·ªìn s√°ng ƒë∆∞·ª£c chi·∫øu v√†o hai t·∫•m k√≠nh l√† t·∫≠p h·ª£p c√°c ƒë∆∞·ªùng th·∫≥ng c√≥ vect∆° ch·ªâ ph∆∞∆°ng l√† $\vec{u} = (1;1;1)$ v√† ƒëi qua c√°c ƒëi·ªÉm $M(3;0;0), N(1;1;1)$ v√† $P(3;5;-5)$. Bi·∫øt r·∫±ng c√°c giao ƒëi·ªÉm c·ªßa c√°c ƒë∆∞·ªùng th·∫≥ng n√≥i tr√™n v·ªõi hai t·∫•m k√≠nh $(\alpha)$ v√† $(\beta)$ l√† 6 ƒë·ªânh c·ªßa m·ªôt kh·ªëi ƒëa di·ªán. Th·ªÉ t√≠ch $V$ c·ªßa kh·ªëi ƒëa di·ªán t·∫°o b·ªüi 6 ƒëi·ªÉm ƒë√≥ c√≥ k·∫øt qu·∫£ l√† $a\sqrt{b}$ v·ªõi $a,b$ nguy√™n d∆∞∆°ng v√† $b$ l√† s·ªë nguy√™n t·ªë. T√≠nh gi√° tr·ªã c·ªßa $a + b$.</p>
    <img src="data/im/ptdttt-c28.png">
    <div class="answer-check">
        <input type="text" id="input-q85" placeholder="Nh·∫≠p c√¢u tr·∫£ l·ªùi">
        <button onclick="checkShortAnswer('q85','138')">‚úÖ Ki·ªÉm tra</button>
        <span id="icon-q85"></span>
    </div>
    <div id="result-q85"></div>
    <button onclick="toggleSolution('q85')" style="margin-top: 10px; padding: 8px 15px; background: #17a2b8; color: white; border: none; border-radius: 5px;">üëÅÔ∏è Xem gi·∫£i</button>
    <div id="solution-q85" class="solution-box" style="display: none;">
        <div class="solution-title">H∆∞·ªõng d·∫´n gi·∫£i C√¢u 85</div>
        <div class="solution-content">
            <p>\textbf{ƒê√°p √°n: 138.</p>
        </div>
    </div>
</div>
</section>

<!-- K·∫æT TH√öC -->

<!---------------------------------------------------------THE END----------------------------------------------------->
</div>
</div>

<!-- === HTML T√çCH H·ª¢P: SLIDE MENU === -->
<div class="slide-menu" id="slideMenu">
    <div class="menu-header">
        <h3>üìã Danh s√°ch slide</h3>
        <button class="close-btn" id="closeSlideMenu">√ó</button>
    </div>
    <div class="menu-content">
        <div class="slide-list" id="slideList">
            <!-- T·ª± ƒë·ªông t·∫°o b·∫±ng JavaScript -->
        </div>
    </div>
</div>
<div class="menu-overlay" id="menuOverlay"></div>

<!-- === HTML T√çCH H·ª¢P: CANVAS V·∫º === -->
<canvas id="drawCanvas"></canvas>
<div class="toolbar" id="drawToolbar">
    <a href="..\index.html" title="V·ªÅ trang ch·ªß (demo)">
      <button id="homeBtn" style="font-size:22px;">üè†</button>
    </a>
    <select id="tool">
        <option value="pen">‚úèÔ∏è B√∫t</option>
        <option value="line">üìè ƒê∆∞·ªùng</option>
        <option value="rect">‚¨õ Ch·ªØ nh·∫≠t</option>
        <option value="parallelogram">‚ñ± B√¨nh h√†nh</option>
        <option value="circle">‚ö™ Tr√≤n</option>
        <option value="dashedLineBtn">‚Äì ‚Äì</option>
        <option value="ellipseBtn">‚¨≠ Elip</option>
        <option value="box">üì¶ H·ªôp 3D</option>
        <option value="pyramid3">üî∫ Ch√≥p tam gi√°c</option>
        <option value="pyramid4">üî≤ Ch√≥p t·ª© gi√°c</option>
        <option value="sphere">‚öΩ C·∫ßu</option>
    </select>
    <input id="draw-width" max="10" min="1" type="range" value="2"/>
    <input id="colorPicker" type="color" value="#6b21a8">
    <button id="undoBtn" title="Undo">‚Ü©Ô∏è</button>
    <button id="clearBtn">üßπ Xo√°</button>
    <button id="saveBtn">üíæ L∆∞u</button>
    <button id="exitBtn">‚ùå Tho√°t</button>
</div>

<!-- === MODAL SYSTEM C·∫¢I TI·∫æN === -->
<!-- Modal Qu·∫£n l√Ω L·ªõp v√† H·ªçc sinh -->
<div class="modal" id="class-management-modal">
    <div class="modal-content modal-content-scrollable">
        <button class="modal-close" id="close-class-management">√ó</button>
        <h3>üè´ Qu·∫£n l√Ω L·ªõp v√† H·ªçc sinh</h3>
        
        <div style="display: flex; gap: 20px; margin-bottom: 25px;">
            <button id="create-class-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #28a745, #20c997); color: white; border: none; border-radius: 10px; font-weight: 600;">
                ‚ûï T·∫°o L·ªõp M·ªõi
            </button>
            <button id="assign-student-btn-main" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #17a2b8, #138496); color: white; border: none; border-radius: 10px; font-weight: 600;">
                üéì C·∫•p M√£ HS
            </button>
            <button id="view-student-codes-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #6f42c1, #5a2d91); color: white; border: none; border-radius: 10px; font-weight: 600;">
                üìã DS M√£ HS
            </button>
            <button id="refresh-classes-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #ffc107, #e0a800); color: #000; border: none; border-radius: 10px; font-weight: 600;">
                üîÑ L√†m m·ªõi
            </button>
            <!-- TH√äM V√ÄO SAU N√öT L√ÄM M·ªöI -->
            <button id="class-poll-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #ffc107, #e0a800); color: #000; border: none; border-radius: 10px; font-weight: 600;">
                üó≥Ô∏è Poll L·ªõp
            </button>
            <button id="class-sync-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #6f42c1, #5a2d91); color: white; border: none; border-radius: 10px; font-weight: 600;">
                üîÑ ƒê·ªìng b·ªô Slide
            </button>
            <!-- TH√äM N√öT XEM K·∫æT QU·∫¢ POLL -->
            <button id="view-poll-results-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #17a2b8, #138496); color: white; border: none; border-radius: 10px; font-weight: 600;">
                üìä Xem K·∫øt qu·∫£ Poll
            </button>
            <!-- TH√äM N√öT XEM T∆Ø∆†NG T√ÅC -->
            <button id="view-interactions-btn" style="flex: 1; padding: 12px; background: linear-gradient(135deg, #fd7e14, #e55a00); color: white; border: none; border-radius: 10px; font-weight: 600;">
                üí¨ Xem T∆∞∆°ng t√°c
            </button>
        </div>

        <!-- Danh s√°ch l·ªõp -->
        <div style="margin-bottom: 25px;">
            <h4 style="color: #1a237e; margin-bottom: 15px;">üìö Danh s√°ch L·ªõp h·ªçc</h4>
            <div class="table-container" style="max-height: 300px;">
                <table>
                    <thead>
                        <tr>
                            <th>T√™n L·ªõp</th>
                            <th>M√£ L·ªõp</th>
                            <th>S·ªë HS</th>
                            <th>Ng√†y t·∫°o</th>
                            <th>Tr·∫°ng th√°i</th>
                            <th>Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody id="classes-list-body">
                        <tr>
                            <td colspan="6" style="text-align: center; padding: 20px; color: #666;">
                                ƒêang t·∫£i danh s√°ch l·ªõp...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>

        <!-- Danh s√°ch h·ªçc sinh -->
        <div>
            <h4 style="color: #1a237e; margin-bottom: 15px;">üë• Danh s√°ch H·ªçc sinh</h4>
            <div style="display: flex; gap: 15px; margin-bottom: 15px;">
                <input type="text" id="search-student-global" placeholder="üîç T√¨m h·ªçc sinh..." style="flex: 1; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                <select id="filter-class" style="padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                    <option value="all">T·∫•t c·∫£ l·ªõp</option>
                </select>
            </div>
            <div class="table-container" style="max-height: 400px;">
                <table>
                    <thead>
                        <tr>
                            <th>M√£ HS</th>
                            <th>H·ªç t√™n</th>
                            <th>L·ªõp</th>
                            <th>L·∫ßn cu·ªëi ho·∫°t ƒë·ªông</th>
                            <th>T·ªïng b√†i l√†m</th>
                            <th>ƒêi·ªÉm TB</th>
                            <th>Thao t√°c</th>
                        </tr>
                    </thead>
                    <tbody id="students-list-body">
                        <tr>
                            <td colspan="7" style="text-align: center; padding: 20px; color: #666;">
                                ƒêang t·∫£i danh s√°ch h·ªçc sinh...
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- Modal t·∫°o l·ªõp m·ªõi -->
<div class="modal" id="create-class-modal">
    <div class="modal-content" style="max-width: 500px;">
        <button class="modal-close" id="cancel-create-class">√ó</button>
        <h3>üè´ T·∫°o L·ªõp M·ªõi</h3>
        <form id="create-class-form">
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600;">T√™n l·ªõp:</label>
                <input type="text" id="class-name" placeholder="V√≠ d·ª•: 12A1, To√°n N√¢ng cao..." required style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
            </div>
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 8px; font-weight: 600;">M√¥ t·∫£:</label>
                <textarea id="class-description" placeholder="M√¥ t·∫£ v·ªÅ l·ªõp h·ªçc..." style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; height: 80px;"></textarea>
            </div>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button type="submit" style="padding: 12px 25px; background: linear-gradient(135deg, #28a745, #20c997); color: white; border: none; border-radius: 8px; font-weight: 600;">
                    üè´ T·∫°o L·ªõp
                </button>
                <button type="button" id="cancel-create-class-btn" style="padding: 12px 25px; background: #6c757d; color: white; border: none; border-radius: 8px;">H·ªßy</button>
            </div>
        </form>
    </div>
</div>

<!-- Modal c·∫•p m√£ h·ªçc sinh -->
<div class="modal" id="assign-student-modal">
    <div class="modal-content" style="max-width: 600px;">
        <button class="modal-close" id="cancel-assign-student">√ó</button>
        <h3>üéì C·∫•p M√£ H·ªçc Sinh</h3>
        
        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Ch·ªçn l·ªõp:</label>
            <select id="select-class-for-student" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
                <option value="">-- Ch·ªçn l·ªõp --</option>
            </select>
        </div>

        <div style="margin-bottom: 20px;">
            <label style="display: block; margin-bottom: 8px; font-weight: 600;">Th√¥ng tin h·ªçc sinh:</label>
            <input type="text" id="student-fullname" placeholder="H·ªç v√† t√™n h·ªçc sinh" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 10px;">
            <input type="email" id="student-email" placeholder="Email (tu·ª≥ ch·ªçn)" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px;">
        </div>

        <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px;">
            <h4 style="margin: 0 0 10px 0; color: #1a237e;">M√£ h·ªçc sinh s·∫Ω ƒë∆∞·ª£c t·∫°o:</h4>
            <div id="generated-student-code" style="font-family: monospace; font-size: 1.2em; font-weight: bold; color: #1a237e; background: white; padding: 10px; border-radius: 6px; text-align: center;">
                HS_XXXXXX
            </div>
        </div>

        <div style="display: flex; gap: 10px; justify-content: flex-end;">
            <button id="generate-student-code-btn" style="padding: 12px 25px; background: linear-gradient(135deg, #17a2b8, #138496); color: white; border: none; border-radius: 8px; font-weight: 600;">
                üé≤ T·∫°o M√£
            </button>
            <button id="assign-student-btn" style="padding: 12px 25px; background: linear-gradient(135deg, #28a745, #20c997); color: white; border: none; border-radius: 8px; font-weight: 600;">
                ‚úÖ C·∫•p M√£
            </button>
        </div>
    </div>
</div>

<!-- Modal danh s√°ch m√£ h·ªçc sinh -->
<div class="modal" id="student-codes-modal">
    <div class="modal-content" style="max-width: 800px;">
        <button class="modal-close" id="close-student-codes">√ó</button>
        <h3>üìã Danh s√°ch M√£ H·ªçc Sinh</h3>
        
        <div style="display: flex; gap: 15px; margin-bottom: 20px;">
            <select id="filter-class-codes" style="flex: 1; padding: 10px; border: 2px solid #ddd; border-radius: 8px;">
                <option value="all">T·∫•t c·∫£ l·ªõp</option>
            </select>
            <button id="export-codes-btn" style="padding: 10px 20px; background: linear-gradient(135deg, #6f42c1, #5a2d91); color: white; border: none; border-radius: 8px; font-weight: 600;">
                üì§ Xu·∫•t Excel
            </button>
        </div>

        <div class="table-container" style="max-height: 500px;">
            <table>
                <thead>
                    <tr>
                        <th>M√£ HS</th>
                        <th>H·ªç t√™n</th>
                        <th>L·ªõp</th>
                        <th>Ng√†y c·∫•p</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>M·∫≠t kh·∫©u</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="student-codes-list">
                    <tr>
                        <td colspan="7" style="text-align: center; padding: 30px; color: #666;">
                            ƒêang t·∫£i danh s√°ch m√£ h·ªçc sinh...
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!-- Confirm Delete Modal -->
<div class="confirm-modal" id="confirm-delete-modal">
    <div class="confirm-content">
        <h3>‚ö†Ô∏è X√°c nh·∫≠n X√≥a</h3>
        <p id="confirm-delete-message">B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a?</p>
        <div class="confirm-buttons">
            <button class="confirm-yes" id="confirm-delete-yes">X√≥a</button>
            <button class="confirm-no" id="confirm-delete-no">H·ªßy</button>
        </div>
    </div>
</div>

<!-- LOGIN MODAL -->
<div class="modal" id="login-modal">
    <div class="modal-content">
        <button class="modal-close" id="close-modal">√ó</button>
        <h3>üîê ƒêƒÉng nh·∫≠p h·ªá th·ªëng</h3>
        <form id="code-login-form">
            <div style="margin-bottom: 15px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 600;">M√£ ƒëƒÉng nh·∫≠p:</label>
                <input id="login-code" placeholder="Nh·∫≠p m√£ h·ªçc sinh/gi√°o vi√™n" required type="text"/>
            </div>
            <div style="margin-bottom: 20px;">
                <label style="display: block; margin-bottom: 5px; font-weight: 600;">H·ªç t√™n:</label>
                <input id="student-name" placeholder="Nh·∫≠p h·ªç t√™n c·ªßa b·∫°n" type="text"/>
            </div>
            <div style="display:flex;gap:10px;justify-content:flex-end;margin-top:20px;">
                <button type="submit" style="flex: 1;">üöÄ ƒêƒÉng nh·∫≠p</button>
            </div>
        </form>
        <div id="auth-status" style="margin-top: 15px;"></div>
        <div style="margin-top: 20px; padding: 15px; background: #f8f9fa; border-radius: 10px;">
            <p style="margin: 0; font-size: 0.9em; color: #666;">
                <strong>H∆∞·ªõng d·∫´n:</strong><br>
                ‚Ä¢ Gi√°o vi√™n: c·∫•p m√£ g·ªìm m√£ v√† h·ªç t√™n<br>
                ‚Ä¢ H·ªçc sinh nh·∫≠p ch√≠nh x√°c c·∫£ 2 <br>
            </p>
        </div>
    </div>
</div>

<!-- B·∫£ng theo d√µi h·ªçc sinh real-time -->
<div id="teacher-monitor">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 25px;">
        <h3 style="margin: 0; color: #1a237e;">üìä B·∫£ng theo d√µi h·ªçc sinh - REAL TIME</h3>
        <div>
            <button id="monitor-create-session" style="background: #17a2b8; color: white; border: none; padding: 8px 15px; border-radius: 5px; margin-right: 10px;">
                üÜî T·∫°o l·ªõp
            </button>
            <button id="monitor-start-poll" style="background: #ffc107; color: black; border: none; padding: 8px 15px; border-radius: 5px; margin-right: 10px;">
                üó≥Ô∏è Poll
            </button>
            <button id="monitor-sync-slides" style="background: #6f42c1; color: white; border: none; padding: 8px 15px; border-radius: 5px; margin-right: 10px;">
                üîÑ ƒê·ªìng b·ªô
            </button>
            <button id="closeMonitor" style="background: #ff4757; color: white; border: none; padding: 10px 20px; border-radius: 8px; font-weight: 600;">
                ‚úï ƒê√≥ng
            </button>
        </div>
    </div>
    
    <div style="margin-bottom: 20px; display: flex; gap: 30px; align-items: center;">
        <div>
            <strong>M√£ l·ªõp:</strong> <code id="monitor-session-code" style="background: #1a237e; color: white; padding: 5px 10px; border-radius: 5px;">Ch∆∞a c√≥</code>
        </div>
        <div>
            <strong>H·ªçc sinh online:</strong> <span id="live-student-count" style="font-size: 1.2em; font-weight: bold; color: #1a237e;">0</span>
        </div>
    </div>

    <!-- B·ªô l·ªçc v√† t√¨m ki·∫øm -->
    <div style="display: flex; gap: 15px; margin-bottom: 20px;">
        <input type="text" id="search-student" placeholder="üîç T√¨m theo t√™n h·ªçc sinh..." style="padding: 12px; border: 2px solid #ddd; border-radius: 10px; flex: 1; font-size: 1rem;">
        <select id="filter-status" style="padding: 12px; border: 2px solid #ddd; border-radius: 10px; font-size: 1rem;">
            <option value="all">T·∫•t c·∫£ tr·∫°ng th√°i</option>
            <option value="active">ƒêang l√†m b√†i</option>
            <option value="finished">ƒê√£ ho√†n th√†nh</option>
            <option value="not-started">Ch∆∞a b·∫Øt ƒë·∫ßu</option>
        </select>
    </div>

    <!-- B·∫£ng k·∫øt qu·∫£ -->
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th style="text-align: left;">H·ªçc sinh</th>
                    <th style="text-align: center;">Tr·∫°ng th√°i</th>
                    <th style="text-align: center;">ƒêi·ªÉm s·ªë</th>
                    <th style="text-align: center;">Th·ªùi gian l√†m</th>
                    <th style="text-align: center;">Ti·∫øn ƒë·ªô</th>
                    <th style="text-align: center;">Chi ti·∫øt</th>
                </tr>
            </thead>
            <tbody id="student-results-body">
                <tr>
                    <td colspan="6" style="text-align: center; padding: 30px; color: #666;">
                        <div style="font-size: 1.2em; margin-bottom: 10px;">üìä</div>
                        Ch∆∞a c√≥ h·ªçc sinh n√†o tham gia l·ªõp h·ªçc
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Th·ªëng k√™ t·ªïng quan -->
    <div style="margin-top: 30px; padding: 25px; background: linear-gradient(135deg, #f8f9ff 0%, #f0f2ff 100%); border-radius: 15px; border: 2px solid #e0e0e0;">
        <h4 style="margin-top: 0; color: #1a237e; margin-bottom: 20px;">üìà Th·ªëng k√™ t·ªïng quan l·ªõp h·ªçc</h4>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 20px;">
            <div style="text-align: center; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <div style="font-size: 2em; font-weight: bold; color: #17a2b8;" id="stats-total">0</div>
                <div style="font-size: 0.9em; color: #6c757d; font-weight: 600;">T·ªïng s·ªë HS</div>
            </div>
            <div style="text-align: center; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <div style="font-size: 2em; font-weight: bold; color: #28a745;" id="stats-completed">0</div>
                <div style="font-size: 0.9em; color: #6c757d; font-weight: 600;">ƒê√£ ho√†n th√†nh</div>
            </div>
            <div style="text-align: center; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <div style="font-size: 2em; font-weight: bold; color: #ffc107;" id="stats-average">0.0</div>
                <div style="font-size: 0.9em; color: #6c757d; font-weight: 600;">ƒêi·ªÉm TB</div>
            </div>
            <div style="text-align: center; padding: 20px; background: white; border-radius: 10px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                <div style="font-size: 2em; font-weight: bold; color: #dc3545;" id="stats-failed">0</div>
                <div style="font-size: 0.9em; color: #6c757d; font-weight: 600;">D∆∞·ªõi 5 ƒëi·ªÉm</div>
            </div>
        </div>
    </div>

    <!-- V√πng hi·ªÉn th·ªã k·∫øt qu·∫£ poll -->
    <div id="poll-results-area" style="display: none; margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 10px;">
        <h4 id="poll-results-title" style="color: #1a237e; margin-bottom: 15px;">üìä K·∫øt qu·∫£ kh·∫£o s√°t</h4>
        <canvas id="pollChartInMonitor" width="700" height="300"></canvas>
        <div id="poll-stats-in-monitor" style="margin-top: 15px;"></div>
    </div>
</div>

<!-- Poll modal (hi·ªán cho HS khi c√≥ poll) -->
<div class="modal" id="poll-modal">
  <div class="modal-content">
    <button class="modal-close" id="poll-close-btn">√ó</button>
    <h3 id="poll-title">üó≥Ô∏è Kh·∫£o s√°t nhanh</h3>
    <div id="poll-options"></div>
    <div style="margin-top:20px; display:flex; justify-content:space-between;">
      <button id="poll-submit-btn" style="background:linear-gradient(135deg, #28a745, #20c997); color:#fff; font-weight: 600;">‚úÖ G·ª≠i ph·∫£n h·ªìi</button>
    </div>
  </div>
</div>

<script>
// ===== FIREBASE CONFIGURATION =====
const firebaseConfig = {
  apiKey: "AIzaSyDVRsgVDCKk5lIfCRxhSlWiBetNlZBukcc",
  authDomain: "daytoantructuyen-149d9.firebaseapp.com",
  databaseURL: "https://daytoantructuyen-149d9-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "daytoantructuyen-149d9",
  storageBucket: "daytoantructuyen-149d9.firebasestorage.app",
  messagingSenderId: "258454714393",
  appId: "1:258454714393:web:bcf66624668e516934d288"
};

// ===== GLOBAL VARIABLES =====
let db = null;
let auth = null;
let currentSessionId = null;
let isTeacherLoggedIn = false;
let currentUser = null;
let pollChart = null;
let studentListeners = {};
let sessionCode = '';

// Bi·∫øn cho h·ªá th·ªëng t√≠nh ƒëi·ªÉm n√¢ng cao
window.isScoreCalculated = false;
window.studentAnswers = {};
window.correctAnswers = {};

// ===== S·ª¨A L·ªñI: BI·∫æN QU·∫¢N L√ù M√É H·ªåC SINH =====
let studentCodesMap = new Map(); // Thay th·∫ø studentCodes object b·∫±ng Map
let inactiveStudents = new Set(); // Theo d√µi h·ªçc sinh kh√¥ng ho·∫°t ƒë·ªông

// ===== MODAL SYSTEM C·∫¢I TI·∫æN =====
let activeModal = null;

function setupModalSystem() {
    // T·∫•t c·∫£ c√°c modal
    const modals = document.querySelectorAll('.modal, .confirm-modal');
    
    // Th√™m s·ª± ki·ªán click overlay ƒë·ªÉ ƒë√≥ng modal
    modals.forEach(modal => {
        modal.addEventListener('click', function(e) {
            if (e.target === this) {
                hideModal(this);
            }
        });
    });
    
    // Th√™m s·ª± ki·ªán ESC key
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && activeModal) {
            hideModal(activeModal);
        }
    });
    
    // C·∫≠p nh·∫≠t c√°c n√∫t ƒë√≥ng modal
    document.querySelectorAll('.modal-close, .confirm-no').forEach(btn => {
        btn.addEventListener('click', function() {
            const modal = this.closest('.modal, .confirm-modal');
            if (modal) hideModal(modal);
        });
    });
}

function showModal(modalId) {
    const modal = document.getElementById(modalId);
    if (modal) {
        // ·∫®n modal ƒëang active (n·∫øu c√≥)
        if (activeModal) {
            hideModal(activeModal);
        }
        
        modal.classList.add('active');
        activeModal = modal;
    }
}

function hideModal(modal) {
    if (modal) {
        modal.classList.remove('active');
        if (modal === activeModal) {
            activeModal = null;
        }
    }
}

function hideAllModals() {
    document.querySelectorAll('.modal.active, .confirm-modal.active').forEach(modal => {
        hideModal(modal);
    });
}

// ===== KH·ªûI T·∫†O V√Ä C√ÅC H√ÄM TI·ªÜN √çCH =====
document.addEventListener('DOMContentLoaded', function() {
    if (initializeFirebase()) {
        Reveal.initialize({
            width: "100%", height: "100%", margin: 0.02, minScale: 0.2, maxScale: 2,
            slideNumber: true, center: false, hash: true,
            plugins: [RevealMarkdown, RevealHighlight, RevealNotes, RevealMath],
            math: {
                mathjax: 'https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js',
                config: 'TeX-AMS_HTML-full'
            },
            transition: 'slide', backgroundTransition: 'fade',
            controls: true, progress: true, center: true, slideNumber: 'c/t'
            
        });
        
        // Kh·ªüi t·∫°o h·ªá th·ªëng modal c·∫£i ti·∫øn
        setupModalSystem();
        
        setupAuthentication();
        setupSessionManagement();
        setupPollSystem();
        setupStudentInteraction();
        
        Reveal.addEventListener('slidechanged', event => {
            updateGlobalProgress();
            updateActiveSlideInMenu();
            if (!isTeacherLoggedIn && sessionCode) {
                updateStudentProgress(Reveal.getIndices().h);
            }
        });
        
        setupModalControls();
        
        setupSlideMenu(); 
        setupCanvas(); 
        
        document.getElementById('currentDate').textContent = new Date().toLocaleDateString('vi-VN', {
            weekday: 'long', year: 'numeric', month: 'long', day: 'numeric'
        });

        const urlParams = new URLSearchParams(window.location.search);
        const urlSessionCode = urlParams.get('session');
        if (urlSessionCode) {
            sessionCode = urlSessionCode.toUpperCase();
            document.getElementById('monitor-session-code').textContent = sessionCode;
        }
        
        showNotification('H·ªá th·ªëng ƒë√£ s·∫µn s√†ng! Vui l√≤ng ƒëƒÉng nh·∫≠p ƒë·ªÉ b·∫Øt ƒë·∫ßu.', 'info');
        
        // TH√äM EVENT LISTENERS CHO CONTROLS M·ªöI
        document.getElementById('monitor-create-session').addEventListener('click', createNewSession);
        document.getElementById('monitor-start-poll').addEventListener('click', startPoll);
        document.getElementById('monitor-sync-slides').addEventListener('click', syncSlidesWithStudents);
        
        // Kh·ªüi t·∫°o h·ªá th·ªëng qu·∫£n l√Ω l·ªõp v·ªõi modal c·∫£i ti·∫øn
        setupClassManagement();


        setupStudentCodeManagement();
        
        // Kh·ªüi t·∫°o h·ªá th·ªëng theo d√µi chi ti·∫øt
        setTimeout(() => {
            setupDetailedMonitoring();
        }, 3000);

        // ===== S·ª¨A L·ªñI: KH·ªûI T·∫†O THEO D√ïI H·ªåC SINH KH√îNG HO·∫†T ƒê·ªòNG =====
        setInterval(checkInactiveStudents, 30000); // Ki·ªÉm tra m·ªói 30 gi√¢y
    } else {
        showNotification('Kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn c∆° s·ªü d·ªØ li·ªáu. Vui l√≤ng th·ª≠ l·∫°i sau.', 'error');
    }
});

function initializeFirebase() {
    try {
        firebase.initializeApp(firebaseConfig);
        db = firebase.database();
        auth = firebase.auth();
        console.log("‚úÖ Firebase initialized successfully");
        
        db.ref('.info/connected').on('value', snap => {
            const statusElement = document.getElementById('firebaseStatus');
            if (snap.val() === true) {
                statusElement.innerHTML = "‚úÖ Firebase: ƒê√£ k·∫øt n·ªëi";
                statusElement.className = "firebase-status firebase-connected";
            } else {
                statusElement.innerHTML = '<span class="loading-spinner"></span> Firebase: ƒêang k·∫øt n·ªëi...';
                statusElement.className = "firebase-status firebase-disconnected";
            }
        });
        return true;
    } catch (error) {
        console.error("‚ùå Firebase initialization failed:", error);
        showNotification('L·ªói kh·ªüi t·∫°o Firebase: ' + error.message, 'error');
        return false;
    }
}

// === L∆ØU K·∫æT QU·∫¢ L√ÄM B√ÄI (C√ì CHI TI·∫æT) ===
window.saveAttempt = async function(testId, detailsOrScore, maybeScore) {
    if (!currentUser || !sessionCode) {
        console.warn("‚ö†Ô∏è Vui l√≤ng ƒëƒÉng nh·∫≠p tr∆∞·ªõc khi l∆∞u!");
        return;
    }

    let answers = {};
    let totalScore = 0;

    // Nh·∫≠n d·∫°ng c√°ch g·ªçi
    if (typeof detailsOrScore === 'object' && maybeScore !== undefined) {
        // G·ªçi d·∫°ng: saveAttempt(testId, { studentAnswers, correctAnswers }, totalScore)
        answers = detailsOrScore.studentAnswers || {};
        totalScore = parseFloat(maybeScore);
    } else {
        // G·ªçi d·∫°ng: saveAttempt(testId, totalScore)
        totalScore = parseFloat(detailsOrScore);
    }

    try {
        // L∆∞u v√†o Firebase
        await db.ref(`attempts/${sessionCode}/${currentUser.uid}`).set({
            code: currentUser.code,
            name: currentUser.name,
            testId,
            score: totalScore,
            answers,
            createdAt: firebase.database.ServerValue.TIMESTAMP,
            sessionCode: sessionCode
        });
        
        console.log("‚úÖ ƒê√£ l∆∞u ƒëi·ªÉm:", totalScore);
        showNotification(`‚úÖ ƒê√£ l∆∞u k·∫øt qu·∫£: ${totalScore.toFixed(2)} ƒëi·ªÉm`, 'success');
    } catch (err) {
        console.error("‚ùå L·ªói l∆∞u:", err);
        showNotification('‚ùå L·ªói khi l∆∞u k·∫øt qu·∫£', 'error');
    }
}

// === L∆ØU K·∫æT QU·∫¢ T·ª™NG PH·∫¶N ===
window.savePartial = async function(questionId, userAnswer, correctAnswer, isCorrect) {
    if (!currentUser || !sessionCode) return;

    try {
        await db.ref(`partialResults/${sessionCode}/${currentUser.uid}/${questionId}`).set({
            userAnswer,
            correctAnswer,
            isCorrect,
            timestamp: firebase.database.ServerValue.TIMESTAMP
        });
    } catch (err) {
        console.error("‚ùå L·ªói l∆∞u k·∫øt qu·∫£ t·ª´ng ph·∫ßn:", err);
    }
}

// === H·ªÜ TH·ªêNG THEO D√ïI CHI TI·∫æT ===
function setupDetailedMonitoring() {
    // L·∫Øng nghe k·∫øt qu·∫£ l√†m b√†i real-time
    if (!sessionCode) return;
    
    db.ref(`attempts/${sessionCode}`).on('value', (snapshot) => {
        const attempts = snapshot.val() || {};
        updateDetailedMonitor(attempts);
    });
}

function updateDetailedMonitor(attempts) {
    const tbody = document.getElementById('student-results-body');
    if (!tbody) return;

    let html = '';
    let totalStudents = 0;
    let completedStudents = 0;
    let totalScore = 0;

    Object.entries(attempts).forEach(([studentId, attempt]) => {
        totalStudents++;
        const score = parseFloat(attempt.score) || 0;
        totalScore += score;
        
        if (score > 0) completedStudents++;

        const status = score > 0 ? 'finished' : 'active';
        const statusBadge = getStatusBadge(status);
        const timeAgo = attempt.createdAt ? getTimeAgo(attempt.createdAt) : '--:--';

        html += `
            <tr>
                <td>
                    <strong>${attempt.name || 'Ch∆∞a ƒë·∫∑t t√™n'}</strong><br>
                    <small style="color: #6c757d;">${attempt.code}</small>
                </td>
                <td style="text-align: center;">${statusBadge}</td>
                <td style="text-align: center; font-weight: bold; color: ${getScoreColor(score)}">
                    ${score > 0 ? score.toFixed(2) : '-'}
                </td>
                <td style="text-align: center;">${timeAgo}</td>
                <td style="text-align: center;">
                    <div style="background: #e0e0e0; border-radius: 5px; height: 8px; width: 100px; margin: 0 auto;">
                        <div style="background: linear-gradient(135deg, #1a237e, #3949ab); height: 100%; border-radius: 5px; width: ${calculateProgress(attempt.answers)}%;"></div>
                    </div>
                    <small>${calculateProgress(attempt.answers)}%</small>
                </td>
                <td style="text-align: center;">
                    <button onclick="viewStudentDetail('${studentId}')" style="padding: 6px 12px; border: none; background: #17a2b8; color: white; border-radius: 5px; cursor: pointer; font-size: 12px;">
                        üìä Chi ti·∫øt
                    </button>
                </td>
            </tr>
        `;
    });

    tbody.innerHTML = html || `
        <tr>
            <td colspan="6" style="text-align: center; padding: 40px; color: #666;">
                <div style="font-size: 1.5em; margin-bottom: 10px;">üìä</div>
                Ch∆∞a c√≥ h·ªçc sinh n√†o ho√†n th√†nh b√†i l√†m
            </td>
        </tr>
    `;

    // C·∫≠p nh·∫≠t th·ªëng k√™
    updateStatistics(totalStudents, completedStudents, totalScore);
}

function calculateProgress(answers) {
    if (!answers) return 0;
    const totalQuestions = 22; // T·ªïng s·ªë c√¢u h·ªèi
    const answeredQuestions = Object.keys(answers).length;
    return Math.round((answeredQuestions / totalQuestions) * 100);
}

function getTimeAgo(timestamp) {
    if (!timestamp) return '--:--';
    
    const now = Date.now();
    const time = typeof timestamp === 'number' ? timestamp : timestamp;
    const diffMs = now - time;
    const diffMins = Math.floor(diffMs / 60000);
    
    if (diffMins < 1) return 'V·ª´a xong';
    if (diffMins < 60) return `${diffMins} ph√∫t tr∆∞·ªõc`;
    
    const diffHours = Math.floor(diffMins / 60);
    if (diffHours < 24) return `${diffHours} gi·ªù tr∆∞·ªõc`;
    
    const diffDays = Math.floor(diffHours / 24);
    return `${diffDays} ng√†y tr∆∞·ªõc`;
}

function showNotification(message, type = 'info') {
    const notification = document.getElementById('notification');
    notification.innerHTML = message;
    notification.className = `notification ${type}`;
    notification.classList.add('show');
    setTimeout(() => { notification.classList.remove('show'); }, 6000);
}

function playSound(type) {
    if ('speechSynthesis' in window) {
        const utterance = new SpeechSynthesisUtterance();
        utterance.text = type === 'correct' ? 'Ch√≠nh x√°c!' : (type === 'partial' ? 'G·∫ßn ƒë√∫ng r·ªìi' : 'Sai r·ªìi!');
        utterance.lang = 'vi-VN';
        utterance.volume = 0.7;
        utterance.rate = 1.2;
        speechSynthesis.speak(utterance);
    }
}

// ===== H·ªÜ TH·ªêNG GIAO DI·ªÜN (UI) =====

function setupModalControls() {
    // C·∫≠p nh·∫≠t ƒë·ªÉ s·ª≠ d·ª•ng h·ªá th·ªëng modal m·ªõi
    document.getElementById('loginBtn').addEventListener('click', () => { showModal('login-modal'); });
    document.getElementById('teacherMonitorBtn').addEventListener('click', () => {
        if (isTeacherLoggedIn) showModal('teacher-monitor');
        else showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn truy c·∫≠p!', 'error');
    });
    document.getElementById('closeMonitor').addEventListener('click', () => { hideModal(document.getElementById('teacher-monitor')); });
    document.getElementById('selectExam').addEventListener('change', function(e) {
        const selectedExam = e.target.value;
        if (selectedExam && selectedExam !== 'mm') {
            window.location.href = selectedExam;
        }
    });
}

function updateGlobalProgress() {
    const currentSlide = Reveal.getCurrentSlide();
    if (!currentSlide) return;
    const slides = document.querySelectorAll('.reveal .slides section');
    const slideIndex = Array.from(slides).indexOf(currentSlide);
    const progress = (slideIndex / (slides.length - 1)) * 100;
    document.getElementById('globalProgress').style.width = progress + '%';
}

// ===== H·ªÜ TH·ªêNG X√ÅC TH·ª∞C (Authentication) =====
function setupAuthentication() {
    document.getElementById('code-login-form').addEventListener('submit', async e => {
        e.preventDefault();
        const code = document.getElementById('login-code').value.trim();
        const name = document.getElementById('student-name').value.trim() || 'H·ªçc sinh';
        
        if (!code) {
            showNotification('Vui l√≤ng nh·∫≠p m√£ ƒëƒÉng nh·∫≠p', 'error');
            return;
        }

        try {
            if (code === 'admin79') {
                await loginAsTeacher(name);
            } else if (code.startsWith('HS')) {
                // ===== S·ª¨A L·ªñI QUAN TR·ªåNG: CHO PH√âP ƒêƒÇNG NH·∫¨P NHI·ªÄU L·∫¶N V·ªöI C√ôNG M√É H·ªåC SINH =====
                await loginAsStudent(code, name);
            } else {
                showNotification('M√£ ƒëƒÉng nh·∫≠p kh√¥ng h·ª£p l·ªá', 'error');
            }
        } catch (error) {
            console.error('Login error:', error);
            showNotification('L·ªói ƒëƒÉng nh·∫≠p: ' + error.message, 'error');
        }
    });
}

async function loginAsTeacher(name) {
    isTeacherLoggedIn = true;
    currentUser = { uid: 'teacher_admin_79', name, role: 'teacher', code: 'admin79' };
    await db.ref('users/' + currentUser.uid).set({ name, role: 'teacher', lastLogin: firebase.database.ServerValue.TIMESTAMP });
    showNotification(`‚úÖ ƒêƒÉng nh·∫≠p th√†nh c√¥ng - GV: ${name}`, 'success');
    updateUIAfterLogin();
}

async function loginAsStudent(code, name) {
    // ===== S·ª¨A L·ªñI QUAN TR·ªåNG: CHO PH√âP ƒêƒÇNG NH·∫¨P NHI·ªÄU L·∫¶N V·ªöI C√ôNG M√É H·ªåC SINH =====
    try {
        const studentSnapshot = await db.ref(`studentCodes/${code}`).once('value');
        const studentData = studentSnapshot.val();
        
        if (!studentData) {
            showNotification('M√£ h·ªçc sinh kh√¥ng t·ªìn t·∫°i!', 'error');
            return;
        }
        
        // ===== S·ª¨A L·ªñI: LO·∫†I B·ªé KI·ªÇM TRA TR·∫†NG TH√ÅI "USED" - CHO PH√âP ƒêƒÇNG NH·∫¨P NHI·ªÄU L·∫¶N =====
        // KH√îNG KI·ªÇM TRA studentData.status === 'used' N·ªÆA
        
        if (studentData.name !== name) {
            showNotification('H·ªç t√™n kh√¥ng kh·ªõp v·ªõi m√£ h·ªçc sinh!', 'error');
            return;
        }

        // ===== S·ª¨A L·ªñI: KH√îNG C·∫¨P NH·∫¨T TR·∫†NG TH√ÅI TH√ÄNH "USED" N·ªÆA =====
        // Ch·ªâ c·∫≠p nh·∫≠t th·ªùi gian ƒëƒÉng nh·∫≠p cu·ªëi
        await db.ref(`studentCodes/${code}`).update({
            lastLogin: firebase.database.ServerValue.TIMESTAMP,
            studentName: name
        });

        isTeacherLoggedIn = false;
        currentUser = { uid: 'student_' + code + '_' + Date.now(), name, role: 'student', code };
        await db.ref('users/' + currentUser.uid).set({ 
            name, 
            role: 'student', 
            code, 
            lastLogin: firebase.database.ServerValue.TIMESTAMP 
        });
        
        showNotification(`‚úÖ ƒêƒÉng nh·∫≠p th√†nh c√¥ng - HS: ${name}`, 'success');
        updateUIAfterLogin();
        
        const sessionToJoin = prompt("Nh·∫≠p m√£ l·ªõp h·ªçc ƒë·ªÉ tham gia:");
        if (sessionToJoin) {
            sessionCode = sessionToJoin.toUpperCase();
            joinSessionAsStudent();
        }
    } catch (error) {
        console.error('Student login error:', error);
        showNotification('L·ªói ƒëƒÉng nh·∫≠p h·ªçc sinh: ' + error.message, 'error');
    }
}

function updateUIAfterLogin() {
    hideModal(document.getElementById('login-modal'));
    const loginBtn = document.getElementById('loginBtn');
    if (isTeacherLoggedIn) {
        loginBtn.innerHTML = 'üë®‚Äçüè´ ' + currentUser.name;
        loginBtn.style.background = '#28a745';
        document.getElementById('teacherMonitorBtn').style.display = 'inline-block';
        showNotification('Ch√†o m·ª´ng gi√°o vi√™n! B·∫°n c√≥ th·ªÉ t·∫°o l·ªõp h·ªçc m·ªõi.', 'success');
    } else {
        loginBtn.innerHTML = 'üë§ ' + currentUser.name;
        document.getElementById('studentInteractBtn').style.display = 'inline-block';
    }
}

// ===== QU·∫¢N L√ù L·ªöP H·ªåC (Session Management) =====
function setupSessionManagement() {
    // ƒê√£ chuy·ªÉn event listeners v√†o modal teacher-monitor
}

function generateSessionCode() {
    return Math.random().toString(36).substr(2, 6).toUpperCase();
}

async function createNewSession() {
    if (!isTeacherLoggedIn) return showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ th·ªÉ t·∫°o l·ªõp h·ªçc', 'error');
    sessionCode = generateSessionCode();
    try {
        await db.ref('sessions/' + sessionCode).set({
            created: firebase.database.ServerValue.TIMESTAMP,
            teacher: currentUser.name,
            status: 'active',
            currentSlide: 0
        });
        document.getElementById('monitor-session-code').textContent = sessionCode;
        showNotification(`‚úÖ ƒê√£ t·∫°o l·ªõp h·ªçc! M√£ l·ªõp: <strong>${sessionCode}</strong>`, 'success');
        startMonitoringSession();
    } catch (error) {
        console.error('Error creating session:', error);
        showNotification('L·ªói t·∫°o l·ªõp h·ªçc: ' + error.message, 'error');
    }
}

function joinSessionAsStudent() {
    if (!sessionCode || !currentUser) return showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p v√† c√≥ m√£ l·ªõp h·ªçc', 'error');
    const studentRef = db.ref('sessions/' + sessionCode + '/students/' + currentUser.uid);
    studentRef.set({
        name: currentUser.name, code: currentUser.code,
        joined: firebase.database.ServerValue.TIMESTAMP,
        status: 'active', score: 0, progress: 0, currentSlide: 0,
        lastActivity: firebase.database.ServerValue.TIMESTAMP // Th√™m th·ªùi gian ho·∫°t ƒë·ªông cu·ªëi
    }).then(() => {
        showNotification(`‚úÖ ƒê√£ tham gia l·ªõp h·ªçc: ${sessionCode}`, 'success');
        listenToSessionChanges();
    }).catch(error => {
        console.error('Error joining session:', error);
        showNotification('L·ªói tham gia l·ªõp h·ªçc: ' + error.message, 'error');
    });
}

function listenToSessionChanges() {
    db.ref('sessions/' + sessionCode + '/currentSlide').on('value', snapshot => {
        const slideIndex = snapshot.val();
        if (slideIndex !== null && slideIndex !== undefined && Reveal.getIndices().h !== slideIndex) {
            Reveal.slide(slideIndex);
        }
    });
    db.ref('sessions/' + sessionCode + '/poll').on('value', snapshot => {
    const pollData = snapshot.val();
    if (pollData && pollData.active) showPoll(pollData);
    else hidePoll();
    });
// X√ìA PH·∫¶N const pollData = {...} B·ªä TR√ôNG ·ªû ƒê√ÇY
}

function syncSlidesWithStudents() {
    if (!isTeacherLoggedIn || !sessionCode) return showNotification('Vui l√≤ng t·∫°o l·ªõp h·ªçc tr∆∞·ªõc', 'error');
    const slideIndex = Reveal.getIndices().h;
    db.ref('sessions/' + sessionCode + '/currentSlide').set(slideIndex)
        .then(() => showNotification(`‚úÖ ƒê√£ ƒë·ªìng b·ªô slide ${slideIndex + 1}`, 'success'))
        .catch(error => showNotification('L·ªói ƒë·ªìng b·ªô slide: ' + error.message, 'error'));
}

// === QU·∫¢N L√ù L·ªöP V√Ä H·ªåC SINH - C·∫¢I TI·∫æN V·ªöI MODAL SYSTEM ===
function setupClassManagement() {
    console.log("üîß Kh·ªüi t·∫°o qu·∫£n l√Ω l·ªõp...");
    
    // S·ª± ki·ªán m·ªü modal qu·∫£n l√Ω l·ªõp
    document.getElementById('classManagementBtn').addEventListener('click', () => {
        if (!isTeacherLoggedIn) {
            showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn qu·∫£n l√Ω l·ªõp!', 'error');
            return;
        }
        showModal('class-management-modal');
        loadClassesList();
        loadStudentsList();
    });

    // S·ª± ki·ªán t·∫°o l·ªõp m·ªõi
    document.getElementById('create-class-btn').addEventListener('click', () => {
        showModal('create-class-modal');
    });

    // Form t·∫°o l·ªõp
    document.getElementById('create-class-form').addEventListener('submit', async (e) => {
        e.preventDefault();
        await createNewClass();
    });

    // L√†m m·ªõi danh s√°ch
    document.getElementById('refresh-classes-btn').addEventListener('click', () => {
        loadClassesList();
        loadStudentsList();
    });

    // T√¨m ki·∫øm h·ªçc sinh
    document.getElementById('search-student-global').addEventListener('input', loadStudentsList);
    document.getElementById('filter-class').addEventListener('change', loadStudentsList);
}
// TH√äM V√ÄO CU·ªêI H√ÄM setupClassManagement()
        document.getElementById('class-poll-btn').addEventListener('click', startClassPoll);
        document.getElementById('class-sync-btn').addEventListener('click', syncClassSlides);
        document.getElementById('view-poll-results-btn').addEventListener('click', viewClassPollResults);
        document.getElementById('view-interactions-btn').addEventListener('click', viewClassInteractions);

// T·∫°o l·ªõp m·ªõi
async function createNewClass() {
    const className = document.getElementById('class-name').value.trim();
    const classDescription = document.getElementById('class-description').value.trim();

    if (!className) {
        showNotification('Vui l√≤ng nh·∫≠p t√™n l·ªõp!', 'error');
        return;
    }

    try {
        // T·∫°o backup tr∆∞·ªõc khi t·∫°o l·ªõp
        await createBackup('T·∫°o l·ªõp m·ªõi: ' + className);
        
        const classCode = generateClassCode();
        const classData = {
            name: className,
            description: classDescription,
            code: classCode,
            teacher: currentUser.name,
            teacherId: currentUser.uid,
            createdAt: firebase.database.ServerValue.TIMESTAMP,
            studentCount: 0,
            status: 'active'
        };

        await db.ref(`classes/${classCode}`).set(classData);
        
        hideModal(document.getElementById('create-class-modal'));
        document.getElementById('create-class-form').reset();
        
        showNotification(`‚úÖ ƒê√£ t·∫°o l·ªõp "${className}" v·ªõi m√£: ${classCode}`, 'success');
        loadClassesList();
        
    } catch (error) {
        console.error('L·ªói t·∫°o l·ªõp:', error);
        showNotification('‚ùå L·ªói khi t·∫°o l·ªõp!', 'error');
    }
}

// T·∫°o m√£ l·ªõp ng·∫´u nhi√™n
function generateClassCode() {
    const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
    let code = '';
    for (let i = 0; i < 6; i++) {
        code += chars[Math.floor(Math.random() * chars.length)];
    }
    return code;
}

// T·∫£i danh s√°ch l·ªõp
async function loadClassesList() {
    try {
        const snapshot = await db.ref('classes').orderByChild('createdAt').once('value');
        const classes = snapshot.val() || {};
        
        const tbody = document.getElementById('classes-list-body');
        let html = '';
        
        Object.entries(classes).forEach(([classCode, classData]) => {
            // Ch·ªâ hi·ªÉn th·ªã l·ªõp c·ªßa gi√°o vi√™n hi·ªán t·∫°i
            if (classData.teacherId !== currentUser.uid) return;
            
            const createDate = classData.createdAt ? 
                new Date(classData.createdAt).toLocaleDateString('vi-VN') : 'N/A';
            
            html += `
                <tr>
                    <td>
                        <strong>${classData.name}</strong>
                        ${classData.description ? `<br><small style="color: #666;">${classData.description}</small>` : ''}
                    </td>
                    <td><code style="background: #1a237e; color: white; padding: 4px 8px; border-radius: 4px;">${classCode}</code></td>
                    <td style="text-align: center;">
                        <span style="font-weight: bold; color: #1a237e;">${classData.studentCount || 0}</span>
                    </td>
                    <td>${createDate}</td>
                    <td style="text-align: center;">
                        <span class="status-active">üü¢ Ho·∫°t ƒë·ªông</span>
                    </td>
                    <td style="text-align: center;">
                        <button onclick="viewClassDetails('${classCode}')" style="padding: 6px 12px; background: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; margin: 2px;">
                            üëÅÔ∏è Xem
                        </button>
                        <button onclick="confirmDeleteClass('${classCode}')" style="padding: 6px 12px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; margin: 2px;">
                            üóëÔ∏è X√≥a
                        </button>
                    </td>
                </tr>
            `;
        });
        
        tbody.innerHTML = html || `
            <tr>
                <td colspan="6" style="text-align: center; padding: 30px; color: #666;">
                    Ch∆∞a c√≥ l·ªõp h·ªçc n√†o. H√£y t·∫°o l·ªõp ƒë·∫ßu ti√™n!
                </td>
            </tr>
        `;
        
        // C·∫≠p nh·∫≠t dropdown l·ªçc l·ªõp
        updateClassFilter(classes);
        
    } catch (error) {
        console.error('L·ªói t·∫£i danh s√°ch l·ªõp:', error);
        document.getElementById('classes-list-body').innerHTML = `
            <tr>
                <td colspan="6" style="text-align: center; padding: 30px; color: #dc3545;">
                    ‚ùå L·ªói khi t·∫£i danh s√°ch l·ªõp
                </td>
            </tr>
        `;
    }
}

// X√°c nh·∫≠n x√≥a l·ªõp
function confirmDeleteClass(classCode) {
    const classData = classes[classCode];
    if (!classData) return;
    
    document.getElementById('confirm-delete-message').textContent = 
        `B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a l·ªõp "${classData.name}"? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.`;
    
    document.getElementById('confirm-delete-yes').onclick = function() {
        deleteClass(classCode);
        hideModal(document.getElementById('confirm-delete-modal'));
    };
    
    showModal('confirm-delete-modal');
}

// X√≥a l·ªõp
async function deleteClass(classCode) {
    try {
        // T·∫°o backup tr∆∞·ªõc khi x√≥a
        await createBackup('X√≥a l·ªõp: ' + classes[classCode].name);
        
        await db.ref(`classes/${classCode}`).remove();
        showNotification('‚úÖ ƒê√£ x√≥a l·ªõp th√†nh c√¥ng!', 'success');
        loadClassesList();
    } catch (error) {
        console.error('L·ªói x√≥a l·ªõp:', error);
        showNotification('‚ùå L·ªói khi x√≥a l·ªõp!', 'error');
    }
}

// === QU·∫¢N L√ù M√É H·ªåC SINH - C·∫¢I TI·∫æN V·ªöI LU·ªíNG M·ªöI ===
function setupStudentCodeManagement() {
    console.log("üîß Kh·ªüi t·∫°o qu·∫£n l√Ω m√£ h·ªçc sinh...");
    
    // M·ªü modal c·∫•p m√£
    document.getElementById('assign-student-btn-main').addEventListener('click', () => {
        if (!isTeacherLoggedIn) {
            showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn c·∫•p m√£!', 'error');
            return;
        }
        showModal('assign-student-modal');
        loadClassesForAssignment();
        generateStudentCode();
    });

    // M·ªü modal danh s√°ch m√£
    document.getElementById('view-student-codes-btn').addEventListener('click', () => {
        showModal('student-codes-modal');
        loadStudentCodesList();
    });

    // T·∫°o m√£ m·ªõi
    document.getElementById('generate-student-code-btn').addEventListener('click', generateStudentCode);

    // C·∫•p m√£ h·ªçc sinh
    document.getElementById('assign-student-btn').addEventListener('click', assignStudentCode);
}

// T·∫£i danh s√°ch l·ªõp ƒë·ªÉ g√°n m√£
async function loadClassesForAssignment() {
    try {
        const snapshot = await db.ref('classes').once('value');
        const classes = snapshot.val() || {};
        const select = document.getElementById('select-class-for-student');
        
        let options = '<option value="">-- Ch·ªçn l·ªõp --</option>';
        
        Object.entries(classes).forEach(([classCode, classData]) => {
            if (classData.teacherId === currentUser.uid) {
                options += `<option value="${classCode}">${classData.name} (${classCode})</option>`;
            }
        });
        
        select.innerHTML = options;
        
    } catch (error) {
        console.error('L·ªói t·∫£i danh s√°ch l·ªõp:', error);
    }
}

// T·∫°o m√£ h·ªçc sinh ng·∫´u nhi√™n
function generateStudentCode() {
    const prefix = 'HS';
    const randomNum = Math.floor(100000 + Math.random() * 900000);
    const studentCode = `${prefix}${randomNum}`;
    
    document.getElementById('generated-student-code').textContent = studentCode;
    return studentCode;
}

// T·∫°o m·∫≠t kh·∫©u ng·∫´u nhi√™n
function generatePassword(length = 6) {
    const chars = 'ABCDEFGHJKLMNPQRSTUVWXYZ23456789';
    let password = '';
    for (let i = 0; i < length; i++) {
        password += chars[Math.floor(Math.random() * chars.length)];
    }
    return password;
}

// C·∫•p m√£ h·ªçc sinh - LU·ªíNG M·ªöI T·ªêI ∆ØU
async function assignStudentCode() {
    const classCode = document.getElementById('select-class-for-student').value;
    const studentName = document.getElementById('student-fullname').value.trim();
    const studentCode = document.getElementById('generated-student-code').textContent;

    if (!classCode) {
        showNotification('Vui l√≤ng ch·ªçn l·ªõp!', 'error');
        return;
    }

    if (!studentName) {
        showNotification('Vui l√≤ng nh·∫≠p h·ªç t√™n h·ªçc sinh!', 'error');
        return;
    }

    try {
        const password = generatePassword();
        
        // 1. L∆ØU M√É H·ªåC SINH v·ªõi th√¥ng tin l·ªõp
        const studentCodeData = {
            code: studentCode,
            name: studentName,
            classCode: classCode,
            className: await getClassName(classCode), // L·∫•y t√™n l·ªõp
            password: password,
            teacherId: currentUser.uid,
            teacherName: currentUser.name,
            createdAt: firebase.database.ServerValue.TIMESTAMP,
            status: 'active' // ===== S·ª¨A L·ªñI: LU√îN ƒê·ªÇ STATUS L√Ä 'active' THAY V√å 'used' =====
        };

        await db.ref(`studentCodes/${studentCode}`).set(studentCodeData);

        // 2. C·∫¨P NH·∫¨T S·ªê L∆Ø·ª¢NG H·ªåC SINH TRONG L·ªöP
        await updateStudentCountInClass(classCode);

        // 3. T·∫†O USER H·ªåC SINH (n·∫øu c·∫ßn)
        await createStudentUser(studentCode, studentName, classCode);

        showNotification(`‚úÖ ƒê√£ c·∫•p m√£ ${studentCode} cho ${studentName} trong l·ªõp`, 'success');
        loadStudentCodesList();
        loadStudentsList(); // Refresh danh s√°ch h·ªçc sinh
        
        document.getElementById('student-fullname').value = '';
        document.getElementById('student-fullname').focus();
        generateStudentCode();

    } catch (error) {
        console.error('L·ªói c·∫•p m√£ h·ªçc sinh:', error);
        showNotification('‚ùå L·ªói khi c·∫•p m√£ h·ªçc sinh!', 'error');
    }
}

// H√†m l·∫•y t√™n l·ªõp t·ª´ m√£ l·ªõp
async function getClassName(classCode) {
    try {
        const snapshot = await db.ref(`classes/${classCode}/name`).once('value');
        return snapshot.val() || 'Unknown Class';
    } catch (error) {
        return 'Unknown Class';
    }
}

// H√†m c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng h·ªçc sinh trong l·ªõp
async function updateStudentCountInClass(classCode) {
    try {
        // ƒê·∫øm s·ªë h·ªçc sinh trong l·ªõp
        const snapshot = await db.ref('studentCodes').orderByChild('classCode').equalTo(classCode).once('value');
        const students = snapshot.val() || {};
        const studentCount = Object.keys(students).length;
        
        // C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng
        await db.ref(`classes/${classCode}/studentCount`).set(studentCount);
    } catch (error) {
        console.error('L·ªói c·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng h·ªçc sinh:', error);
    }
}

// H√†m t·∫°o user h·ªçc sinh
async function createStudentUser(studentCode, studentName, classCode) {
    try {
        const userId = `student_${studentCode}`;
        const userData = {
            name: studentName,
            role: 'student',
            code: studentCode,
            classCode: classCode,
            createdAt: firebase.database.ServerValue.TIMESTAMP,
            status: 'active'
        };
        
        await db.ref(`users/${userId}`).set(userData);
    } catch (error) {
        console.error('L·ªói t·∫°o user h·ªçc sinh:', error);
    }
}
// T·∫£i danh s√°ch m√£ h·ªçc sinh
async function loadStudentCodesList() {
    try {
        const snapshot = await db.ref('studentCodes').once('value');
        const studentCodes = snapshot.val() || {};
        
        const tbody = document.getElementById('student-codes-list');
        let html = '';
        
        Object.entries(studentCodes).forEach(([code, data]) => {
            if (data.teacherId !== currentUser.uid) return;
            
            const createDate = data.createdAt ? 
                new Date(data.createdAt).toLocaleDateString('vi-VN') : 'N/A';
            
            // ===== S·ª¨A L·ªñI: HI·ªÇN TH·ªä TR·∫†NG TH√ÅI LU√îN L√Ä 'active' =====
            const status = '<span class="status-active">Ho·∫°t ƒë·ªông</span>';
            
            html += `
                <tr>
                    <td><strong>${code}</strong></td>
                    <td>${data.name}</td>
                    <td>${data.classCode}</td>
                    <td>${createDate}</td>
                    <td>${status}</td>
                    <td>${data.password}</td>
                    <td>
                        <button onclick="revokeStudentCode('${code}')" style="padding: 6px 12px; background: #dc3545; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px;">
                            üîí Kh√≥a
                        </button>
                    </td>
                </tr>
            `;
        });
        
        tbody.innerHTML = html || `
            <tr>
                <td colspan="7" style="text-align: center; padding: 30px; color: #666;">
                    Ch∆∞a c√≥ m√£ h·ªçc sinh n√†o ƒë∆∞·ª£c c·∫•p
                </td>
            </tr>
        `;
        
    } catch (error) {
        console.error('L·ªói t·∫£i danh s√°ch m√£ h·ªçc sinh:', error);
    }
}

// === H·ªÜ TH·ªêNG BACKUP ===
async function createBackup(description) {
    try {
        const timestamp = new Date().toISOString();
        const backupData = {
            timestamp: timestamp,
            description: description,
            createdBy: currentUser.uid,
            userName: currentUser.name
        };

        await db.ref('backupHistory').push(backupData);
        console.log('‚úÖ Backup created:', description);
    } catch (error) {
        console.error('‚ùå Backup failed:', error);
    }
}

// ===== S·ª¨A L·ªñI: THEO D√ïI H·ªåC SINH KH√îNG HO·∫†T ƒê·ªòNG =====
function checkInactiveStudents() {
    if (!isTeacherLoggedIn || !sessionCode) return;
    
    const now = Date.now();
    const inactiveThreshold = 2 * 60 * 1000; // 2 ph√∫t
    
    db.ref(`sessions/${sessionCode}/students`).once('value').then(snapshot => {
        const students = snapshot.val() || {};
        
        Object.entries(students).forEach(([studentId, student]) => {
            if (student.lastActivity) {
                const timeSinceLastActivity = now - student.lastActivity;
                if (timeSinceLastActivity > inactiveThreshold) {
                    if (!inactiveStudents.has(studentId)) {
                        inactiveStudents.add(studentId);
                        showNotification(`‚ö†Ô∏è H·ªçc sinh ${student.name} kh√¥ng ho·∫°t ƒë·ªông trong ${Math.floor(timeSinceLastActivity/60000)} ph√∫t`, 'warning');
                    }
                } else {
                    inactiveStudents.delete(studentId);
                }
            }
        });
    });
}

// C·∫≠p nh·∫≠t ho·∫°t ƒë·ªông c·ªßa h·ªçc sinh
function updateStudentActivity() {
    if (!currentUser || !sessionCode || isTeacherLoggedIn) return;
    
    db.ref(`sessions/${sessionCode}/students/${currentUser.uid}`).update({
        lastActivity: firebase.database.ServerValue.TIMESTAMP
    });
}

// Th√™m event listeners ƒë·ªÉ theo d√µi ho·∫°t ƒë·ªông
document.addEventListener('mousemove', updateStudentActivity);
document.addEventListener('keydown', updateStudentActivity);
document.addEventListener('click', updateStudentActivity);

// ===== KI·ªÇM TRA ƒê√ÅP √ÅN & ƒêI·ªÇM S·ªê =====
// T·∫§T C·∫¢ C√ÅC H√ÄM KI·ªÇM TRA ƒê√ÅP √ÅN G·ªêC ƒê∆Ø·ª¢C GI·ªÆ NGUY√äN
window.checkAnswer = function(qid, correct) {
    try {
        const container = document.getElementById(qid);
        if (!container) {
            console.error(`Kh√¥ng t√¨m th·∫•y container cho c√¢u h·ªèi: ${qid}`);
            showNotification('L·ªói: Kh√¥ng t√¨m th·∫•y c√¢u h·ªèi!', 'error');
            return;
        }

        // X√≥a icon c≈©
        container.querySelectorAll('.option-icon').forEach(el => el.textContent = '');

        // L·∫•y l·ª±a ch·ªçn
        const chosen = container.querySelector(`input[name="${qid}"]:checked`);
        if (!chosen) {
            showNotification("H√£y ch·ªçn m·ªôt ƒë√°p √°n!", 'warning');
            playSound('wrong');
            return;
        }

        const chosenVal = chosen.value;
        const resultArea = container.querySelector(".answer-check");

        // T·∫°o v√πng th√¥ng b√°o n·∫øu ch∆∞a c√≥
        let feedback = resultArea.querySelector(".result");
        if (!feedback) {
            feedback = document.createElement("div");
            feedback.className = "result";
            feedback.style.marginTop = "10px";
            feedback.style.padding = "12px";
            feedback.style.background = "rgba(255,255,255,0.9)";
            feedback.style.borderRadius = "8px";
            feedback.style.border = "1px solid #e0e0e0";
            feedback.style.fontSize = "0.95em";
            resultArea.appendChild(feedback);
        }

        // Hi·ªÉn th·ªã k·∫øt qu·∫£
        if (chosenVal === correct) {
            // ƒê√°p √°n ƒë√∫ng
            const userOption = chosen.closest('.option-row');
            const icon = userOption.querySelector('.option-icon');
            if (icon) icon.textContent = '‚úÖ';
            
            feedback.innerHTML = `
                <div style="color: #28a745; font-weight: bold; display: flex; align-items: center; gap: 8px;">
                    <span>‚úÖ</span>
                    <span><b>Ch√≠nh x√°c!</b></span>
                </div>
                <div style="margin-top: 8px; padding: 8px; background: #d4edda; border-radius: 6px;">
                    ƒê√°p √°n c·ªßa b·∫°n: <b>${chosenVal}</b>
                </div>
            `;
            
            // ƒê√°nh d·∫•u t·∫•t c·∫£ options
            container.querySelectorAll('.option-row').forEach(row => {
                const radio = row.querySelector('input[type="radio"]');
                radio.disabled = true;
                if (radio.value === correct) {
                    row.style.background = 'linear-gradient(135deg, #d4edda, #c3e6cb)';
                    row.style.borderColor = '#28a745';
                }
            });
            
            playSound('correct');
            
            if (currentUser && sessionCode) {
                savePartial(qid, chosenVal, correct, true);
            }
            
            showNotification(`‚úÖ C√¢u ${qid}: Ch√≠nh x√°c! (+0.25 ƒëi·ªÉm)`, 'success');
            
        } else {
            // ƒê√°p √°n sai
            const userOption = chosen.closest('.option-row');
            const correctOption = container.querySelector(`input[value="${correct}"]`).closest('.option-row');
            
            const userIcon = userOption?.querySelector('.option-icon');
            const correctIcon = correctOption?.querySelector('.option-icon');
            
            if (userIcon) userIcon.textContent = '‚ùå';
            if (correctIcon) correctIcon.textContent = '‚úÖ';
            
            feedback.innerHTML = `
                <div style="color: #dc3545; font-weight: bold; display: flex; align-items: center; gap: 8px;">
                    <span>‚ùå</span>
                    <span><b>Sai r·ªìi.</b></span>
                </div>
                <div style="margin-top: 8px; padding: 8px; background: #f8d7da; border-radius: 6px;">
                    B·∫°n ch·ªçn: <b>${chosenVal}</b>
                </div>
                <div style="margin-top: 5px; padding: 8px; background: #d4edda; border-radius: 6px;">
                    ƒê√°p √°n ƒë√∫ng: <b style="color: #28a745">${correct}</b>
                </div>
            `;
            
            // ƒê√°nh d·∫•u t·∫•t c·∫£ options
            container.querySelectorAll('.option-row').forEach(row => {
                const radio = row.querySelector('input[type="radio"]');
                radio.disabled = true;
                const value = radio.value;
                if (value === correct) {
                    row.style.background = 'linear-gradient(135deg, #d4edda, #c3e6cb)';
                    row.style.borderColor = '#28a745';
                } else if (value === chosenVal) {
                    row.style.background = 'linear-gradient(135deg, #f8d7da, #f5c6cb)';
                    row.style.borderColor = '#dc3545';
                }
            });
            
            playSound('wrong');
            
            if (currentUser && sessionCode) {
                savePartial(qid, chosenVal, correct, false);
            }
            
            showNotification(`‚ùå C√¢u ${qid}: Ch∆∞a ch√≠nh x√°c`, 'error');
        }
        
    } catch (error) {
        console.error('L·ªói trong checkAnswer:', error);
        showNotification('C√≥ l·ªói x·∫£y ra khi ki·ªÉm tra ƒë√°p √°n!', 'error');
    }
};

window.checkTrueFalseAnswer = function(questionId, correctAnswers) {
    // X·ª≠ l√Ω ƒë·∫ßu v√†o correctAnswers
    if (typeof correctAnswers === 'string') {
        try { 
            correctAnswers = JSON.parse(correctAnswers); 
        } catch(e) { 
            correctAnswers = correctAnswers.replace(/^\[|\]$/g, '').split(',').map(s => s.trim().replace(/^["']|["']$/g, '')); 
        }
    }
    
    if (!Array.isArray(correctAnswers)) {
        console.warn('Invalid correctAnswers for', questionId);
        return;
    }

    const container = document.getElementById(questionId);
    if (!container) {
        console.warn('No container', questionId);
        return;
    }

    const optionRows = container.querySelectorAll(".option-row");
    let allCorrect = true;
    let feedbackHtml = '';
    let score = 0;

    optionRows.forEach((row, idx) => {
        const radios = row.querySelectorAll("input[type='radio']");
        let selected = null;
        radios.forEach(r => { if (r.checked) selected = r.value; });

        const expected = (correctAnswers[idx] && String(correctAnswers[idx]).toLowerCase().startsWith('t')) ? 'True' : 'False';
        const letter = String.fromCharCode(97 + idx); // a, b, c, d

        if (selected === null) {
            feedbackHtml += `M·ªánh ƒë·ªÅ ${letter}) ‚≠ï Ch∆∞a ch·ªçn<br>`;
            allCorrect = false;
        } else if (selected === expected) {
            feedbackHtml += `M·ªánh ƒë·ªÅ ${letter}) ‚úÖ ƒê√∫ng<br>`;
            score += 0.25;
            const icon = row.querySelector('.option-icon');
            if (icon) icon.textContent = '‚úÖ';
        } else {
            feedbackHtml += `M·ªánh ƒë·ªÅ ${letter}) ‚ùå Sai (ch·ªçn ${selected})<br>`;
            const icon = row.querySelector('.option-icon');
            if (icon) icon.textContent = '‚ùå';
            allCorrect = false;
        }
    });

    // Hi·ªÉn th·ªã k·∫øt qu·∫£
    let resultBox = container.querySelector(".answer-check .result");
    if (!resultBox) {
        resultBox = document.createElement('div');
        resultBox.className = 'result';
        resultBox.style.marginTop = '8px';
        resultBox.style.padding = '12px';
        resultBox.style.background = 'rgba(255,255,255,0.9)';
        resultBox.style.borderRadius = '8px';
        resultBox.style.border = '1px solid #e0e0e0';
        container.querySelector(".answer-check").appendChild(resultBox);
    }
    
    resultBox.innerHTML = `
        <div style="font-weight: bold; margin-bottom: 8px;">üìä K·∫øt qu·∫£ ki·ªÉm tra:</div>
        ${feedbackHtml}
        <div style="margin-top: 8px; font-weight: bold; color: ${allCorrect ? '#28a745' : '#ffc107'}">
            ƒêi·ªÉm: ${score}/1.00
        </div>
    `;

    // Kh√≥a inputs c·ªßa c√¢u n√†y
    container.querySelectorAll("input[type='radio']").forEach(r => r.disabled = true);

    // L∆∞u partial t·ª´ng m·ªánh ƒë·ªÅ n·∫øu ƒëƒÉng nh·∫≠p
    if (currentUser && sessionCode) {
        optionRows.forEach((row, idx) => {
            const sel = row.querySelector("input[type='radio']:checked");
            const user = sel ? sel.value : '';
            const expected = (correctAnswers[idx] && String(correctAnswers[idx]).toLowerCase().startsWith('t')) ? 'True' : 'False';
            try { 
                savePartial(questionId + '_' + idx, user, expected, user === expected); 
            } catch(e){}
        });
        
        // L∆∞u t·ªïng ƒëi·ªÉm cho c√¢u h·ªèi
        savePartial(questionId, score, 1, allCorrect);
    }

    if (allCorrect) {
        playSound('correct');
        showNotification(`‚úÖ C√¢u ${questionId}: Ho√†n to√†n ch√≠nh x√°c!`, 'success');
    } else {
        playSound('partial');
        showNotification(`‚ö†Ô∏è C√¢u ${questionId}: ƒê√∫ng ${score * 4}/4 m·ªánh ƒë·ªÅ`, 'warning');
    }
};

window.checkShortAnswer = function(qid, correct) {
    const input = document.getElementById(`input-${qid}`);
    const icon = document.getElementById(`icon-${qid}`);
    const resultBox = input?.closest(".answer-check");

    if (!input) return;

    const userAnswer = input.value.trim();

    // T·∫°o v√πng th√¥ng b√°o n·∫øu ch∆∞a c√≥
    let feedback = resultBox.querySelector(".result");
    if (!feedback) {
        feedback = document.createElement("div");
        feedback.className = "result";
        feedback.style.marginTop = "10px";
        feedback.style.padding = "12px";
        feedback.style.borderRadius = "8px";
        feedback.style.background = "rgba(255,255,255,0.9)";
        feedback.style.border = "1px solid #e0e0e0";
        feedback.style.fontSize = "0.95em";
        resultBox.appendChild(feedback);
    }

    if (userAnswer === "") {
        icon.textContent = "‚ö†Ô∏è";
        feedback.innerHTML = "‚ùó <b>B√°o th·∫ßy ki·ªÉm tr·ª±c ti·∫øp v√¨ ch∆∞a gi·∫£i.</b>";
        playSound('wrong');
        return;
    }

    // Chu·∫©n h√≥a ƒë√°p √°n ƒë·ªÉ so s√°nh
    const normalizedUser = userAnswer.toLowerCase().replace(/\s+/g, '');
    const normalizedCorrect = correct.trim().toLowerCase().replace(/\s+/g, '');

    if (normalizedUser === normalizedCorrect) {
        icon.textContent = "‚úÖ";
        feedback.innerHTML = `
            <div style="color: #28a745; font-weight: bold;">
                üéØ <b>ƒê√∫ng r·ªìi!</b>
            </div>
            <div style="margin-top: 5px;">ƒê√°p √°n c·ªßa b·∫°n: <b>${userAnswer}</b></div>
        `;
        input.style.borderColor = '#28a745';
        input.style.background = '#d4edda';
        input.disabled = true;
        
        if (currentUser && sessionCode) {
            try { savePartial(qid, userAnswer, correct, true); } catch(e){}
        }
        playSound('correct');
        showNotification(`‚úÖ C√¢u ${qid}: Ch√≠nh x√°c!`, 'success');
    } else {
        icon.textContent = "‚ùå";
        feedback.innerHTML = `
            <div style="color: #dc3545; font-weight: bold;">
                ‚ùå <b>Sai r·ªìi.</b>
            </div>
            <div style="margin-top: 5px;">ƒê√°p √°n c·ªßa b·∫°n: <b>${userAnswer}</b></div>
            <div>ƒê√°p √°n ƒë√∫ng l√†: <b style="color: #28a745">${correct}</b></div>
        `;
        input.style.borderColor = '#dc3545';
        input.style.background = '#f8d7da';
        input.disabled = true;
        
        if (currentUser && sessionCode) {
            try { savePartial(qid, userAnswer, correct, false); } catch(e){}
        }
        playSound('wrong');
        showNotification(`‚ùå C√¢u ${qid}: Ch∆∞a ch√≠nh x√°c`, 'error');
    }
};

// === T√çNH ƒêI·ªÇM T·ªîNG H·ª¢P N√ÇNG CAO ===
window.calculateFinalScore = async function() {
    if (isTeacherLoggedIn) {
        showNotification("Gi√°o vi√™n kh√¥ng t√≠nh ƒëi·ªÉm.", "info");
        return;
    }
    
    if (!currentUser || !sessionCode) {
        showNotification("Vui l√≤ng ƒëƒÉng nh·∫≠p v√† tham gia l·ªõp h·ªçc.", "warning");
        return;
    }

    // Reset flag ƒë·ªÉ cho ph√©p t√≠nh l·∫°i n·∫øu c·∫ßn
    window.isScoreCalculated = false;
    
    const studentAnswers = {};
    const correctAnswers = {};
    let totalScore = 0;

    // Thu th·∫≠p ƒë√°p √°n ƒë√∫ng t·ª´ onclick ho·∫∑c data-correct
    document.querySelectorAll('.question').forEach(q => {
        const qid = q.id;
        if (!qid) return;
        
        const btn = q.querySelector('button[onclick*="check"]');
        const onclickStr = btn ? (btn.getAttribute('onclick') || '') : '';

        if (onclickStr.includes('checkTrueFalseAnswer')) {
            const arrMatch = onclickStr.match(/\[(.*?)\]/);
            if (arrMatch) {
                const arr = arrMatch[1].split(',').map(s => s.replace(/['"\s\[\]]/g, '').trim());
                if (arr.length) correctAnswers[qid] = arr;
            }
        } else if (onclickStr.includes('checkShortAnswer')) {
            const m = onclickStr.match(/checkShortAnswer\(['"]([^'"]+)['"]\s*,\s*['"]([^'"]+)['"]\)/);
            if (m) correctAnswers[m[1]] = m[2];
        } else if (onclickStr.includes('checkAnswer')) {
            const m = onclickStr.match(/checkAnswer\(['"]([^'"]+)['"]\s*,\s*['"]([A-Za-z0-9]+)['"]\)/);
            if (m) correctAnswers[m[1]] = m[2].toString().toUpperCase();
        }

        // Fallback data-correct
        if (!correctAnswers[qid]) {
            const dataCorrect = q.getAttribute('data-correct');
            if (dataCorrect) {
                try { 
                    correctAnswers[qid] = JSON.parse(dataCorrect); 
                } catch(e) { 
                    correctAnswers[qid] = dataCorrect; 
                }
            }
        }
    });

    // Thu th·∫≠p ƒë√°p √°n h·ªçc sinh
    // C√¢u h·ªèi tr·∫Øc nghi·ªám ƒë∆°n (1-12)
    for (let i = 1; i <= 12; i++) {
        const name = 'q' + i;
        const selected = document.querySelector(`input[name="${name}"]:checked`);
        studentAnswers[name] = selected ? selected.value.trim() : '';
    }

    // C√¢u h·ªèi True/False (13-16)
    for (let i = 13; i <= 16; i++) {
        const sub = [];
        ['a','b','c','d'].forEach(letter => {
            const sel = document.querySelector(`input[name="q${i}${letter}"]:checked`);
            sub.push(sel ? sel.value.trim() : '');
        });
        studentAnswers['q' + i] = sub;
    }

    // C√¢u h·ªèi tr·∫£ l·ªùi ng·∫Øn (17-22)
    for (let i = 17; i <= 22; i++) {
        const el = document.getElementById(`input-q${i}`);
        studentAnswers['q' + i] = el ? el.value.trim().replace(',', '.') : '';
    }

    // T√≠nh ƒëi·ªÉm
    for (let i = 1; i <= 22; i++) {
        const key = 'q' + i;
        const userAns = studentAnswers[key];
        const corr = correctAnswers[key];
        
        if (i >= 1 && i <= 12) {
            // C√¢u tr·∫Øc nghi·ªám ƒë∆°n: 0.25 ƒëi·ªÉm m·ªói c√¢u
            if (!corr) continue;
            if (userAns && String(userAns).toUpperCase() === String(corr).toUpperCase()) {
                totalScore += 0.25;
            }
        } else if (i >= 13 && i <= 16) {
            // C√¢u True/False: t√≠nh theo s·ªë m·ªánh ƒë·ªÅ ƒë√∫ng
            if (!Array.isArray(corr) || !Array.isArray(userAns)) continue;
            
            let correctCount = 0;
            for (let j = 0; j < corr.length && j < userAns.length; j++) {
                const exp = String(corr[j]).toLowerCase();
                const u = String(userAns[j]).toLowerCase();
                if (u && (u === exp || 
                    (exp.startsWith('t') && u.startsWith('t')) || 
                    (exp.startsWith('ƒë') && u.startsWith('ƒë')))) {
                    correctCount++;
                }
            }
            
            // T√≠nh ƒëi·ªÉm theo s·ªë m·ªánh ƒë·ªÅ ƒë√∫ng
            if (correctCount === 1) totalScore += 0.1;
            else if (correctCount === 2) totalScore += 0.25;
            else if (correctCount === 3) totalScore += 0.5;
            else if (correctCount === 4) totalScore += 1;
        } else if (i >= 17 && i <= 22) {
            // C√¢u tr·∫£ l·ªùi ng·∫Øn: 0.5 ƒëi·ªÉm m·ªói c√¢u
            if (typeof corr === 'undefined') continue;
            
            const userNum = parseFloat((userAns || '').toString().replace(',', '.'));
            const corrNum = parseFloat((corr || '').toString().replace(',', '.'));
            
            if (!isNaN(userNum) && !isNaN(corrNum)) {
                if (Math.abs(userNum - corrNum) < 0.001) {
                    totalScore += 0.5;
                }
            } else {
                if ((userAns || '').toString().trim().toLowerCase() === 
                    (corr || '').toString().trim().toLowerCase()) {
                    totalScore += 0.5;
                }
            }
        }
    }

    // Hi·ªÉn th·ªã k·∫øt qu·∫£
    const finalScore = totalScore.toFixed(2);
    let resultBox = document.getElementById('score-result');
    
    if (!resultBox) {
        resultBox = document.createElement('div');
        resultBox.id = 'score-result';
        resultBox.style.cssText = `
            position: fixed; 
            bottom: 20px; 
            right: 20px; 
            background: rgba(0,0,0,0.9); 
            color: #fff; 
            padding: 20px; 
            border-radius: 12px; 
            z-index: 99999; 
            font-size: 16px;
            max-width: 300px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
            border: 2px solid ${finalScore >= 5 ? '#28a745' : '#dc3545'};
        `;
        document.body.appendChild(resultBox);
    }
    
    const scoreColor = finalScore >= 8 ? '#28a745' : finalScore >= 5 ? '#ffc107' : '#dc3545';
    const scoreEmoji = finalScore >= 8 ? 'üèÜ' : finalScore >= 5 ? '‚úÖ' : '‚ùå';
    
    resultBox.innerHTML = `
        <div style="text-align: center; margin-bottom: 10px;">
            <div style="font-size: 2em;">${scoreEmoji}</div>
            <div style="font-size: 1.2em; font-weight: bold; color: ${scoreColor};">
                ${finalScore} / 10.00
            </div>
        </div>
        <div style="font-size: 0.9em; text-align: center;">
            ${finalScore >= 8 ? 'Xu·∫•t s·∫Øc! üéâ' : finalScore >= 5 ? 'ƒê·∫°t y√™u c·∫ßu! üëç' : 'C·∫ßn c·ªë g·∫Øng th√™m! üí™'}
        </div>
    `;

    // Ph√°t √¢m thanh v√† l∆∞u k·∫øt qu·∫£
    try { 
        playSound(finalScore >= 5 ? 'correct' : 'wrong'); 
    } catch(e){}
    
    if (currentUser && sessionCode && typeof saveAttempt === 'function') {
        await saveAttempt(document.title || 'de1', { studentAnswers, correctAnswers }, finalScore);
        resultBox.innerHTML += `
            <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.3); font-size: 0.8em; text-align: center;">
                ‚úÖ K·∫øt qu·∫£ ƒë√£ l∆∞u v√†o h·ªá th·ªëng
            </div>
        `;
    } else {
        resultBox.innerHTML += `
            <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.3); font-size: 0.8em; text-align: center;">
                ‚ÑπÔ∏è Ch∆∞a ƒëƒÉng nh·∫≠p ‚Äî k·∫øt qu·∫£ ch·ªâ hi·ªÉn th·ªã t·∫°m th·ªùi
            </div>
        `;
    }

    console.log('=== correctAnswers ===', correctAnswers);
    console.log('=== studentAnswers ===', studentAnswers);
    console.log('=== totalScore ===', finalScore);
    
    window.isScoreCalculated = true;
    
    // C·∫≠p nh·∫≠t tr·∫°ng th√°i ho√†n th√†nh
    if (currentUser && sessionCode) {
        await db.ref(`sessions/${sessionCode}/students/${currentUser.uid}`).update({
            score: parseFloat(finalScore),
            status: 'finished',
            finished: firebase.database.ServerValue.TIMESTAMP
        });
    }
};

window.toggleSolution = function(questionId) {
    const solution = document.getElementById('solution-' + questionId);
    solution.style.display = solution.style.display === 'none' ? 'block' : 'none';
}

// ===== THEO D√ïI H·ªåC SINH (Teacher Monitoring) =====
function startMonitoringSession() {
    if (!sessionCode) return;
    db.ref('sessions/' + sessionCode + '/students').on('value', snapshot => updateStudentMonitor(snapshot.val()));
    db.ref('sessions/' + sessionCode + '/interactions').on('child_added', snapshot => showInteractionAlert(snapshot.val()));
}

function updateStudentMonitor(students) {
    const tbody = document.getElementById('student-results-body');
    const stats = {
        total: document.getElementById('stats-total'),
        completed: document.getElementById('stats-completed'),
        average: document.getElementById('stats-average'),
        failed: document.getElementById('stats-failed')
    };
    const liveCount = document.getElementById('live-student-count');
    
    if (!students || Object.keys(students).length === 0) {
        tbody.innerHTML = `<tr><td colspan="6" style="text-align: center; padding: 40px; color: #666;">Ch∆∞a c√≥ h·ªçc sinh n√†o tham gia.</td></tr>`;
        Object.values(stats).forEach(el => el.textContent = '0');
        liveCount.textContent = '0';
        return;
    }
    
    let html = '';
    let total = 0, completed = 0, totalScore = 0, failed = 0;
    
    Object.entries(students).forEach(([studentId, student]) => {
        total++;
        const studentScore = student.score || 0;
        if (student.status === 'finished') {
             completed++;
             totalScore += studentScore;
        }
        if (studentScore < 1) failed++; // Assuming passing score is 1 out of 2 for this demo
        
        const timeSpent = student.joined && student.finished ? calculateTimeSpent(student.joined, student.finished) : '--:--';
        
        // ===== S·ª¨A L·ªñI: HI·ªÇN TH·ªä TR·∫†NG TH√ÅI KH√îNG HO·∫†T ƒê·ªòNG =====
        let status = student.status || 'not-started';
        let statusText = getStatusText(status);
        
        // Ki·ªÉm tra n·∫øu h·ªçc sinh kh√¥ng ho·∫°t ƒë·ªông
        if (inactiveStudents.has(studentId)) {
            statusText = '‚ùå Kh√¥ng ho·∫°t ƒë·ªông';
        }
        
        html += `
            <tr>
                <td><strong>${student.name}</strong><br><small>${student.code}</small></td>
                <td style="text-align: center;"><span class="status-${status}">${statusText}</span></td>
                <td style="text-align: center; font-weight: bold;">${studentScore.toFixed(2)}</td>
                <td style="text-align: center;">${timeSpent}</td>
                <td style="text-align: center;">
                    <div style="background: #e0e0e0; border-radius: 5px; height: 8px;"><div style="background: linear-gradient(135deg, #1a237e, #3949ab); height: 100%; border-radius: 5px; width: ${student.progress || 0}%;"></div></div>
                    <small>${student.progress || 0}%</small>
                </td>
                <td style="text-align: center;"><button onclick="viewStudentDetail('${studentId}')" style="padding: 5px 10px; border: none; background: #17a2b8; color: white; border-radius: 5px; cursor: pointer;">üìä</button></td>
            </tr>
        `;
    });
    
    tbody.innerHTML = html;
    stats.total.textContent = total;
    stats.completed.textContent = completed;
    stats.average.textContent = completed > 0 ? (totalScore / completed).toFixed(1) : '0.0';
    stats.failed.textContent = failed;
    liveCount.textContent = total;
}

function getStatusText(status) {
    return { 'active': 'ƒêang l√†m', 'finished': 'ƒê√£ n·ªôp', 'not-started': 'Ch∆∞a b·∫Øt ƒë·∫ßu' }[status] || '...';
}

function calculateTimeSpent(startTime, endTime) {
    const diff = endTime - startTime;
    const minutes = Math.floor(diff / 60000);
    const seconds = Math.floor((diff % 60000) / 1000);
    return `${String(minutes).padStart(2, '0')}:${String(seconds).padStart(2, '0')}`;
}

function showInteractionAlert(interaction) {
    if (!isTeacherLoggedIn) return;
    
    let message = '';
    let type = 'warning';
    
    switch(interaction.type) {
        case 'hand_raised': 
            message = `‚úã ${interaction.student} ƒëang gi∆° tay!`;
            type = 'info';
            break;
        case 'question': 
            message = `‚ùì ${interaction.student}: ${interaction.content}`;
            type = 'warning';
            break;
        case 'need_help': 
            message = `üÜò ${interaction.student} c·∫ßn h·ªó tr·ª£ g·∫•p!`;
            type = 'error';
            break;
        default: return;
    }
    
    // Hi·ªÉn th·ªã notification
    showNotification(message, type);
    
    // N·∫øu ƒëang m·ªü modal qu·∫£n l√Ω l·ªõp, refresh t∆∞∆°ng t√°c
    if (document.getElementById('class-management-modal').classList.contains('active')) {
        setTimeout(viewClassInteractions, 1000);
    }
}

window.viewStudentDetail = function(studentId) {
    showNotification('T√≠nh nƒÉng xem chi ti·∫øt h·ªçc sinh ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn.', 'info');
}

function updateStudentProgress(slideIndex) {
    if (!sessionCode || !currentUser || isTeacherLoggedIn) return;
    const totalSlides = document.querySelectorAll('.reveal .slides section').length;
    const progress = Math.round((slideIndex / (totalSlides - 1)) * 100);
    db.ref(`sessions/${sessionCode}/students/${currentUser.uid}`).update({
        currentSlide: slideIndex, progress, lastActivity: firebase.database.ServerValue.TIMESTAMP
    });
}

// ===== H·ªÜ TH·ªêNG KH·∫¢O S√ÅT (Poll System) =====
function setupPollSystem() {
    document.getElementById('poll-submit-btn').addEventListener('click', submitPollResponse);
}

function startPoll() {
    if (!isTeacherLoggedIn || !sessionCode) return showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p GV v√† t·∫°o l·ªõp', 'error');
    const question = prompt('Nh·∫≠p c√¢u h·ªèi kh·∫£o s√°t:');
    if (!question) return;
    const options = prompt('Nh·∫≠p c√°c l·ª±a ch·ªçn, c√°ch nhau b·ªüi d·∫•u ph·∫©y (vd: A,B,C):')?.split(',') || [];
    if (options.length < 2) return showNotification('C·∫ßn √≠t nh·∫•t 2 l·ª±a ch·ªçn!', 'error');

    // ƒê·ªîI T√äN: pollData -> sessionPollData
    const sessionPollData = {
        question, options: options.map(o => o.trim()), active: true,
        created: firebase.database.ServerValue.TIMESTAMP
    };
    db.ref('sessions/' + sessionCode + '/poll').set(sessionPollData)
        .then(() => showNotification('‚úÖ Kh·∫£o s√°t ƒë√£ b·∫Øt ƒë·∫ßu!', 'success'));
}

function showPoll(pollData) {
    document.getElementById('poll-title').textContent = pollData.question;
    const optionsDiv = document.getElementById('poll-options');
    optionsDiv.innerHTML = pollData.options.map((option, index) =>
        `<div class="poll-option" data-index="${index}">${String.fromCharCode(65 + index)}. ${option}</div>`
    ).join('');
    
    optionsDiv.querySelectorAll('.poll-option').forEach(el => {
        el.onclick = () => {
            optionsDiv.querySelectorAll('.poll-option').forEach(opt => opt.classList.remove('selected'));
            el.classList.add('selected');
        };
    });
    showModal('poll-modal');
}

function hidePoll() {
    hideModal(document.getElementById('poll-modal'));
}

function submitPollResponse() {
    const selectedOption = document.querySelector('.poll-option.selected');
    if (!selectedOption) return showNotification('Vui l√≤ng ch·ªçn m·ªôt ph∆∞∆°ng √°n!', 'warning');
    if (!sessionCode || !currentUser) return showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p!', 'error');

    const responseIndex = parseInt(selectedOption.dataset.index);
    db.ref(`sessions/${sessionCode}/poll/responses/${currentUser.uid}`).set({
        name: currentUser.name, choice: responseIndex
    }).then(() => {
        showNotification('‚úÖ ƒê√£ g·ª≠i ph·∫£n h·ªìi!', 'success');
        hidePoll();
    });
}

async function viewPollResults() {
    if (!isTeacherLoggedIn || !sessionCode) return showNotification('Ch·ªâ d√†nh cho GV!', 'error');
    const snapshot = await db.ref('sessions/' + sessionCode + '/poll').once('value');
    const pollData = snapshot.val();
    if (!pollData) return showNotification('Kh√¥ng c√≥ d·ªØ li·ªáu kh·∫£o s√°t!', 'warning');
    showPollResultsInMonitor(pollData);
}

function showPollResultsInMonitor(pollData) {
    const pollArea = document.getElementById('poll-results-area');
    const pollTitle = document.getElementById('poll-results-title');
    const pollStats = document.getElementById('poll-stats-in-monitor');
    
    pollTitle.textContent = `üìä K·∫øt qu·∫£ kh·∫£o s√°t: ${pollData.question}`;
    pollArea.style.display = 'block';
    
    const counts = new Array(pollData.options.length).fill(0);
    const responses = pollData.responses || {};
    Object.values(responses).forEach(res => { if (counts[res.choice] !== undefined) counts[res.choice]++; });

    const totalResponses = counts.reduce((a, b) => a + b, 0);
    pollStats.innerHTML = `<strong>T·ªïng s·ªë phi·∫øu:</strong> ${totalResponses}`;
    
    const ctx = document.getElementById('pollChartInMonitor').getContext('2d');
    if (window.pollChartInstance) window.pollChartInstance.destroy();
    
    window.pollChartInstance = new Chart(ctx, {
        type: 'bar',
        data: {
            labels: pollData.options,
            datasets: [{
                label: 'S·ªë phi·∫øu', data: counts,
                backgroundColor: ['#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40']
            }]
        },
        options: { responsive: true, plugins: { legend: { display: false } } }
    });
}

// ===== T∆Ø∆†NG T√ÅC H·ªåC SINH (Student Interaction) =====
function setupStudentInteraction() {
    document.getElementById('studentInteractBtn').addEventListener('click', () => {
        if (!currentUser || !sessionCode) return showNotification('Vui l√≤ng ƒëƒÉng nh·∫≠p v√† v√†o l·ªõp!', 'error');
        const choice = prompt(`Ch·ªçn t∆∞∆°ng t√°c:\n1-‚úã Gi∆° tay\n2-‚ùì ƒê·∫∑t c√¢u h·ªèi\n3-üÜò C·∫ßn h·ªó tr·ª£`);
        if (choice === '1') sendInteraction('hand_raised');
        else if (choice === '2') {
            const question = prompt('Nh·∫≠p c√¢u h·ªèi c·ªßa b·∫°n:');
            if (question) sendInteraction('question', question);
        } else if (choice === '3') sendInteraction('need_help');
    });
}

function sendInteraction(type, content = '') {
    const interactionData = { student: currentUser.name, type, timestamp: firebase.database.ServerValue.TIMESTAMP };
    if (content) interactionData.content = content;
    db.ref('sessions/' + sessionCode + '/interactions').push(interactionData)
        .then(() => showNotification('‚úÖ ƒê√£ g·ª≠i t∆∞∆°ng t√°c!', 'success'));
}

// ===== T√çCH H·ª¢P: MENU SLIDE =====
function setupSlideMenu() {
    const slideMenu = document.getElementById('slideMenu');
    const slideMenuBtn = document.getElementById('slideMenuBtn');
    const closeSlideMenuBtn = document.getElementById('closeSlideMenu');
    const menuOverlay = document.getElementById('menuOverlay');
    
    function toggleSlideMenu() {
        slideMenu.classList.toggle('active');
        menuOverlay.classList.toggle('active');
    }
    slideMenuBtn.addEventListener('click', toggleSlideMenu);
    closeSlideMenuBtn.addEventListener('click', toggleSlideMenu);
    menuOverlay.addEventListener('click', toggleSlideMenu);
    
    createSlideList();
}


function createSlideList() {
    const slideList = document.getElementById('slideList');
    const slides = document.querySelectorAll('.reveal .slides section');
    slideList.innerHTML = Array.from(slides).map((slide, index) => {
        const title = slide.querySelector('h2')?.textContent.substring(0, 30) || `Slide ${index + 1}`;
        return `<div class="slide-item" data-slide-index="${index}">
                    <span class="slide-number">${index + 1}</span>${title}
                </div>`;
    }).join('');

    slideList.querySelectorAll('.slide-item').forEach(item => {
        item.addEventListener('click', () => {
            Reveal.slide(parseInt(item.dataset.slideIndex));
            document.getElementById('slideMenu').classList.remove('active');
            document.getElementById('menuOverlay').classList.remove('active');
        });
    });
    updateActiveSlideInMenu();
}

function updateActiveSlideInMenu() {
    const indices = Reveal.getIndices();
    if (!indices) return;
    const currentIndex = indices.h;
    document.querySelectorAll('.slide-item').forEach((item, index) => {
        item.classList.toggle('active', index === currentIndex);
    });
}

// ===== T√çCH H·ª¢P: B·∫¢NG V·∫º CANVAS =====
function setupCanvas() {
    const canvas = document.getElementById("drawCanvas");
    const ctx = canvas.getContext("2d");
    const toggleBtn = document.getElementById("toggleMenu");
    const toolbar = document.getElementById("drawToolbar");
    const exitBtn = document.getElementById("exitBtn");

    let isDrawMode = false;
    let isDrawing = false;
    let history = [];
    let currentTool = "pen";
    let startX, startY, lastX, lastY;
    let imageBeforeShape;

    function resizeCanvas() {
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;
        ctx.lineJoin = "round";
        ctx.lineCap = "round";
    }
    resizeCanvas();
    window.addEventListener("resize", resizeCanvas);

    toggleBtn.onclick = () => {
        isDrawMode = !isDrawMode;
        canvas.style.display = isDrawMode ? "block" : "none";
        toolbar.style.display = isDrawMode ? "flex" : "none";
        canvas.style.pointerEvents = isDrawMode ? "auto" : "none";

    };
    exitBtn.onclick = toggleBtn.onclick;

    document.getElementById("tool").onchange = e => currentTool = e.target.value;
    document.getElementById("clearBtn").onclick = () => {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        history = [];
    };
    document.getElementById("saveBtn").onclick = () => {
        const link = document.createElement("a");
        link.download = "ban_ve.png";
        link.href = canvas.toDataURL();
        link.click();
    };
    document.getElementById("undoBtn").onclick = () => {
        if (history.length > 0) ctx.putImageData(history.pop(), 0, 0);
    };

    const getPos = e => {
        const rect = canvas.getBoundingClientRect();
        const touch = e.touches && e.touches[0];
        const clientX = touch ? touch.clientX : e.clientX;
        const clientY = touch ? touch.clientY : e.clientY;
        return { x: (clientX - rect.left) * (canvas.width / rect.width), 
                 y: (clientY - rect.top) * (canvas.height / rect.height) };
    };

    const startDraw = e => {
        if (!isDrawMode) return;
        e.preventDefault();
        history.push(ctx.getImageData(0, 0, canvas.width, canvas.height));
        isDrawing = true;
        const pos = getPos(e);
        startX = lastX = pos.x;
        startY = lastY = pos.y;
        if (currentTool !== 'pen') {
            imageBeforeShape = ctx.getImageData(0, 0, canvas.width, canvas.height);
        }
        ctx.beginPath();
    };

    const drawMove = e => {
        if (!isDrawing || !isDrawMode) return;
        e.preventDefault();
        ctx.strokeStyle = document.getElementById("colorPicker").value;
        ctx.lineWidth = document.getElementById("draw-width").value;
        const pos = getPos(e);
        
        if (currentTool !== "pen" && imageBeforeShape) {
            ctx.putImageData(imageBeforeShape, 0, 0);
        }

        ctx.beginPath();
        switch (currentTool) {
            case "pen":
                ctx.moveTo(lastX, lastY); ctx.lineTo(pos.x, pos.y); ctx.stroke();
                [lastX, lastY] = [pos.x, pos.y];
                break;
            case "line":
                ctx.moveTo(startX, startY); ctx.lineTo(pos.x, pos.y); ctx.stroke();
                break;
            case "dashedLineBtn":
                ctx.setLineDash([8, 6]); ctx.moveTo(startX, startY); ctx.lineTo(pos.x, pos.y); ctx.stroke(); ctx.setLineDash([]);
                break;
            case "rect":
                ctx.strokeRect(startX, startY, pos.x - startX, pos.y - startY);
                break;
            case "circle":
                ctx.arc(startX, startY, Math.hypot(pos.x - startX, pos.y - startY), 0, Math.PI * 2); ctx.stroke();
                break;
            case "ellipseBtn":
                ctx.ellipse(startX, startY, Math.abs(pos.x - startX), Math.abs(pos.y - startY), 0, 0, Math.PI * 2); ctx.stroke();
                break;
             case "parallelogram":
                const width_p = pos.x - startX, height_p = pos.y - startY, offset_p = width_p * 0.3;
                ctx.moveTo(startX + offset_p, startY); ctx.lineTo(startX + width_p + offset_p, startY);
                ctx.lineTo(startX + width_p - offset_p, startY + height_p); ctx.lineTo(startX - offset_p, startY + height_p);
                ctx.closePath(); ctx.stroke();
                break;
            case "box":
                const w = pos.x - startX, h = pos.y - startY, d = Math.min(Math.abs(w), Math.abs(h)) * 0.4;
                ctx.strokeRect(startX, startY, w, h); ctx.strokeRect(startX + d, startY - d, w, h);
                [[startX, startY, startX + d, startY - d], [startX + w, startY, startX + w + d, startY - d],
                 [startX, startY + h, startX + d, startY + h - d], [startX + w, startY + h, startX + w + d, startY + h - d]].forEach(c => {
                    ctx.moveTo(c[0], c[1]); ctx.lineTo(c[2], c[3]);
                });
                ctx.stroke();
                break;
            case "pyramid3":
                const baseLeft = { x: startX, y: pos.y }; const baseRight = { x: pos.x, y: pos.y };
                const apex = { x: (startX + pos.x) / 2, y: startY };
                ctx.moveTo(apex.x, apex.y); ctx.lineTo(baseLeft.x, baseLeft.y); ctx.lineTo(baseRight.x, baseRight.y); ctx.closePath(); ctx.stroke();
                break;
            case "pyramid4":
                 const w4 = pos.x - startX, h4 = pos.y - startY;
                 const apex4 = {x: startX + w4 / 2, y: startY - h4 };
                 ctx.strokeRect(startX, startY, w4, h4);
                 [[startX, startY], [startX+w4, startY], [startX, startY+h4], [startX+w4, startY+h4]].forEach(([bx,by])=>{
                    ctx.moveTo(apex4.x, apex4.y); ctx.lineTo(bx,by);
                 });
                 ctx.stroke();
                break;
            case "sphere":
                const rs = Math.abs(pos.x-startX);
                ctx.arc(startX, startY, rs, 0, Math.PI * 2); ctx.stroke();
                ctx.beginPath(); ctx.setLineDash([6,4]);
                ctx.ellipse(startX, startY, rs, rs / 2.5, 0, 0, Math.PI*2); ctx.stroke();
                ctx.setLineDash([]);
                break;
        }
    };

    const endDraw = () => { if(isDrawing) { isDrawing = false; ctx.beginPath();} };

    canvas.addEventListener("mousedown", startDraw);
    canvas.addEventListener("mousemove", drawMove);
    canvas.addEventListener("mouseup", endDraw);
    canvas.addEventListener("mouseleave", endDraw);
    canvas.addEventListener("touchstart", startDraw, { passive: false });
    canvas.addEventListener("touchmove", drawMove, { passive: false });
    canvas.addEventListener("touchend", endDraw);
}


// C·∫≠p nh·∫≠t s·ª± ki·ªán click cho n√∫t t√≠nh ƒëi·ªÉm
document.addEventListener('DOMContentLoaded', function() {
    const scoreBtn = document.getElementById('scoreBtn');
    if (scoreBtn) {
        scoreBtn.addEventListener('click', () => {
            // Reset flag ƒë·ªÉ cho ph√©p t√≠nh l·∫°i
            window.isScoreCalculated = false;
            window.calculateFinalScore();
        });
    }
});

// H√†m h·ªó tr·ª£ th·ªëng k√™
function updateStatistics(total, completed, totalScore) {
    document.getElementById('stats-total').textContent = total;
    document.getElementById('stats-completed').textContent = completed;
    document.getElementById('stats-average').textContent = completed > 0 ? (totalScore / completed).toFixed(1) : '0.0';
    document.getElementById('stats-failed').textContent = total - completed;
}

function getStatusBadge(status) {
    const badges = {
        'active': '<span class="status-active">üü¢ ƒêang l√†m</span>',
        'finished': '<span class="status-finished">‚úÖ ƒê√£ n·ªôp</span>', 
        'not-started': '<span class="status-not-started">‚è≥ Ch∆∞a b·∫Øt ƒë·∫ßu</span>'
    };
    return badges[status] || '<span class="status-not-started">‚ùì Kh√¥ng x√°c ƒë·ªãnh</span>';
}

// ===== S·ª¨A L·ªñI: TH√äM C√ÅC H√ÄM B·ªä THI·∫æU =====

// H√†m t·∫£i danh s√°ch h·ªçc sinh
async function loadStudentsList() {
    try {
        const searchTerm = document.getElementById('search-student-global').value.toLowerCase();
        const selectedClass = document.getElementById('filter-class').value;
        
        // L·∫§Y D·ªÆ LI·ªÜU ƒê·ªíNG B·ªò T·ª™ 3 NGU·ªíN
        const [studentCodesSnapshot, usersSnapshot, attemptsSnapshot] = await Promise.all([
            db.ref('studentCodes').once('value'),
            db.ref('users').once('value'),
            db.ref('attempts').once('value')
        ]);
        
        const studentCodes = studentCodesSnapshot.val() || {};
        const allUsers = usersSnapshot.val() || {};
        const allAttempts = attemptsSnapshot.val() || {};
        
        const tbody = document.getElementById('students-list-body');
        let html = '';
        let studentCount = 0;

        // T·∫†O MAP ƒê·ªíNG B·ªò H√ìA D·ªÆ LI·ªÜU
        const synchronizedStudents = new Map();

        // 1. D·ªÆ LI·ªÜU T·ª™ STUDENTCODES (ngu·ªìn ch√≠nh)
        Object.entries(studentCodes).forEach(([code, codeData]) => {
            if (codeData.teacherId !== currentUser.uid) return;
            
            const studentId = `student_${code}`;
            synchronizedStudents.set(code, {
                code: code,
                name: codeData.name,
                classCode: codeData.classCode,
                className: codeData.className || 'Ch∆∞a c√≥ l·ªõp',
                status: codeData.status || 'active',
                createdAt: codeData.createdAt,
                lastLogin: null,
                attempts: [],
                totalScore: 0
            });
        });

        // 2. B·ªî SUNG T·ª™ USERS (th√¥ng tin ƒëƒÉng nh·∫≠p)
        Object.entries(allUsers).forEach(([userId, userData]) => {
            if (userData.role === 'student' && userData.code) {
                const code = userData.code;
                if (synchronizedStudents.has(code)) {
                    // C·∫≠p nh·∫≠t th√¥ng tin t·ª´ user
                    const student = synchronizedStudents.get(code);
                    student.lastLogin = userData.lastLogin;
                    student.status = userData.status || student.status;
                } else {
                    // Th√™m h·ªçc sinh m·ªõi t·ª´ users
                    synchronizedStudents.set(code, {
                        code: code,
                        name: userData.name,
                        classCode: userData.classCode || 'Ch∆∞a c√≥ l·ªõp',
                        className: userData.className || 'Ch∆∞a c√≥ l·ªõp',
                        status: userData.status || 'active',
                        createdAt: userData.createdAt,
                        lastLogin: userData.lastLogin,
                        attempts: [],
                        totalScore: 0
                    });
                }
            }
        });

        // 3. B·ªî SUNG TH·ªêNG K√ä T·ª™ ATTEMPTS
        Object.values(allAttempts).forEach(sessionAttempts => {
            Object.entries(sessionAttempts).forEach(([studentId, attempt]) => {
                const code = attempt.code;
                if (synchronizedStudents.has(code)) {
                    const student = synchronizedStudents.get(code);
                    student.attempts.push(attempt);
                    student.totalScore += parseFloat(attempt.score) || 0;
                    
                    // C·∫≠p nh·∫≠t th·ªùi gian ho·∫°t ƒë·ªông
                    if (attempt.createdAt > (student.lastActivity || 0)) {
                        student.lastActivity = attempt.createdAt;
                    }
                }
            });
        });

        // HI·ªÇN TH·ªä DANH S√ÅCH ƒê√É ƒê·ªíNG B·ªò
        synchronizedStudents.forEach((student, code) => {
            // L·ªçc theo t√¨m ki·∫øm
            if (searchTerm && 
                !student.name.toLowerCase().includes(searchTerm) && 
                !student.code.toLowerCase().includes(searchTerm)) {
                return;
            }
            
            // L·ªçc theo l·ªõp
            if (selectedClass !== 'all' && student.classCode !== selectedClass) {
                return;
            }
            
            studentCount++;
            
            const attemptCount = student.attempts.length;
            const avgScore = attemptCount > 0 ? (student.totalScore / attemptCount).toFixed(2) : '0.00';
            const lastActivity = student.lastActivity ? getTimeAgo(student.lastActivity) : 
                              student.lastLogin ? getTimeAgo(student.lastLogin) : 'Ch∆∞a ho·∫°t ƒë·ªông';
            
            html += `
                <tr>
                    <td><strong>${student.code}</strong></td>
                    <td>${student.name}</td>
                    <td>
                        ${student.classCode}
                        ${student.className !== 'Ch∆∞a c√≥ l·ªõp' ? `<br><small style="color: #666;">${student.className}</small>` : ''}
                    </td>
                    <td>${lastActivity}</td>
                    <td style="text-align: center;">
                        <span style="font-weight: bold; color: #1a237e;">${attemptCount}</span>
                    </td>
                    <td style="text-align: center;">
                        <span style="font-weight: bold; color: ${getScoreColor(parseFloat(avgScore))}">
                            ${avgScore}
                        </span>
                    </td>
                    <td style="text-align: center;">
                        <button onclick="viewStudentProfile('${code}')" style="padding: 6px 12px; background: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; margin: 2px;">
                            üìä
                        </button>
                        <button onclick="editStudent('${code}')" style="padding: 6px 12px; background: #ffc107; color: black; border: none; border-radius: 4px; cursor: pointer; font-size: 12px; margin: 2px;">
                            ‚úèÔ∏è
                        </button>
                    </td>
                </tr>
            `;
        });
        
        tbody.innerHTML = html || `
            <tr>
                <td colspan="7" style="text-align: center; padding: 30px; color: #666;">
                    Kh√¥ng t√¨m th·∫•y h·ªçc sinh n√†o.
                </td>
            </tr>
        `;
        
    } catch (error) {
        console.error('L·ªói t·∫£i danh s√°ch h·ªçc sinh:', error);
        document.getElementById('students-list-body').innerHTML = `
            <tr>
                <td colspan="7" style="text-align: center; padding: 30px; color: #dc3545;">
                    ‚ùå L·ªói khi t·∫£i danh s√°ch h·ªçc sinh
                </td>
            </tr>
        `;
    }
}
// H√†m ch·ªânh s·ª≠a th√¥ng tin h·ªçc sinh
async function editStudent(studentCode) {
    try {
        const snapshot = await db.ref(`studentCodes/${studentCode}`).once('value');
        const studentData = snapshot.val();
        
        if (!studentData) {
            showNotification('Kh√¥ng t√¨m th·∫•y h·ªçc sinh!', 'error');
            return;
        }

        const newName = prompt('Nh·∫≠p t√™n m·ªõi cho h·ªçc sinh:', studentData.name);
        if (!newName || newName.trim() === '') return;

        const newClassCode = prompt('Nh·∫≠p m√£ l·ªõp m·ªõi:', studentData.classCode);
        if (!newClassCode) return;

        // C·∫¨P NH·∫¨T TRONG STUDENTCODES
        await db.ref(`studentCodes/${studentCode}`).update({
            name: newName.trim(),
            classCode: newClassCode,
            className: await getClassName(newClassCode)
        });

        // C·∫¨P NH·∫¨T TRONG USERS (n·∫øu c√≥)
        const userId = `student_${studentCode}`;
        await db.ref(`users/${userId}`).update({
            name: newName.trim(),
            classCode: newClassCode
        });

        // C·∫¨P NH·∫¨T S·ªê L∆Ø·ª¢NG H·ªåC SINH
        await updateStudentCountInClass(studentData.classCode); // L·ªõp c≈©
        await updateStudentCountInClass(newClassCode); // L·ªõp m·ªõi

        showNotification(`‚úÖ ƒê√£ c·∫≠p nh·∫≠t th√¥ng tin h·ªçc sinh ${studentCode}`, 'success');
        loadStudentsList();
        
    } catch (error) {
        console.error('L·ªói ch·ªânh s·ª≠a h·ªçc sinh:', error);
        showNotification('‚ùå L·ªói khi c·∫≠p nh·∫≠t th√¥ng tin h·ªçc sinh!', 'error');
    }
}
async function removeStudent(code) {
    try {
        // 1. L·∫•y th√¥ng tin l·ªõp c·ªßa h·ªçc sinh
        const snapshot = await db.ref(`studentCodes/${code}`).once('value');
        const studentData = snapshot.val();
        const classCode = studentData?.classCode;

        // 2. X√≥a trong studentCodes
        await db.ref(`studentCodes/${code}`).remove();

        // 3. X√≥a trong users
        const userId = `student_${code}`;
        await db.ref(`users/${userId}`).remove();

        // 4. C·∫≠p nh·∫≠t s·ªë l∆∞·ª£ng h·ªçc sinh trong l·ªõp
        if (classCode) {
            await updateStudentCountInClass(classCode);
        }

        showNotification('‚úÖ ƒê√£ x√≥a h·ªçc sinh th√†nh c√¥ng!', 'success');
        loadStudentsList();
        loadStudentCodesList();
        
    } catch (error) {
        console.error('L·ªói x√≥a h·ªçc sinh:', error);
        showNotification('‚ùå L·ªói khi x√≥a h·ªçc sinh!', 'error');
    }
}
// H√†m c·∫≠p nh·∫≠t dropdown l·ªçc l·ªõp
function updateClassFilter(classes) {
    const filterSelect = document.getElementById('filter-class');
    let options = '<option value="all">T·∫•t c·∫£ l·ªõp</option>';
    
    Object.entries(classes).forEach(([classCode, classData]) => {
        if (classData.teacherId === currentUser.uid) {
            options += `<option value="${classCode}">${classData.name} (${classCode})</option>`;
        }
    });
    
    filterSelect.innerHTML = options;
}

// H√†m xem chi ti·∫øt l·ªõp
async function viewClassDetails(classCode) {
    try {
        const snapshot = await db.ref(`classes/${classCode}`).once('value');
        const classData = snapshot.val();
        
        if (!classData) {
            showNotification('Kh√¥ng t√¨m th·∫•y th√¥ng tin l·ªõp!', 'error');
            return;
        }
        
        const message = `
            üè´ <b>${classData.name}</b>
            üìã M√£ l·ªõp: <code>${classCode}</code>
            üë®‚Äçüè´ Gi√°o vi√™n: ${classData.teacher}
            üë• S·ªë h·ªçc sinh: ${classData.studentCount || 0}
            ${classData.description ? `üìù M√¥ t·∫£: ${classData.description}` : ''}
        `;
        
        showNotification(message, 'info');
        
    } catch (error) {
        console.error('L·ªói xem chi ti·∫øt l·ªõp:', error);
        showNotification('‚ùå L·ªói khi t·∫£i th√¥ng tin l·ªõp!', 'error');
    }
}

// H√†m xem h·ªì s∆° h·ªçc sinh
async function viewStudentProfile(studentId) {
    try {
        // L·∫•y th√¥ng tin h·ªçc sinh
        const userSnapshot = await db.ref(`users/${studentId}`).once('value');
        const userData = userSnapshot.val();
        
        // L·∫•y l·ªãch s·ª≠ l√†m b√†i
        const attemptsSnapshot = await db.ref('attempts').once('value');
        const allAttempts = attemptsSnapshot.val() || {};
        
        let studentAttempts = [];
        Object.values(allAttempts).forEach(sessionAttempts => {
            if (sessionAttempts[studentId]) {
                studentAttempts.push(sessionAttempts[studentId]);
            }
        });
        
        // T√≠nh th·ªëng k√™
        const totalAttempts = studentAttempts.length;
        const totalScore = studentAttempts.reduce((sum, attempt) => sum + parseFloat(attempt.score || 0), 0);
        const avgScore = totalAttempts > 0 ? (totalScore / totalAttempts).toFixed(2) : '0.00';
        const bestScore = Math.max(...studentAttempts.map(a => parseFloat(a.score || 0)));
        const lastAttempt = studentAttempts.length > 0 ? 
            new Date(studentAttempts[studentAttempts.length - 1].createdAt).toLocaleDateString('vi-VN') : 'Ch∆∞a c√≥';
        
        const message = `
            üë§ <b>H·ªì s∆° H·ªçc sinh</b>
            üìõ T√™n: ${userData?.name || 'N/A'}
            üÜî M√£: ${userData?.code || 'N/A'}
            
            üìä <b>Th·ªëng k√™:</b>
            üìù T·ªïng b√†i l√†m: ${totalAttempts}
            üéØ ƒêi·ªÉm trung b√¨nh: ${avgScore}
            üèÜ ƒêi·ªÉm cao nh·∫•t: ${bestScore.toFixed(2)}
            ‚è∞ L·∫ßn cu·ªëi l√†m b√†i: ${lastAttempt}
            
            üí° Nh·∫•n "Theo d√µi HS" ƒë·ªÉ xem chi ti·∫øt real-time.
        `;
        
        showNotification(message, 'info');
        
    } catch (error) {
        console.error('L·ªói xem h·ªì s∆° h·ªçc sinh:', error);
        showNotification('‚ùå L·ªói khi t·∫£i th√¥ng tin h·ªçc sinh!', 'error');
    }
}

// H√†m h·ªó tr·ª£ cho ƒëi·ªÉm s·ªë
function getScoreColor(score) {
    if (score >= 8) return '#28a745';
    if (score >= 5) return '#ffc107';
    return '#dc3545';
}

// H√†m thu h·ªìi m√£ h·ªçc sinh
async function revokeStudentCode(codeId) {
    try {
        await db.ref(`studentCodes/${codeId}/status`).set('revoked');
        showNotification(`‚úÖ ƒê√£ thu h·ªìi m√£ ${codeId}!`, 'success');
        loadStudentCodesList();
    } catch (error) {
        console.error('L·ªói thu h·ªìi m√£ h·ªçc sinh:', error);
        showNotification('‚ùå L·ªói khi thu h·ªìi m√£!', 'error');
    }
}

// H√†m xu·∫•t Excel (placeholder)
document.getElementById('export-codes-btn').addEventListener('click', function() {
    showNotification('T√≠nh nƒÉng xu·∫•t Excel ƒëang ƒë∆∞·ª£c ph√°t tri·ªÉn!', 'info');
});

// H√†m x·ª≠ l√Ω s·ª± ki·ªán cho c√°c n√∫t modal c√≤n thi·∫øu
document.getElementById('cancel-create-class-btn').addEventListener('click', function() {
    hideModal(document.getElementById('create-class-modal'));
});

// Kh·ªüi t·∫°o c√°c event listeners c√≤n thi·∫øu
document.addEventListener('DOMContentLoaded', function() {
    // Th√™m event listener cho n√∫t refresh classes
    document.getElementById('refresh-classes-btn').addEventListener('click', function() {
        loadClassesList();
        loadStudentsList();
    });
    
    // Th√™m event listener cho search student
    document.getElementById('search-student-global').addEventListener('input', loadStudentsList);
    document.getElementById('filter-class').addEventListener('change', loadStudentsList);
});
// ===== T√çCH H·ª¢P POLL V√Ä ƒê·ªíNG B·ªò SLIDE V√ÄO QU·∫¢N L√ù L·ªöP =====
async function startClassPoll() {
    if (!isTeacherLoggedIn) {
        showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn t·∫°o poll!', 'error');
        return;
    }

    // Hi·ªÉn th·ªã modal ch·ªçn l·ªõp
    const classSelectModal = `
        <div style="padding: 20px;">
            <h4 style="color: #1a237e; margin-bottom: 15px;">üó≥Ô∏è Ch·ªçn l·ªõp ƒë·ªÉ t·∫°o Poll</h4>
            <select id="select-class-for-poll" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 15px;">
                <option value="">-- Ch·ªçn l·ªõp --</option>
            </select>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="createPollForSelectedClass()" style="padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 8px; cursor: pointer;">
                    T·∫°o Poll
                </button>
                <button onclick="hideModal(this.closest('.modal'))" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer;">
                    H·ªßy
                </button>
            </div>
        </div>
    `;

    showCustomModal('Ch·ªçn l·ªõp cho Poll', classSelectModal);
    await loadClassesForPoll();
}

async function loadClassesForPoll() {
    try {
        const snapshot = await db.ref('classes').once('value');
        const classes = snapshot.val() || {};
        const select = document.getElementById('select-class-for-poll');
        
        let options = '<option value="">-- Ch·ªçn l·ªõp --</option>';
        
        Object.entries(classes).forEach(([classCode, classData]) => {
            if (classData.teacherId === currentUser.uid) {
                options += `<option value="${classCode}">${classData.name} (${classCode})</option>`;
            }
        });
        
        select.innerHTML = options;
    } catch (error) {
        console.error('L·ªói t·∫£i danh s√°ch l·ªõp:', error);
    }
}

async function createPollForSelectedClass() {
    const classCode = document.getElementById('select-class-for-poll').value;
    if (!classCode) {
        showNotification('Vui l√≤ng ch·ªçn l·ªõp!', 'error');
        return;
    }

    const question = prompt('Nh·∫≠p c√¢u h·ªèi kh·∫£o s√°t:');
    if (!question) return;
    
    const options = prompt('Nh·∫≠p c√°c l·ª±a ch·ªçn, c√°ch nhau b·ªüi d·∫•u ph·∫©y (vd: A,B,C):')?.split(',') || [];
    if (options.length < 2) {
        showNotification('C·∫ßn √≠t nh·∫•t 2 l·ª±a ch·ªçn!', 'error');
        return;
    }

    // ƒê·ªîI T√äN: pollData -> classPollData
    const classPollData = {
        question, 
        options: options.map(o => o.trim()), 
        active: true,
        created: firebase.database.ServerValue.TIMESTAMP,
        classCode: classCode,
        responses: {} // L∆∞u tr·ªØ ph·∫£n h·ªìi
    };

    try {
        await db.ref(`classes/${classCode}/poll`).set(classPollData);
        showNotification(`‚úÖ ƒê√£ t·∫°o poll cho l·ªõp ${classCode}`, 'success');
        hideAllModals();
    } catch (error) {
        console.error('L·ªói t·∫°o poll:', error);
        showNotification('‚ùå L·ªói khi t·∫°o poll!', 'error');
    }
}
async function syncClassSlides() {
    if (!isTeacherLoggedIn) {
        showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn ƒë·ªìng b·ªô slide!', 'error');
        return;
    }

    // Hi·ªÉn th·ªã modal ch·ªçn l·ªõp
    const classSelectModal = `
        <div style="padding: 20px;">
            <h4 style="color: #1a237e; margin-bottom: 15px;">üîÑ Ch·ªçn l·ªõp ƒë·ªÉ ƒë·ªìng b·ªô Slide</h4>
            <select id="select-class-for-sync" style="width: 100%; padding: 12px; border: 2px solid #ddd; border-radius: 8px; margin-bottom: 15px;">
                <option value="">-- Ch·ªçn l·ªõp --</option>
            </select>
            <div style="display: flex; gap: 10px; justify-content: flex-end;">
                <button onclick="syncSlidesToSelectedClass()" style="padding: 10px 20px; background: #17a2b8; color: white; border: none; border-radius: 8px; cursor: pointer;">
                    ƒê·ªìng b·ªô
                </button>
                <button onclick="hideModal(this.closest('.modal'))" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer;">
                    H·ªßy
                </button>
            </div>
        </div>
    `;

    showCustomModal('Ch·ªçn l·ªõp ƒë·ªìng b·ªô', classSelectModal);
    await loadClassesForSync();
}

async function loadClassesForSync() {
    try {
        const snapshot = await db.ref('classes').once('value');
        const classes = snapshot.val() || {};
        const select = document.getElementById('select-class-for-sync');
        
        let options = '<option value="">-- Ch·ªçn l·ªõp --</option>';
        
        Object.entries(classes).forEach(([classCode, classData]) => {
            if (classData.teacherId === currentUser.uid) {
                options += `<option value="${classCode}">${classData.name} (${classCode})</option>`;
            }
        });
        
        select.innerHTML = options;
    } catch (error) {
        console.error('L·ªói t·∫£i danh s√°ch l·ªõp:', error);
    }
}

async function syncSlidesToSelectedClass() {
    const classCode = document.getElementById('select-class-for-sync').value;
    if (!classCode) {
        showNotification('Vui l√≤ng ch·ªçn l·ªõp!', 'error');
        return;
    }

    const slideIndex = Reveal.getIndices().h;
    
    try {
        // ƒê·ªìng b·ªô slide ƒë·∫øn l·ªõp ƒë∆∞·ª£c ch·ªçn
        await db.ref(`classes/${classCode}/currentSlide`).set(slideIndex);
        showNotification(`‚úÖ ƒê√£ ƒë·ªìng b·ªô slide ${slideIndex + 1} ƒë·∫øn l·ªõp ${classCode}`, 'success');
        hideAllModals();
    } catch (error) {
        console.error('L·ªói ƒë·ªìng b·ªô slide:', error);
        showNotification('‚ùå L·ªói khi ƒë·ªìng b·ªô slide!', 'error');
    }
}

// H√†m hi·ªÉn th·ªã modal t√πy ch·ªânh
function showCustomModal(title, content) {
    let modal = document.getElementById('custom-class-modal');
    if (!modal) {
        modal = document.createElement('div');
        modal.id = 'custom-class-modal';
        modal.className = 'modal';
        modal.innerHTML = `
            <div class="modal-content" style="max-width: 500px;">
                <button class="modal-close" onclick="hideModal(this.closest('.modal'))">√ó</button>
                <div id="custom-class-content"></div>
            </div>
        `;
        document.body.appendChild(modal);
    }
    
    document.getElementById('custom-class-content').innerHTML = content;
    // C·∫≠p nh·∫≠t ti√™u ƒë·ªÅ n·∫øu c√≥
    const header = document.querySelector('#custom-class-modal .modal-content h3');
    if (header) {
        header.textContent = title;
    }
    
    showModal('custom-class-modal');
}
// ===== XEM K·∫æT QU·∫¢ POLL C·ª¶A C√ÅC L·ªöP =====
async function viewClassPollResults() {
    if (!isTeacherLoggedIn) {
        showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn xem k·∫øt qu·∫£ poll!', 'error');
        return;
    }

    try {
        // L·∫•y t·∫•t c·∫£ l·ªõp c·ªßa gi√°o vi√™n
        const classesSnapshot = await db.ref('classes').once('value');
        const classes = classesSnapshot.val() || {};
        
        let classesWithPolls = [];
        
        // Ki·ªÉm tra l·ªõp n√†o c√≥ poll
        Object.entries(classes).forEach(([classCode, classData]) => {
            if (classData.teacherId === currentUser.uid && classData.poll) {
                classesWithPolls.push({
                    classCode,
                    className: classData.name,
                    poll: classData.poll
                });
            }
        });
        
        if (classesWithPolls.length === 0) {
            showNotification('Kh√¥ng c√≥ l·ªõp n√†o c√≥ poll!', 'info');
            return;
        }
        
        // Hi·ªÉn th·ªã modal ch·ªçn l·ªõp c√≥ poll
        showPollResultsSelectionModal(classesWithPolls);
        
    } catch (error) {
        console.error('L·ªói t·∫£i k·∫øt qu·∫£ poll:', error);
        showNotification('‚ùå L·ªói khi t·∫£i k·∫øt qu·∫£ poll!', 'error');
    }
}

function showPollResultsSelectionModal(classesWithPolls) {
    let optionsHTML = '';
    
    classesWithPolls.forEach((classData, index) => {
        const poll = classData.poll;
        const responseCount = poll.responses ? Object.keys(poll.responses).length : 0;
        
        optionsHTML += `
            <div class="poll-class-item" style="padding: 15px; margin: 10px 0; background: #f8f9fa; border-radius: 10px; cursor: pointer; border: 2px solid #e9ecef; transition: all 0.3s ease;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <strong>${classData.className}</strong><br>
                        <small>M√£ l·ªõp: ${classData.classCode}</small>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-weight: bold; color: #1a237e;">${responseCount} phi·∫øu</div>
                        <small>${poll.question.substring(0, 30)}...</small>
                    </div>
                </div>
            </div>
        `;
    });
    
    const modalContent = `
        <div style="padding: 20px;">
            <h4 style="color: #1a237e; margin-bottom: 15px;">üìä Ch·ªçn poll ƒë·ªÉ xem k·∫øt qu·∫£</h4>
            <div id="poll-classes-list">
                ${optionsHTML}
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button onclick="hideModal(this.closest('.modal'))" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer;">
                    ƒê√≥ng
                </button>
            </div>
        </div>
    `;
    
    showCustomModal('K·∫øt qu·∫£ Kh·∫£o s√°t', modalContent);
    
    // Th√™m event listeners cho c√°c item
    setTimeout(() => {
        document.querySelectorAll('.poll-class-item').forEach((item, index) => {
            item.addEventListener('click', () => {
                showPollResultsDetailed(classesWithPolls[index]);
            });
        });
    }, 100);
}

async function showPollResultsDetailed(classData) {
    try {
        // L·∫•y d·ªØ li·ªáu poll m·ªõi nh·∫•t
        const pollSnapshot = await db.ref(`classes/${classData.classCode}/poll`).once('value');
        const poll = pollSnapshot.val();
        
        if (!poll) {
            showNotification('Poll kh√¥ng t·ªìn t·∫°i!', 'error');
            return;
        }
        
        const responses = poll.responses || {};
        const counts = new Array(poll.options.length).fill(0);
        const studentResponses = [];
        
        // ƒê·∫øm phi·∫øu b·∫ßu
        Object.values(responses).forEach(response => {
            if (counts[response.choice] !== undefined) {
                counts[response.choice]++;
            }
            studentResponses.push({
                name: response.name,
                choice: poll.options[response.choice],
                choiceIndex: response.choice
            });
        });
        
        const totalResponses = counts.reduce((a, b) => a + b, 0);
        
        // T·∫°o bi·ªÉu ƒë·ªì
        const chartHTML = createPollChartHTML(poll, counts, totalResponses);
        
        // T·∫°o b·∫£ng chi ti·∫øt
        const tableHTML = createPollTableHTML(studentResponses, poll.options);
        
        const modalContent = `
            <div style="padding: 20px; max-width: 800px;">
                <h4 style="color: #1a237e; margin-bottom: 10px;">üìä ${poll.question}</h4>
                <p style="color: #666; margin-bottom: 20px;">
                    L·ªõp: <strong>${classData.className}</strong> (${classData.classCode}) | 
                    T·ªïng phi·∫øu: <strong>${totalResponses}</strong>
                </p>
                
                ${chartHTML}
                
                <div style="margin-top: 30px;">
                    <h5 style="color: #1a237e; margin-bottom: 15px;">üìã Chi ti·∫øt phi·∫øu b·∫ßu</h5>
                    ${tableHTML}
                </div>
                
                <div style="text-align: center; margin-top: 20px;">
                    <button onclick="hideModal(this.closest('.modal'))" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer;">
                        ƒê√≥ng
                    </button>
                </div>
            </div>
        `;
        
        showCustomModal('K·∫øt qu·∫£ Chi ti·∫øt', modalContent);
        
    } catch (error) {
        console.error('L·ªói hi·ªÉn th·ªã k·∫øt qu·∫£ chi ti·∫øt:', error);
        showNotification('‚ùå L·ªói khi t·∫£i k·∫øt qu·∫£ chi ti·∫øt!', 'error');
    }
}

function createPollChartHTML(poll, counts, totalResponses) {
    let chartHTML = '<div style="background: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">';
    
    poll.options.forEach((option, index) => {
        const percentage = totalResponses > 0 ? ((counts[index] / totalResponses) * 100).toFixed(1) : 0;
        const width = totalResponses > 0 ? (counts[index] / totalResponses) * 100 : 0;
        
        chartHTML += `
            <div style="margin-bottom: 15px;">
                <div style="display: flex; justify-content: between; margin-bottom: 5px;">
                    <span style="flex: 1;"><strong>${String.fromCharCode(65 + index)}.</strong> ${option}</span>
                    <span style="font-weight: bold; color: #1a237e;">${counts[index]} phi·∫øu (${percentage}%)</span>
                </div>
                <div style="background: #e9ecef; border-radius: 10px; height: 20px; overflow: hidden;">
                    <div style="background: linear-gradient(135deg, #667eea, #764ba2); height: 100%; width: ${width}%; border-radius: 10px; transition: width 0.5s ease;"></div>
                </div>
            </div>
        `;
    });
    
    chartHTML += '</div>';
    return chartHTML;
}

function createPollTableHTML(studentResponses, options) {
    if (studentResponses.length === 0) {
        return '<p style="text-align: center; color: #666; padding: 20px;">Ch∆∞a c√≥ phi·∫øu b·∫ßu n√†o</p>';
    }
    
    let tableHTML = `
        <div class="table-container" style="max-height: 300px;">
            <table style="width: 100%; border-collapse: collapse;">
                <thead>
                    <tr>
                        <th style="padding: 12px; background: #1a237e; color: white; text-align: left;">H·ªçc sinh</th>
                        <th style="padding: 12px; background: #1a237e; color: white; text-align: left;">L·ª±a ch·ªçn</th>
                    </tr>
                </thead>
                <tbody>
    `;
    
    studentResponses.forEach(response => {
        tableHTML += `
            <tr>
                <td style="padding: 10px; border-bottom: 1px solid #e0e0e0;">${response.name}</td>
                <td style="padding: 10px; border-bottom: 1px solid #e0e0e0;">
                    <strong>${String.fromCharCode(65 + response.choiceIndex)}.</strong> ${response.choice}
                </td>
            </tr>
        `;
    });
    
    tableHTML += `
                </tbody>
            </table>
        </div>
    `;
    
    return tableHTML;
}
// ===== HI·ªÇN TH·ªä T∆Ø∆†NG T√ÅC H·ªåC SINH CHO GI√ÅO VI√äN =====
async function viewClassInteractions() {
    if (!isTeacherLoggedIn) {
        showNotification('Ch·ªâ gi√°o vi√™n m·ªõi c√≥ quy·ªÅn xem t∆∞∆°ng t√°c!', 'error');
        return;
    }

    try {
        // L·∫•y t·∫•t c·∫£ l·ªõp c·ªßa gi√°o vi√™n
        const classesSnapshot = await db.ref('classes').once('value');
        const classes = classesSnapshot.val() || {};
        
        let classesWithInteractions = [];
        
        // Ki·ªÉm tra l·ªõp n√†o c√≥ t∆∞∆°ng t√°c
        const promises = Object.entries(classes).map(async ([classCode, classData]) => {
            if (classData.teacherId === currentUser.uid) {
                // Ki·ªÉm tra sessions c·ªßa l·ªõp n√†y c√≥ interactions kh√¥ng
                const sessionsSnapshot = await db.ref('sessions').orderByChild('teacher').equalTo(currentUser.name).once('value');
                const sessions = sessionsSnapshot.val() || {};
                
                let classInteractions = [];
                
                Object.entries(sessions).forEach(([sessionCode, sessionData]) => {
                    if (sessionData.interactions) {
                        Object.entries(sessionData.interactions).forEach(([interactionId, interaction]) => {
                            classInteractions.push({
                                ...interaction,
                                sessionCode: sessionCode,
                                interactionId: interactionId
                            });
                        });
                    }
                });
                
                if (classInteractions.length > 0) {
                    classesWithInteractions.push({
                        classCode,
                        className: classData.name,
                        interactions: classInteractions
                    });
                }
            }
        });
        
        await Promise.all(promises);
        
        if (classesWithInteractions.length === 0) {
            showNotification('Kh√¥ng c√≥ t∆∞∆°ng t√°c n√†o t·ª´ h·ªçc sinh!', 'info');
            return;
        }
        
        // Hi·ªÉn th·ªã modal t∆∞∆°ng t√°c
        showInteractionsModal(classesWithInteractions);
        
    } catch (error) {
        console.error('L·ªói t·∫£i t∆∞∆°ng t√°c:', error);
        showNotification('‚ùå L·ªói khi t·∫£i t∆∞∆°ng t√°c!', 'error');
    }
}

function showInteractionsModal(classesWithInteractions) {
    let interactionsHTML = '';
    
    classesWithInteractions.forEach(classData => {
        interactionsHTML += `
            <div class="class-interactions-section" style="margin-bottom: 25px;">
                <h5 style="color: #1a237e; margin-bottom: 15px; border-bottom: 2px solid #1a237e; padding-bottom: 8px;">
                    üè´ ${classData.className} (${classData.classCode})
                </h5>
        `;
        
        classData.interactions.forEach(interaction => {
            const timeAgo = getTimeAgo(interaction.timestamp);
            let interactionIcon = 'üí¨';
            let interactionColor = '#17a2b8';
            
            switch(interaction.type) {
                case 'hand_raised':
                    interactionIcon = '‚úã';
                    interactionColor = '#ffc107';
                    break;
                case 'question':
                    interactionIcon = '‚ùì';
                    interactionColor = '#28a745';
                    break;
                case 'need_help':
                    interactionIcon = 'üÜò';
                    interactionColor = '#dc3545';
                    break;
            }
            
            interactionsHTML += `
                <div class="interaction-item" style="padding: 15px; margin: 10px 0; background: #f8f9fa; border-radius: 10px; border-left: 4px solid ${interactionColor};">
                    <div style="display: flex; align-items: flex-start; gap: 12px;">
                        <div style="font-size: 1.5em;">${interactionIcon}</div>
                        <div style="flex: 1;">
                            <div style="display: flex; justify-content: between; margin-bottom: 8px;">
                                <strong>${interaction.student}</strong>
                                <small style="color: #666;">${timeAgo}</small>
                            </div>
                            <div style="color: #555;">
                                ${getInteractionText(interaction)}
                            </div>
                            ${interaction.content ? `
                                <div style="background: white; padding: 10px; border-radius: 8px; margin-top: 8px; border: 1px solid #e0e0e0;">
                                    <strong>N·ªôi dung:</strong> ${interaction.content}
                                </div>
                            ` : ''}
                            <div style="margin-top: 10px; font-size: 0.8em; color: #888;">
                                L·ªõp: ${classData.classCode} | Phi√™n: ${interaction.sessionCode}
                            </div>
                        </div>
                        <button onclick="markInteractionResolved('${interaction.sessionCode}', '${interaction.interactionId}')" 
                                style="padding: 6px 12px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 0.8em;">
                            ‚úÖ ƒê√£ x·ª≠ l√Ω
                        </button>
                    </div>
                </div>
            `;
        });
        
        interactionsHTML += `</div>`;
    });
    
    const modalContent = `
        <div style="padding: 20px; max-width: 800px; max-height: 80vh; overflow-y: auto;">
            <h4 style="color: #1a237e; margin-bottom: 20px;">üí¨ T∆∞∆°ng t√°c t·ª´ H·ªçc sinh</h4>
            
            ${interactionsHTML}
            
            <div style="text-align: center; margin-top: 20px; padding-top: 20px; border-top: 1px solid #e0e0e0;">
                <button onclick="hideModal(this.closest('.modal'))" style="padding: 10px 20px; background: #6c757d; color: white; border: none; border-radius: 8px; cursor: pointer;">
                    ƒê√≥ng
                </button>
            </div>
        </div>
    `;
    
    showCustomModal('T∆∞∆°ng t√°c H·ªçc sinh', modalContent);
}

function getInteractionText(interaction) {
    switch(interaction.type) {
        case 'hand_raised':
            return 'ƒëang gi∆° tay ph√°t bi·ªÉu';
        case 'question':
            return 'c√≥ c√¢u h·ªèi';
        case 'need_help':
            return 'c·∫ßn h·ªó tr·ª£ g·∫•p';
        default:
            return 'c√≥ t∆∞∆°ng t√°c';
    }
}

async function markInteractionResolved(sessionCode, interactionId) {
    try {
        await db.ref(`sessions/${sessionCode}/interactions/${interactionId}`).remove();
        showNotification('‚úÖ ƒê√£ ƒë√°nh d·∫•u t∆∞∆°ng t√°c ƒë√£ x·ª≠ l√Ω', 'success');
        
        // Refresh l·∫°i modal
        setTimeout(viewClassInteractions, 500);
    } catch (error) {
        console.error('L·ªói x√≥a t∆∞∆°ng t√°c:', error);
        showNotification('‚ùå L·ªói khi x·ª≠ l√Ω t∆∞∆°ng t√°c!', 'error');
    }
}
console.log("üöÄ H·ªá th·ªëng L·ªõp To√°n Th·∫ßy B√¨nh ƒë√£ kh·ªüi ch·∫°y v·ªõi c√°c l·ªói ƒë√£ ƒë∆∞·ª£c s·ª≠a!");
</script>
<script>
// === DARK MODE TOGGLE ===
document.addEventListener("DOMContentLoaded", () => {
    const toggleBtn = document.getElementById("toggleStyleBtn");
    let isDark = false;

    toggleBtn.addEventListener("click", () => {
        isDark = !isDark;
        document.documentElement.classList.toggle("dark-mode", isDark);
        toggleBtn.textContent = isDark ? "‚òÄÔ∏è Ch·∫ø ƒë·ªô s√°ng" : "üåô Ch·∫ø ƒë·ªô t·ªëi";

        // C·∫≠p nh·∫≠t l·∫°i MathJax khi chuy·ªÉn ƒë·ªïi
        if (window.MathJax) {
            MathJax.typesetPromise();
        }
    });
});
</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    if (typeof setupCanvas === "function") setupCanvas();
});

</script>
<script>
document.addEventListener("DOMContentLoaded", () => {
    try {
        if (!firebase.apps.length) {
            firebase.initializeApp(firebaseConfig);
        }
        if (typeof setupCanvas === "function") setupCanvas();
        if (typeof setupToolbar === "function") setupToolbar();
        if (typeof setupModalSystem === "function") setupModalSystem();
        if (typeof setupClassManagement === "function") setupClassManagement();
    } catch (err) {
        console.error("‚ö†Ô∏è L·ªói kh·ªüi t·∫°o:", err);
    }
});
// T·ª± ƒë·ªông √°p d·ª•ng style cho t·∫•t c·∫£ c√°c b·∫£ng
function styleAllTables() {
    const tables = document.querySelectorAll('.reveal .slides section table');
    
    tables.forEach(table => {
        // X√≥a inline style c≈©
        table.removeAttribute('style');
        
        // Th√™m class ho·∫∑c style m·ªõi
        table.style.cssText = `
            width: 100% !important;
            border-collapse: collapse !important;
            margin: 20px 0 !important;
            font-size: 1.2em !important;
            font-weight: bold !important;
            background: #000 !important;
            color: #fff !important;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        `;
        
        // Style cho th
        const ths = table.querySelectorAll('th');
        ths.forEach(th => {
            th.style.cssText = `
                background: linear-gradient(135deg, #1a237e, #3949ab) !important;
                color: #fff !important;
                padding: 15px 12px !important;
                text-align: center;
                font-size: 1.1em;
                font-weight: 700;
                border: 2px solid #3949ab !important;
                text-transform: uppercase;
                letter-spacing: 1px;
            `;
        });
        
        // Style cho td
        const tds = table.querySelectorAll('td');
        tds.forEach(td => {
            td.style.cssText = `
                padding: 14px 12px !important;
                text-align: center;
                border: 2px solid #333 !important;
                background: #111 !important;
                color: #fff !important;
                font-weight: bold;
            `;
        });
    });
}
// ===== FULLSCREEN ƒê∆†N GI·∫¢N =====
function setupFullscreen() {
    const fullscreenBtn = document.getElementById('fullscreenBtn');
    if (!fullscreenBtn) return;
    
    fullscreenBtn.addEventListener('click', toggleFullscreen);
    
    // Theo d√µi thay ƒë·ªïi fullscreen
    document.addEventListener('fullscreenchange', updateFullscreenButton);
}

function toggleFullscreen() {
    if (!document.fullscreenElement) {
        // V√†o fullscreen
        if (document.documentElement.requestFullscreen) {
            document.documentElement.requestFullscreen();
        }
    } else {
        // Tho√°t fullscreen
        if (document.exitFullscreen) {
            document.exitFullscreen();
        }
    }
}

function updateFullscreenButton() {
    const btn = document.getElementById('fullscreenBtn');
    if (document.fullscreenElement) {
        btn.textContent = 'üì∫ Exit';
    } else {
        btn.textContent = 'üì∫ Fullscreen';
    }
}

// Ph√≠m t·∫Øt F11
document.addEventListener('keydown', function(e) {
    if (e.key === 'F11') {
        e.preventDefault();
        toggleFullscreen();
    }
});
// Ch·∫°y khi trang load v√† m·ªói khi slide thay ƒë·ªïi
document.addEventListener('DOMContentLoaded', styleAllTables);
Reveal.addEventListener('slidechanged', styleAllTables);
setupFullscreen();
// ===== H·ªÜ TH·ªêNG L∆ØU K·∫æT QU·∫¢ ƒê·ªòC L·∫¨P =====
class ResultManager {
    constructor() {
        this.currentTest = window.location.pathname.split('/').pop() || 'unknown';
        this.studentData = null;
    }

    // L∆∞u k·∫øt qu·∫£ ho√†n ch·ªânh
    async saveCompleteResult() {
        if (!this.checkLogin()) return;

        try {
            const resultData = this.collectResultData();
            await this.saveToFirebase(resultData);
            console.log('‚úÖ ƒê√£ l∆∞u k·∫øt qu·∫£ ho√†n ch·ªânh');
        } catch (error) {
            console.error('‚ùå L·ªói l∆∞u k·∫øt qu·∫£:', error);
        }
    }

    // Ki·ªÉm tra ƒëƒÉng nh·∫≠p
    checkLogin() {
        if (!currentUser || currentUser.role !== 'student') {
            console.log('‚ö†Ô∏è Ch∆∞a ƒëƒÉng nh·∫≠p h·ªçc sinh');
            return false;
        }
        this.studentData = currentUser;
        return true;
    }

    // Thu th·∫≠p d·ªØ li·ªáu k·∫øt qu·∫£
    collectResultData() {
        const answers = this.collectAllAnswers();
        const score = this.calculateScore(answers);
        
        return {
            studentCode: this.studentData.code,
            studentName: this.studentData.name,
            testFile: this.currentTest,
            testName: document.title,
            answers: answers,
            totalScore: score,
            timestamp: firebase.database.ServerValue.TIMESTAMP,
            sessionCode: sessionCode || 'no_session'
        };
    }

    // Thu th·∫≠p t·∫•t c·∫£ ƒë√°p √°n
    collectAllAnswers() {
        const answers = {};
        
        // C√¢u h·ªèi tr·∫Øc nghi·ªám (1-12)
        for (let i = 1; i <= 12; i++) {
            const qid = 'q' + i;
            const selected = document.querySelector(`input[name="${qid}"]:checked`);
            answers[qid] = selected ? selected.value : '';
        }

        // C√¢u True/False (13-16)
        for (let i = 13; i <= 16; i++) {
            const subAnswers = [];
            ['a','b','c','d'].forEach(letter => {
                const sel = document.querySelector(`input[name="q${i}${letter}"]:checked`);
                subAnswers.push(sel ? sel.value : '');
            });
            answers['q' + i] = subAnswers;
        }

        // C√¢u tr·∫£ l·ªùi ng·∫Øn (17-22)
        for (let i = 17; i <= 22; i++) {
            const el = document.getElementById(`input-q${i}`);
            answers['q' + i] = el ? el.value.trim() : '';
        }

        return answers;
    }

    // T√≠nh ƒëi·ªÉm (t·∫°m th·ªùi, c√≥ th·ªÉ c·∫£i ti·∫øn sau)
    calculateScore(answers) {
        let score = 0;
        // Logic t√≠nh ƒëi·ªÉm c√≥ th·ªÉ th√™m sau
        return score;
    }

    // L∆∞u l√™n Firebase
    async saveToFirebase(resultData) {
        const timestamp = new Date().getTime();
        const recordId = `${resultData.studentCode}_${timestamp}`;
        
        await db.ref(`completeResults/${recordId}`).set(resultData);
    }
}

// Kh·ªüi t·∫°o v√† t·ª± ƒë·ªông l∆∞u
const resultManager = new ResultManager();

// T·ª± ƒë·ªông l∆∞u khi click ki·ªÉm tra (kh√¥ng ·∫£nh h∆∞·ªüng JS hi·ªán t·∫°i)
document.addEventListener('click', function(e) {
    if (e.target.matches('button[onclick*="checkAnswer"], button[onclick*="checkTrueFalseAnswer"], button[onclick*="checkShortAnswer"]')) {
        setTimeout(() => resultManager.saveCompleteResult(), 1000);
    }
});

// L∆∞u khi t√≠nh ƒëi·ªÉm
const originalCalculateScore = window.calculateFinalScore;
window.calculateFinalScore = function() {
    resultManager.saveCompleteResult();
    return originalCalculateScore.apply(this, arguments);
};
</script>


</body>
</html>