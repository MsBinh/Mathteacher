<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Bảng giảng Toán - Demo đầy đủ (fix công thức dài)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Reveal.js CSS -->
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/reveal.css">
  <link rel="stylesheet" href="https://unpkg.com/reveal.js/dist/theme/black.css" id="theme">

  <!-- MathJax -->
  <script>
    MathJax = {
      tex: { 
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$','$$'], ['\\[','\\]']]
      },
      svg: { fontCache: 'global', linebreaks: { automatic: true } },
      chtml: { linebreaks: { automatic: true } }
    };
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <link rel="stylesheet" href="styles1.css">
  <style>
    /* ===== Nền bảng xanh ===== */
    .reveal .backgrounds { background: #1e5631; }
    .reveal section { color: #fffbe7; text-shadow: 1px 1px 2px #000; }

    /* ===== Styles nội dung ===== */
    .box {
      padding:12px;margin:15px 0;border-radius:8px;
      overflow-x:auto;      /* Cho phép cuộn ngang */
      word-wrap: break-word;
      max-width: 100%;
    }
    mjx-container {
      overflow-x:auto;
      max-width:100%;
    }

    .definition { border-left:6px solid #3498db; background:rgba(236,245,255,0.15); }
    .theorem    { border-left:6px solid #27ae60; background:rgba(233,247,239,0.15); }
    .note       { border-left:6px solid #f39c12; background:rgba(254,245,231,0.15);font-style:italic;}
    .remember   { border-left:6px solid #e67e22; background:rgba(250,230,210,0.15);font-weight:bold;}
    .dangt      { border-left:6px solid #8e44ad; background:rgba(245,238,248,0.15); }
    .method     { border-left:6px solid #16a085; background:rgba(229,245,242,0.15); }
    .example    { border-left:6px solid #2c3e50; background:rgba(236,240,241,0.15); }
    .solution   { border-left:6px solid #c0392b; background:rgba(250,219,216,0.15); }

    /* Canvas overlay */
    #drawCanvas {
      position:fixed;top:0;left:0;width:100vw;height:100vh;
      z-index:10;pointer-events:none;
    }

    /* Toolbar nhỏ gọn */
    #toolbar {
      position:fixed;top:50%;left:5px;transform:translateY(-50%);
      z-index:20;display:flex;flex-direction:column;
      background:rgba(0,0,0,0.4);padding:4px;border-radius:8px;
    }
    #toolbar button, #toolbar select {
      margin:3px 0;width:36px;height:36px;font-size:14px;
      text-align:center;cursor:pointer;
      background:rgba(255,255,255,0.1);border:none;border-radius:6px;
      color:#fff;
    }
    #toolbar select { width:42px;height:28px;font-size:12px;color:#000; }
    #toggleMenu {
      position:fixed;top:10px;left:10px;z-index:21;
      width:36px;height:36px;border-radius:50%;
      border:none;background:#0008;color:#fff;font-size:18px;
      cursor:pointer;
    }
  </style>
</head>
<body>
  <div class="reveal">
    <div class="slides">
      <section>
      <div class="question" id="q1">
        <div class="summary-box">
          <p><strong>Câu 1</strong>. Cho hàm số $f(x)$ có bảng biến thiên như sau:</p>
          <p><img src="data/im/30.png" alt="Bảng biến thiên"></p>
          <p>Hàm số đã cho đồng biến trên khoảng nào sau đây?</p>
          <div class="options">
            <label><input name="q1" onchange="showOptionIcon('q1','A','B')" type="radio" value="A"/> A. $(-\infty;1)$ <span class="option-icon" id="icon-q1-A"></span></label>
            <label><input name="q1" onchange="showOptionIcon('q1','B','B')" type="radio" value="B"/> B. $(3;+\infty)$ <span class="option-icon" id="icon-q1-B"></span></label>
            <label><input name="q1" onchange="showOptionIcon('q1','C','B')" type="radio" value="C"/> C. $(1;3)$ <span class="option-icon" id="icon-q1-C"></span></label>
            <label><input name="q1" onchange="showOptionIcon('q1','D','B')" type="radio" value="D"/> D. $(3;-\,+\infty)$ <span class="option-icon" id="icon-q1-D"></span></label>
          </div>
          <div class="answer-check">
            <button onclick="checkAnswer('q1','B')">Kiểm tra</button>
            <button class="solution-toggle" onclick="toggleSolution('solution-q1')">Xem lời giải</button>
            <div class="solution" id="solution-q1">
              <p>Hàm số đồng biến trên $(3;+\infty)$.</p>
              <p>👉 Đáp án đúng là <strong>B</strong>.</p>
            </div>
          </div>
        </div>
      </div>
    </section>
      <!-- Slide 1 -->
      <section>
        <h2>📘 ỨNG DỤNG ĐẠO HÀM</h2>
        <p>Môn Toán - Lớp 12</p>
      </section>

      <!-- Slide 2: Định nghĩa -->
      <section>
        <div class="box definition">
          <b>📘 Định nghĩa:</b><br>
          Hàm số $y=f(x)$ được gọi là <b>đồng biến</b> trên K nếu:
          $$ \forall x_1 < x_2 \in K \Rightarrow f(x_1) < f(x_2) $$
        </div>
      </section>

      <!-- Slide 3: Định lí -->
      <section>
        <div class="box theorem">
          <b>📐 Định lí:</b><br>
          Nếu $f'(x) > 0, \forall x \in K$ thì hàm số $f(x)$ đồng biến trên K.
        </div>
      </section>

      <!-- Slide 4: Ghi nhớ -->
      <section>
        <div class="box remember">
          💡 Ghi nhớ: Muốn xét tính đơn điệu → tính đạo hàm $y'$ → xét dấu của $y'$.
        </div>
      </section>

      <!-- Slide 5: Dạng toán -->
      <section>
        <div class="box dangt">
          📝 <b>Dạng toán:</b> Xét tính đơn điệu của hàm số đa thức bậc 3.
        </div>
      </section>

      <!-- Slide 6: Phương pháp -->
      <section>
        <div class="box method">
          🔑 <b>Phương pháp:</b>
          <ol>
            <li>Tìm tập xác định $D$.</li>
            <li>Tính đạo hàm $y'$.</li>
            <li>Giải $y'=0$ để tìm điểm tới hạn.</li>
            <li>Lập bảng xét dấu $y'$.</li>
          </ol>
        </div>
      </section>

      <!-- Slide 7: Ví dụ -->
      <section>
        <div class="box example">
          🧩 <b>Ví dụ minh họa:</b><br>
          Xét tính đơn điệu của 
          $$ y = 4x^3 + 3x^2 - 36x + 6 + \frac{1}{1+x^2+x^4+x^6+x^8+x^{10}} $$
          (công thức dài để test).
        </div>
      </section>

      <!-- Slide 8: Lời giải -->
      <section>
        <div class="box solution">
          ✅ <b>Lời giải:</b><br>
          $y' = 12x^2 + 6x - 36 = 6(2x^2 + x - 6) = 6(2x-3)(x+2)$ <br>
          ⇒ $y'=0$ tại $x=-2$ và $x=\tfrac{3}{2}$.<br>
          Lập bảng xét dấu → KL: Hàm số đồng biến trên $(-2,\tfrac{3}{2}) \cup (\tfrac{3}{2}, +\infty)$, nghịch biến trên $(-\infty,-2) \cup (\tfrac{3}{2},+\infty)$.
        </div>
      </section>

      <!-- Slide 9 -->
      <section>
        <h2>🎉 Kết thúc bài giảng</h2>
        <p>Dùng bút vẽ để giải thích thêm trực tiếp trên bảng xanh.</p>
      </section>
      <section>
  <h2>Tiệm cận của đồ thị hàm số</h2>
</section>

<section>
  <h3>Tiệm cận đứng</h3>

  <section>
    <div class="box definition">
      📘 <b>Định nghĩa:</b><br>
      Đường thẳng $x=x_0$ được gọi là tiệm cận đứng nếu ...
    </div>
  </section>

  <section>
    <div class="box note">
      ⚠️ <b>Lưu ý:</b> Mỗi đồ thị có thể có nhiều tiệm cận đứng.
    </div>
  </section>

  <section>
    <div class="box example">
      🧩 <b>Ví dụ:</b><br>
      Tìm tiệm cận đứng của $y=\frac{2x-1}{x-1}$.
    </div>
  </section>

  <section>
    <div class="box solution">
      ✅ <b>Lời giải:</b><br>
      Ta có ...
    </div>
  </section>
</section>
<section>
  <h2>Tiệm cận của đồ thị hàm số</h2>
</section>

<section>
  <h3>Tiệm cận đứng</h3>

  <section>
    <div class="box example">
      🧩 <b>Ví dụ:</b><br>
      Tìm tiệm cận đứng của $y=\frac{2x-1}{x-1}$.
    </div>
  </section>

  <section>
    <div class="box example">
      🧩 <b>Ví dụ:</b><br>
      Tìm tiệm cận đứng của $y=\frac{2x-1}{x-1}$.
    </div>
    <div class="box solution">
      ✅ <b>Lời giải:</b><br>
      Vì $x=1$ làm mẫu bằng 0 nên đồ thị có tiệm cận đứng $x=1$.
    </div>
  </section>
</section>
<section>
  <h2>Bài 2: Hàm số bậc hai</h2>
  <div class="goals">
    <h3>Mục tiêu bài học</h3>
    <ul>
      <li>Nhận biết được hàm số bậc hai</li>
      <li>Hiểu và vẽ được đồ thị hàm số bậc hai</li>
      <li>Xác định được các tính chất cơ bản của hàm số bậc hai</li>
    </ul>
  </div>
</section>

<section>
  <section>
    <h3>1. Định nghĩa hàm số bậc hai</h3>
  </section>
  
  <section>
    <div class="definition">
      <h4>📘 Định nghĩa</h4>
      <p>Hàm số bậc hai là hàm số được cho bởi công thức:</p>
      <p>$$y = ax^2 + bx + c \quad (a \neq 0)$$</p>
      <p>trong đó $a$, $b$, $c$ là các hằng số.</p>
    </div>
  </section>
  
  <section>
    <div class="note">
      <h4>⚠️ Chú ý</h4>
      <p>Hệ số $a$ phải khác 0. Nếu $a = 0$ thì hàm số trở thành hàm số bậc nhất.</p>
    </div>
  </section>
</section>

<section>
  <section>
    <h3>2. Đồ thị hàm số bậc hai</h3>
  </section>
  
  <section>
    <div class="theorem">
      <h4>📐 Tính chất đồ thị</h4>
      <p>Đồ thị của hàm số $y = ax^2 + bx + c$ là một <strong>parabol</strong>:</p>
      <ul>
        <li>Có đỉnh $I\left(-\frac{b}{2a}; -\frac{\Delta}{4a}\right)$ với $\Delta = b^2 - 4ac$</li>
        <li>Nhận đường thẳng $x = -\frac{b}{2a}$ làm trục đối xứng</li>
        <li>Bề lõm quay lên trên nếu $a > 0$, quay xuống dưới nếu $a < 0$</li>
      </ul>
    </div>
  </section>
  
  <section>
    <div class="method">
      <h4>🔑 Cách vẽ đồ thị hàm số bậc hai</h4>
      <ol>
        <li>Xác định tọa độ đỉnh $I$</li>
        <li>Xác định trục đối xứng</li>
        <li>Tìm giao điểm với trục tung $(0; c)$</li>
        <li>Tìm giao điểm với trục hoành (nếu có)</li>
        <li>Lập bảng giá trị và vẽ đồ thị</li>
      </ol>
    </div>
  </section>
  
  <section>
    <div class="example">
      <h4>🧩 Ví dụ 1</h4>
      <p>Vẽ đồ thị hàm số: $y = x^2 - 2x - 3$</p>
    </div>
  </section>
  
  <section>
    <div class="example">
      <h4>🧩 Ví dụ 1</h4>
      <p>Vẽ đồ thị hàm số: $y = x^2 - 2x - 3$</p>
    </div>
    <div class="solution">
      <h4>✅ Lời giải</h4>
      <p><strong>Bước 1:</strong> Xác định đỉnh</p>
      <p>$a = 1$, $b = -2$, $c = -3$</p>
      <p>Đỉnh $I\left(-\frac{-2}{2\cdot1}; -\frac{(-2)^2 - 4\cdot1\cdot(-3)}{4\cdot1}\right) = I(1; -4)$</p>
    </div>
  </section>
  
  <section>
    <div class="solution">
      <h4>✅ Lời giải (tiếp)</h4>
      <p><strong>Bước 2:</strong> Trục đối xứng: $x = 1$</p>
      <p><strong>Bước 3:</strong> Giao với trục tung: $(0; -3)$</p>
      <p><strong>Bước 4:</strong> Giao với trục hoành:</p>
      <p>Giải $x^2 - 2x - 3 = 0$ được $x = -1$ và $x = 3$</p>
      <p><strong>Bước 5:</strong> Lập bảng giá trị và vẽ parabol</p>
    </div>
  </section>
</section>

<section>
  <section>
    <h3>3. Sự biến thiên của hàm số bậc hai</h3>
  </section>
  
  <section>
    <div class="theorem">
      <h4>📐 Bảng biến thiên</h4>
      <p><strong>Trường hợp $a > 0$:</strong></p>
      <ul>
        <li>Hàm số nghịch biến trên $(-\infty; -\frac{b}{2a})$</li>
        <li>Hàm số đồng biến trên $(-\frac{b}{2a}; +\infty)$</li>
        <li>Giá trị nhỏ nhất: $y = -\frac{\Delta}{4a}$ tại $x = -\frac{b}{2a}$</li>
      </ul>
    </div>
  </section>
  
  <section>
    <div class="remember">
      <h4>💡 Ghi nhớ</h4>
      <p>Dấu của hệ số $a$ quyết định hình dạng parabol:</p>
      <ul>
        <li>$a > 0$: bề lõm quay lên → có điểm cực tiểu</li>
        <li>$a < 0$: bề lõm quay xuống → có điểm cực đại</li>
      </ul>
    </div>
  </section>
  
  <section>
    <div class="example">
      <h4>🧩 Ví dụ 2</h4>
      <p>Lập bảng biến thiên của hàm số: $y = -2x^2 + 4x + 1$</p>
    </div>
  </section>
  
  <section>
    <div class="example">
      <h4>🧩 Ví dụ 2</h4>
      <p>Lập bảng biến thiên của hàm số: $y = -2x^2 + 4x + 1$</p>
    </div>
    <div class="solution">
      <h4>✅ Lời giải</h4>
      <p>$a = -2 < 0$, $b = 4$, $c = 1$</p>
      <p>Đỉnh $I\left(-\frac{4}{2\cdot(-2)}; -\frac{4^2 - 4\cdot(-2)\cdot1}{4\cdot(-2)}\right) = I(1; 3)$</p>
      <p>Hàm số đồng biến trên $(-\infty; 1)$ và nghịch biến trên $(1; +\infty)$</p>
    </div>
  </section>
</section>



    </div>
  </div>

  <!-- Canvas -->
  <canvas id="drawCanvas"></canvas>

  <!-- Toggle menu -->
  <button id="toggleMenu">☰</button>

  <!-- Toolbar -->
  <div id="toolbar" style="display:none;">
    <button id="homeBtn" title="Trang chủ">🏠</button>
    <button id="toggleDraw" title="Bút vẽ">✏️</button>
    <select id="colorPicker" title="Màu">
      <option value="yellow">🟡</option>
      <option value="white">⚪</option>
      <option value="red">🔴</option>
      <option value="cyan">🔵</option>
    </select>
    <select id="lineWidthPicker" title="Độ dày">
      <option value="2">Mảnh</option>
      <option value="3" selected>Vừa</option>
      <option value="6">Đậm</option>
    </select>
    <button id="lineBtn" title="Đoạn">▬</button>
    <button id="dashedLineBtn" title="Đoạn đứt">– –</button>
    <button id="circleBtn" title="Tròn">⚪</button>
    <button id="ellipseBtn" title="Elip">⬭</button>
    <button id="undoBtn" title="Undo">↩️</button>
    <button id="clearCanvas" title="Xóa hết">🧹</button>
    <button id="fullscreen" title="Full">⛶</button>
  </div>

  <!-- Reveal.js -->
  <script src="https://unpkg.com/reveal.js/dist/reveal.js"></script>
  <script>Reveal.initialize({hash:true,slideNumber:true,transition:'slide'});</script>

  <!-- Script vẽ -->
  <script>
    const canvas=document.getElementById("drawCanvas"),ctx=canvas.getContext("2d");
    let drawing=false,mode="free",color="yellow",lineW=3,startX=0,startY=0;
    let history=[]; // lưu snapshot để Undo

    function resizeCanvas(){
      canvas.width=window.innerWidth;canvas.height=window.innerHeight;
      saveState();
    }
    resizeCanvas();window.addEventListener("resize",resizeCanvas);

    function saveState(){history.push(canvas.toDataURL());}
    function restoreState(){
      if(history.length>1){history.pop();
        let img=new Image();img.src=history[history.length-1];
        img.onload=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);ctx.drawImage(img,0,0);}
      }
    }

    function startDraw(e){startX=e.clientX;startY=e.clientY;if(mode==="free"){drawing=true;ctx.beginPath();ctx.moveTo(startX,startY);}}
    function endDraw(e){
      ctx.lineWidth=lineW;
      if(mode==="line"||mode==="dashedLine"){
        ctx.setLineDash(mode==="dashedLine"?[10,5]:[]);
        ctx.strokeStyle=color;ctx.beginPath();ctx.moveTo(startX,startY);ctx.lineTo(e.clientX,e.clientY);ctx.stroke();ctx.setLineDash([]);
      }
      if(mode==="circle"||mode==="ellipse"){
        const rx=Math.abs(e.clientX-startX),ry=Math.abs(e.clientY-startY);
        ctx.strokeStyle=color;
        if(mode==="circle"){const r=Math.sqrt(rx*rx+ry*ry);ctx.beginPath();ctx.arc(startX,startY,r,0,2*Math.PI);ctx.stroke();}
        else{ctx.setLineDash([8,4]);ctx.beginPath();ctx.ellipse(startX,startY,rx,ry,0,0,2*Math.PI);ctx.stroke();ctx.setLineDash([]);}
      }
      drawing=false;saveState();
    }
    function draw(e){
      if(!drawing||mode!=="free")return;
      ctx.strokeStyle=color;ctx.lineWidth=lineW;ctx.lineCap="round";
      ctx.lineTo(e.clientX,e.clientY);ctx.stroke();
      ctx.beginPath();ctx.moveTo(e.clientX,e.clientY);
    }
    canvas.addEventListener("mousedown",startDraw);canvas.addEventListener("mouseup",endDraw);canvas.addEventListener("mousemove",draw);

    // Toolbar actions
    document.getElementById("toggleDraw").onclick=()=>{mode="free";canvas.style.pointerEvents="auto";};
    document.getElementById("lineBtn").onclick=()=>{mode="line";canvas.style.pointerEvents="auto";};
    document.getElementById("dashedLineBtn").onclick=()=>{mode="dashedLine";canvas.style.pointerEvents="auto";};
    document.getElementById("circleBtn").onclick=()=>{mode="circle";canvas.style.pointerEvents="auto";};
    document.getElementById("ellipseBtn").onclick=()=>{mode="ellipse";canvas.style.pointerEvents="auto";};
    document.getElementById("colorPicker").onchange=(e)=>color=e.target.value;
    document.getElementById("lineWidthPicker").onchange=(e)=>lineW=parseInt(e.target.value);
    document.getElementById("clearCanvas").onclick=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);saveState();};
    document.getElementById("undoBtn").onclick=()=>restoreState();
    document.getElementById("fullscreen").onclick=()=>{if(!document.fullscreenElement)document.documentElement.requestFullscreen();else document.exitFullscreen();};
    document.getElementById("homeBtn").onclick=()=>{window.location.href="index.html";};
    document.getElementById("toggleMenu").onclick=()=>{
      const tb=document.getElementById("toolbar");
      tb.style.display=(tb.style.display==="none")?"flex":"none";
    };

    canvas.style.pointerEvents="none";
    saveState();
  </script>
  <script>
  Reveal.initialize({
    hash: true,
    slideNumber: true
  });

  function showOptionIcon(qid, selected, correct) {
    const icons = document.querySelectorAll(`#${qid} .option-icon`);
    icons.forEach(ic => ic.textContent = "");
    const icon = document.getElementById(`icon-${qid}-${selected}`);
    if (selected === correct) {
      icon.textContent = "✅";
    } else {
      icon.textContent = "❌";
    }
  }

  function toggleSolution(id) {
    const sol = document.getElementById(id);
    sol.style.display = (sol.style.display === "block") ? "none" : "block";
  }

  function checkAnswer(qid, correct) {
    const radios = document.querySelectorAll(`input[name="${qid}"]`);
    let chosen = null;
    radios.forEach(r => { if (r.checked) chosen = r.value; });
    if (!chosen) { alert("Hãy chọn một đáp án!"); return; }
    showOptionIcon(qid, chosen, correct);
  }
</script>
</body>
</html>
